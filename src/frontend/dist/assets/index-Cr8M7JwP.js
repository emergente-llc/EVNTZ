var nf=Object.defineProperty;var bs=e=>{throw TypeError(e)};var af=(e,t,r)=>t in e?nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _r=(e,t,r)=>af(e,typeof t!="symbol"?t+"":t,r),ms=(e,t,r)=>t.has(e)||bs("Cannot "+r);var wn=(e,t,r)=>(ms(e,t,"read from private field"),r?r.call(e):t.get(e)),vn=(e,t,r)=>t.has(e)?bs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_n=(e,t,r,n)=>(ms(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("sw.js").then(function(r){console.log("ServiceWorker registration successful with scope: ",r.scope)},function(r){console.error("ServiceWorker registration failed: ",r)});var e=function(){var r=window.navigator.userAgent.toLowerCase();return/ipad/.test(r)};if(function(){var r=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(r)}()&&!("standalone"in window.navigator&&window.navigator.standalone)){var t=document.createElement("div");t.style.cssText="display: block;position: fixed;z-index:1000000;padding: 5px 7px;left: 2%;"+(e()?"top:15px;":"bottom: 15px;")+"width: 96%;border-radius: 3px;background-color: #f1f1f1;font-size: 14px;font-family: sans-serif;text-align: center;",t.innerHTML='<span id="triangle-down" style="'+(e()?"opacity:0;":"opacity:1;")+'position: absolute;width: 0;height: 0;bottom: -7px;left: 50%;transform: translateX(-50%);border-left: 7px solid transparent;border-right: 7px solid transparent;border-top: 7px solid #fff;"></span><span>Install this webapp on your device: tap <span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 50 50" height="15px" id="Layer_1" version="1.1" viewBox="0 0 50 50" width="15px" xml:space="preserve"><polyline fill="none" points="17,10 25,2 33,10   " stroke="#000000" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><line fill="none" stroke="#000000" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" x1="25" x2="25" y1="32" y2="2.333"/><rect fill="none" height="50" width="50"/><path d="M17,17H8v32h34V17h-9" fill="none" stroke="#000000" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></span> and then Add to homescreen.</span>',window.document.body.appendChild(t),setTimeout(function(){window.document.body.removeChild(t)},4e3)}});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ln=globalThis,za=Ln.ShadowRoot&&(Ln.ShadyCSS===void 0||Ln.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,qo=Symbol(),ws=new WeakMap;let sf=class{constructor(t,r,n){if(this._$cssResult$=!0,n!==qo)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(za&&t===void 0){const n=r!==void 0&&r.length===1;n&&(t=ws.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&ws.set(r,t))}return t}toString(){return this.cssText}};const of=e=>new sf(typeof e=="string"?e:e+"",void 0,qo),cf=(e,t)=>{if(za)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of t){const n=document.createElement("style"),i=Ln.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,e.appendChild(n)}},vs=za?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const n of t.cssRules)r+=n.cssText;return of(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:uf,defineProperty:lf,getOwnPropertyDescriptor:ff,getOwnPropertyNames:hf,getOwnPropertySymbols:df,getPrototypeOf:pf}=Object,er=globalThis,_s=er.trustedTypes,gf=_s?_s.emptyScript:"",Hi=er.reactiveElementPolyfillSupport,Xr=(e,t)=>e,ui={toAttribute(e,t){switch(t){case Boolean:e=e?gf:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},Ha=(e,t)=>!uf(e,t),Es={attribute:!0,type:String,converter:ui,reflect:!1,hasChanged:Ha};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),er.litPropertyMetadata??(er.litPropertyMetadata=new WeakMap);class Er extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=Es){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(t,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(t,n,r);i!==void 0&&lf(this.prototype,t,i)}}static getPropertyDescriptor(t,r,n){const{get:i,set:a}=ff(this.prototype,t)??{get(){return this[r]},set(s){this[r]=s}};return{get(){return i==null?void 0:i.call(this)},set(s){const c=i==null?void 0:i.call(this);a.call(this,s),this.requestUpdate(t,c,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Es}static _$Ei(){if(this.hasOwnProperty(Xr("elementProperties")))return;const t=pf(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Xr("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Xr("properties"))){const r=this.properties,n=[...hf(r),...df(r)];for(const i of n)this.createProperty(i,r[i])}const t=this[Symbol.metadata];if(t!==null){const r=litPropertyMetadata.get(t);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const i of n)r.unshift(vs(i))}else t!==void 0&&r.push(vs(t));return r}static _$Eu(t,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(r=>r(this))}addController(t){var r;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)==null||r.call(t))}removeController(t){var r;(r=this._$EO)==null||r.delete(t)}_$E_(){const t=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return cf(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(t,r,n){this._$AK(t,n)}_$EC(t,r){var a;const n=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,n);if(i!==void 0&&n.reflect===!0){const s=(((a=n.converter)==null?void 0:a.toAttribute)!==void 0?n.converter:ui).toAttribute(r,n.type);this._$Em=t,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(t,r){var a;const n=this.constructor,i=n._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const s=n.getPropertyOptions(i),c=typeof s.converter=="function"?{fromAttribute:s.converter}:((a=s.converter)==null?void 0:a.fromAttribute)!==void 0?s.converter:ui;this._$Em=i,this[i]=c.fromAttribute(r,s.type),this._$Em=null}}requestUpdate(t,r,n){if(t!==void 0){if(n??(n=this.constructor.getPropertyOptions(t)),!(n.hasChanged??Ha)(this[t],r))return;this.P(t,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,r,n){this._$AL.has(t)||this._$AL.set(t,r),n.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,s]of this._$Ep)this[a]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[a,s]of i)s.wrapped!==!0||this._$AL.has(a)||this[a]===void 0||this.P(a,this[a],s)}let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(i=>{var a;return(a=i.hostUpdate)==null?void 0:a.call(i)}),this.update(r)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(r)}willUpdate(t){}_$AE(t){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(t){}firstUpdated(t){}}Er.elementStyles=[],Er.shadowRootOptions={mode:"open"},Er[Xr("elementProperties")]=new Map,Er[Xr("finalized")]=new Map,Hi==null||Hi({ReactiveElement:Er}),(er.reactiveElementVersions??(er.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qr=globalThis,li=Qr.trustedTypes,xs=li?li.createPolicy("lit-html",{createHTML:e=>e}):void 0,zo="$lit$",Xt=`lit$${(Math.random()+"").slice(9)}$`,Ho="?"+Xt,yf=`<${Ho}>`,yr=document,rn=()=>yr.createComment(""),nn=e=>e===null||typeof e!="object"&&typeof e!="function",Go=Array.isArray,bf=e=>Go(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Gi=`[ 	
\f\r]`,qr=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ts=/-->/g,Is=/>/g,sr=RegExp(`>|${Gi}(?:([^\\s"'>=/]+)(${Gi}*=${Gi}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),As=/'/g,Bs=/"/g,Ko=/^(?:script|style|textarea|title)$/i,mf=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),kt=mf(1),Ur=Symbol.for("lit-noChange"),Je=Symbol.for("lit-nothing"),Ss=new WeakMap,dr=yr.createTreeWalker(yr,129);function Yo(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return xs!==void 0?xs.createHTML(t):t}const wf=(e,t)=>{const r=e.length-1,n=[];let i,a=t===2?"<svg>":"",s=qr;for(let c=0;c<r;c++){const u=e[c];let h,f,y=-1,P=0;for(;P<u.length&&(s.lastIndex=P,f=s.exec(u),f!==null);)P=s.lastIndex,s===qr?f[1]==="!--"?s=Ts:f[1]!==void 0?s=Is:f[2]!==void 0?(Ko.test(f[2])&&(i=RegExp("</"+f[2],"g")),s=sr):f[3]!==void 0&&(s=sr):s===sr?f[0]===">"?(s=i??qr,y=-1):f[1]===void 0?y=-2:(y=s.lastIndex-f[2].length,h=f[1],s=f[3]===void 0?sr:f[3]==='"'?Bs:As):s===Bs||s===As?s=sr:s===Ts||s===Is?s=qr:(s=sr,i=void 0);const p=s===sr&&e[c+1].startsWith("/>")?" ":"";a+=s===qr?u+yf:y>=0?(n.push(h),u.slice(0,y)+zo+u.slice(y)+Xt+p):u+Xt+(y===-2?c:p)}return[Yo(e,a+(e[r]||"<?>")+(t===2?"</svg>":"")),n]};let da=class Wo{constructor({strings:t,_$litType$:r},n){let i;this.parts=[];let a=0,s=0;const c=t.length-1,u=this.parts,[h,f]=wf(t,r);if(this.el=Wo.createElement(h,n),dr.currentNode=this.el.content,r===2){const y=this.el.content.firstChild;y.replaceWith(...y.childNodes)}for(;(i=dr.nextNode())!==null&&u.length<c;){if(i.nodeType===1){if(i.hasAttributes())for(const y of i.getAttributeNames())if(y.endsWith(zo)){const P=f[s++],p=i.getAttribute(y).split(Xt),g=/([.?@])?(.*)/.exec(P);u.push({type:1,index:a,name:g[2],strings:p,ctor:g[1]==="."?_f:g[1]==="?"?Ef:g[1]==="@"?xf:Ti}),i.removeAttribute(y)}else y.startsWith(Xt)&&(u.push({type:6,index:a}),i.removeAttribute(y));if(Ko.test(i.tagName)){const y=i.textContent.split(Xt),P=y.length-1;if(P>0){i.textContent=li?li.emptyScript:"";for(let p=0;p<P;p++)i.append(y[p],rn()),dr.nextNode(),u.push({type:2,index:++a});i.append(y[P],rn())}}}else if(i.nodeType===8)if(i.data===Ho)u.push({type:2,index:a});else{let y=-1;for(;(y=i.data.indexOf(Xt,y+1))!==-1;)u.push({type:7,index:a}),y+=Xt.length-1}a++}}static createElement(t,r){const n=yr.createElement("template");return n.innerHTML=t,n}};function kr(e,t,r=e,n){var s,c;if(t===Ur)return t;let i=n!==void 0?(s=r._$Co)==null?void 0:s[n]:r._$Cl;const a=nn(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==a&&((c=i==null?void 0:i._$AO)==null||c.call(i,!1),a===void 0?i=void 0:(i=new a(e),i._$AT(e,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(t=kr(e,i._$AS(e,t.values),i,n)),t}class vf{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:r},parts:n}=this._$AD,i=((t==null?void 0:t.creationScope)??yr).importNode(r,!0);dr.currentNode=i;let a=dr.nextNode(),s=0,c=0,u=n[0];for(;u!==void 0;){if(s===u.index){let h;u.type===2?h=new Ga(a,a.nextSibling,this,t):u.type===1?h=new u.ctor(a,u.name,u.strings,this,t):u.type===6&&(h=new Tf(a,this,t)),this._$AV.push(h),u=n[++c]}s!==(u==null?void 0:u.index)&&(a=dr.nextNode(),s++)}return dr.currentNode=yr,i}p(t){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,r),r+=n.strings.length-2):n._$AI(t[r])),r++}}let Ga=class Zo{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,r,n,i){this.type=2,this._$AH=Je,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=kr(this,t,r),nn(t)?t===Je||t==null||t===""?(this._$AH!==Je&&this._$AR(),this._$AH=Je):t!==this._$AH&&t!==Ur&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):bf(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==Je&&nn(this._$AH)?this._$AA.nextSibling.data=t:this.T(yr.createTextNode(t)),this._$AH=t}$(t){var a;const{values:r,_$litType$:n}=t,i=typeof n=="number"?this._$AC(t):(n.el===void 0&&(n.el=da.createElement(Yo(n.h,n.h[0]),this.options)),n);if(((a=this._$AH)==null?void 0:a._$AD)===i)this._$AH.p(r);else{const s=new vf(i,this),c=s.u(this.options);s.p(r),this.T(c),this._$AH=s}}_$AC(t){let r=Ss.get(t.strings);return r===void 0&&Ss.set(t.strings,r=new da(t)),r}k(t){Go(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const a of t)i===r.length?r.push(n=new Zo(this.S(rn()),this.S(rn()),this,this.options)):n=r[i],n._$AI(a),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(t=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var r;this._$AM===void 0&&(this._$Cv=t,(r=this._$AP)==null||r.call(this,t))}};class Ti{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,n,i,a){this.type=1,this._$AH=Je,this._$AN=void 0,this.element=t,this.name=r,this._$AM=i,this.options=a,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Je}_$AI(t,r=this,n,i){const a=this.strings;let s=!1;if(a===void 0)t=kr(this,t,r,0),s=!nn(t)||t!==this._$AH&&t!==Ur,s&&(this._$AH=t);else{const c=t;let u,h;for(t=a[0],u=0;u<a.length-1;u++)h=kr(this,c[n+u],r,u),h===Ur&&(h=this._$AH[u]),s||(s=!nn(h)||h!==this._$AH[u]),h===Je?t=Je:t!==Je&&(t+=(h??"")+a[u+1]),this._$AH[u]=h}s&&!i&&this.j(t)}j(t){t===Je?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class _f extends Ti{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Je?void 0:t}}class Ef extends Ti{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Je)}}let xf=class extends Ti{constructor(t,r,n,i,a){super(t,r,n,i,a),this.type=5}_$AI(t,r=this){if((t=kr(this,t,r,0)??Je)===Ur)return;const n=this._$AH,i=t===Je&&n!==Je||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,a=t!==Je&&(n===Je||i);i&&this.element.removeEventListener(this.name,this,n),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,t):this._$AH.handleEvent(t)}};class Tf{constructor(t,r,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){kr(this,t)}}const Ki=Qr.litHtmlPolyfillSupport;Ki==null||Ki(da,Ga),(Qr.litHtmlVersions??(Qr.litHtmlVersions=[])).push("3.1.2");const If=(e,t,r)=>{const n=(r==null?void 0:r.renderBefore)??t;let i=n._$litPart$;if(i===void 0){const a=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new Ga(t.insertBefore(rn(),a),a,void 0,r??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Or extends Er{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const t=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=t.firstChild),t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=If(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Ur}}var Do;Or._$litElement$=!0,Or.finalized=!0,(Do=globalThis.litElementHydrateSupport)==null||Do.call(globalThis,{LitElement:Or});const Yi=globalThis.litElementPolyfillSupport;Yi==null||Yi({LitElement:Or});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jo=e=>(t,r)=>{r!==void 0?r.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Af={attribute:!0,type:String,converter:ui,reflect:!1,hasChanged:Ha},Bf=(e=Af,t,r)=>{const{kind:n,metadata:i}=r;let a=globalThis.litPropertyMetadata.get(i);if(a===void 0&&globalThis.litPropertyMetadata.set(i,a=new Map),a.set(r.name,e),n==="accessor"){const{name:s}=r;return{set(c){const u=t.get.call(this);t.set.call(this,c),this.requestUpdate(s,u,e)},init(c){return c!==void 0&&this.P(s,void 0,e),c}}}if(n==="setter"){const{name:s}=r;return function(c){const u=this[s];t.call(this,c),this.requestUpdate(s,u,e)}}throw Error("Unsupported decorator location: "+n)};function Lr(e){return(t,r)=>typeof r=="object"?Bf(e,t,r):((n,i,a)=>{const s=i.hasOwnProperty(a);return i.constructor.createProperty(a,s?{...n,wrapped:!0}:n),s?Object.getOwnPropertyDescriptor(i,a):void 0})(e,t,r)}const Sf="modulepreload",Nf=function(e){return"/"+e},Ns={},Of=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.all(r.map(c=>{if(c=Nf(c),c in Ns)return;Ns[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Sf,u||(f.as="script",f.crossOrigin=""),f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((y,P)=>{f.addEventListener("load",y),f.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var $f=Object.create,Ii=Object.defineProperty,Rf=Object.getOwnPropertyDescriptor,Pf=Object.getOwnPropertyNames,Uf=Object.getPrototypeOf,kf=Object.prototype.hasOwnProperty,Cf=(e,t)=>()=>(e&&(t=e(e=0)),t),ze=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ai=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},Xo=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Pf(t))!kf.call(e,i)&&i!==r&&Ii(e,i,{get:()=>t[i],enumerable:!(n=Rf(t,i))||n.enumerable});return e},ir=(e,t,r)=>(r=e!=null?$f(Uf(e)):{},Xo(!e||!e.__esModule?Ii(r,"default",{value:e,enumerable:!0}):r,e)),Mf=e=>Xo(Ii({},"__esModule",{value:!0}),e),Qo={};Ai(Qo,{Buffer:()=>oe,INSPECT_MAX_BYTES:()=>ba,SlowBuffer:()=>Hf,isBuffer:()=>uc,kMaxLength:()=>hc});function ec(){Si=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)mt[t]=e[t],lt[e.charCodeAt(t)]=t;lt[45]=62,lt[95]=63}function Lf(e){Si||ec();var t,r,n,i,a,s,c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=e[c-2]==="="?2:e[c-1]==="="?1:0,s=new fc(c*3/4-a),n=a>0?c-4:c;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=lt[e.charCodeAt(t)]<<18|lt[e.charCodeAt(t+1)]<<12|lt[e.charCodeAt(t+2)]<<6|lt[e.charCodeAt(t+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=i&255;return a===2?(i=lt[e.charCodeAt(t)]<<2|lt[e.charCodeAt(t+1)]>>4,s[u++]=i&255):a===1&&(i=lt[e.charCodeAt(t)]<<10|lt[e.charCodeAt(t+1)]<<4|lt[e.charCodeAt(t+2)]>>2,s[u++]=i>>8&255,s[u++]=i&255),s}function Ff(e){return mt[e>>18&63]+mt[e>>12&63]+mt[e>>6&63]+mt[e&63]}function Df(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(Ff(n));return i.join("")}function Os(e){Si||ec();for(var t,r=e.length,n=r%3,i="",a=[],s=16383,c=0,u=r-n;c<u;c+=s)a.push(Df(e,c,c+s>u?u:c+s));return n===1?(t=e[r-1],i+=mt[t>>2],i+=mt[t<<4&63],i+="=="):n===2&&(t=(e[r-2]<<8)+e[r-1],i+=mt[t>>10],i+=mt[t>>4&63],i+=mt[t<<2&63],i+="="),a.push(i),a.join("")}function En(e,t,r,n,i){var a,s,c=i*8-n-1,u=(1<<c)-1,h=u>>1,f=-7,y=r?i-1:0,P=r?-1:1,p=e[t+y];for(y+=P,a=p&(1<<-f)-1,p>>=-f,f+=c;f>0;a=a*256+e[t+y],y+=P,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=n;f>0;s=s*256+e[t+y],y+=P,f-=8);if(a===0)a=1-h;else{if(a===u)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-h}return(p?-1:1)*s*Math.pow(2,a-n)}function tc(e,t,r,n,i,a){var s,c,u,h=a*8-i-1,f=(1<<h)-1,y=f>>1,P=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,g=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+y>=1?t+=P/u:t+=P*Math.pow(2,1-y),t*u>=2&&(s++,u/=2),s+y>=f?(c=0,s=f):s+y>=1?(c=(t*u-1)*Math.pow(2,i),s=s+y):(c=t*Math.pow(2,y-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=c&255,p+=g,c/=256,i-=8);for(s=s<<i|c,h+=i;h>0;e[r+p]=s&255,p+=g,s/=256,h-=8);e[r+p-g]|=v*128}function fi(){return oe.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ct(e,t){if(fi()<t)throw new RangeError("Invalid typed array length");return oe.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=oe.prototype):(e===null&&(e=new oe(t)),e.length=t),e}function oe(e,t,r){if(!oe.TYPED_ARRAY_SUPPORT&&!(this instanceof oe))return new oe(e,t,r);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return pa(this,e)}return rc(this,e,t,r)}function rc(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?qf(e,t,r,n):typeof t=="string"?Vf(e,t,r):zf(e,t)}function nc(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function jf(e,t,r,n){return nc(t),t<=0?Ct(e,t):r!==void 0?typeof n=="string"?Ct(e,t).fill(r,n):Ct(e,t).fill(r):Ct(e,t)}function pa(e,t){if(nc(t),e=Ct(e,t<0?0:Ka(t)|0),!oe.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function Vf(e,t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!oe.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=ic(t,r)|0;e=Ct(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function ga(e,t){var r=t.length<0?0:Ka(t.length)|0;e=Ct(e,r);for(var n=0;n<r;n+=1)e[n]=t[n]&255;return e}function qf(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,r):t=new Uint8Array(t,r,n),oe.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=oe.prototype):e=ga(e,t),e}function zf(e,t){if(It(t)){var r=Ka(t.length)|0;return e=Ct(e,r),e.length===0||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||uh(t.length)?Ct(e,0):ga(e,t);if(t.type==="Buffer"&&ya(t.data))return ga(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Ka(e){if(e>=fi())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+fi().toString(16)+" bytes");return e|0}function Hf(e){return+e!=e&&(e=0),oe.alloc(+e)}function It(e){return!!(e!=null&&e._isBuffer)}function ic(e,t){if(It(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return hi(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return cc(e).length;default:if(n)return hi(e).length;t=(""+t).toLowerCase(),n=!0}}function Gf(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return rh(this,t,r);case"utf8":case"utf-8":return sc(this,t,r);case"ascii":return eh(this,t,r);case"latin1":case"binary":return th(this,t,r);case"base64":return Xf(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nh(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function or(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function $s(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=oe.from(t,n)),It(t))return t.length===0?-1:Rs(e,t,r,n,i);if(typeof t=="number")return t=t&255,oe.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Rs(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Rs(e,t,r,n,i){var a=1,s=e.length,c=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(p,g){return a===1?p[g]:p.readUInt16BE(g*a)}var h;if(i){var f=-1;for(h=r;h<s;h++)if(u(e,h)===u(t,f===-1?0:h-f)){if(f===-1&&(f=h),h-f+1===c)return f*a}else f!==-1&&(h-=h-f),f=-1}else for(r+c>s&&(r=s-c),h=r;h>=0;h--){for(var y=!0,P=0;P<c;P++)if(u(e,h+P)!==u(t,P)){y=!1;break}if(y)return h}return-1}function Kf(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var c=parseInt(t.substr(s*2,2),16);if(isNaN(c))return s;e[r+s]=c}return s}function Yf(e,t,r,n){return Bi(hi(t,e.length-r),e,r,n)}function ac(e,t,r,n){return Bi(oh(t),e,r,n)}function Wf(e,t,r,n){return ac(e,t,r,n)}function Zf(e,t,r,n){return Bi(cc(t),e,r,n)}function Jf(e,t,r,n){return Bi(ch(t,e.length-r),e,r,n)}function Xf(e,t,r){return t===0&&r===e.length?Os(e):Os(e.slice(t,r))}function sc(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],s=null,c=a>239?4:a>223?3:a>191?2:1;if(i+c<=r){var u,h,f,y;switch(c){case 1:a<128&&(s=a);break;case 2:u=e[i+1],(u&192)===128&&(y=(a&31)<<6|u&63,y>127&&(s=y));break;case 3:u=e[i+1],h=e[i+2],(u&192)===128&&(h&192)===128&&(y=(a&15)<<12|(u&63)<<6|h&63,y>2047&&(y<55296||y>57343)&&(s=y));break;case 4:u=e[i+1],h=e[i+2],f=e[i+3],(u&192)===128&&(h&192)===128&&(f&192)===128&&(y=(a&15)<<18|(u&63)<<12|(h&63)<<6|f&63,y>65535&&y<1114112&&(s=y))}}s===null?(s=65533,c=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=c}return Qf(n)}function Qf(e){var t=e.length;if(t<=ma)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ma));return r}function eh(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function th(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function rh(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=sh(e[a]);return i}function nh(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}function Ke(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function st(e,t,r,n,i,a){if(!It(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function xn(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function Tn(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>(n?i:3-i)*8&255}function oc(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ps(e,t,r,n,i){return i||oc(e,t,r,4),tc(e,t,r,n,23,4),r+4}function Us(e,t,r,n,i){return i||oc(e,t,r,8),tc(e,t,r,n,52,8),r+8}function ih(e){if(e=ah(e).replace(dc,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function ah(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function sh(e){return e<16?"0"+e.toString(16):e.toString(16)}function hi(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function oh(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function ch(e,t){for(var r,n,i,a=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function cc(e){return Lf(ih(e))}function Bi(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function uh(e){return e!==e}function uc(e){return e!=null&&(!!e._isBuffer||lc(e)||lh(e))}function lc(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function lh(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&lc(e.slice(0,0))}var mt,lt,fc,Si,ks,ya,ba,hc,ma,dc,fh=Cf(()=>{mt=[],lt=[],fc=typeof Uint8Array<"u"?Uint8Array:Array,Si=!1,ks={}.toString,ya=Array.isArray||function(e){return ks.call(e)=="[object Array]"},ba=50,oe.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0,hc=fi(),oe.poolSize=8192,oe._augment=function(e){return e.__proto__=oe.prototype,e},oe.from=function(e,t,r){return rc(null,e,t,r)},oe.TYPED_ARRAY_SUPPORT&&(oe.prototype.__proto__=Uint8Array.prototype,oe.__proto__=Uint8Array),oe.alloc=function(e,t,r){return jf(null,e,t,r)},oe.allocUnsafe=function(e){return pa(null,e)},oe.allocUnsafeSlow=function(e){return pa(null,e)},oe.isBuffer=uc,oe.compare=function(e,t){if(!It(e)||!It(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},oe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},oe.concat=function(e,t){if(!ya(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return oe.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=oe.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!It(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},oe.byteLength=ic,oe.prototype._isBuffer=!0,oe.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)or(this,t,t+1);return this},oe.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)or(this,t,t+3),or(this,t+1,t+2);return this},oe.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)or(this,t,t+7),or(this,t+1,t+6),or(this,t+2,t+5),or(this,t+3,t+4);return this},oe.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?sc(this,0,e):Gf.apply(this,arguments)},oe.prototype.equals=function(e){if(!It(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:oe.compare(this,e)===0},oe.prototype.inspect=function(){var e="",t=ba;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},oe.prototype.compare=function(e,t,r,n,i){if(!It(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,s=r-t,c=Math.min(a,s),u=this.slice(n,i),h=e.slice(t,r),f=0;f<c;++f)if(u[f]!==h[f]){a=u[f],s=h[f];break}return a<s?-1:s<a?1:0},oe.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},oe.prototype.indexOf=function(e,t,r){return $s(this,e,t,r,!0)},oe.prototype.lastIndexOf=function(e,t,r){return $s(this,e,t,r,!1)},oe.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(r)?(r=r|0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return Kf(this,e,t,r);case"utf8":case"utf-8":return Yf(this,e,t,r);case"ascii":return ac(this,e,t,r);case"latin1":case"binary":return Wf(this,e,t,r);case"base64":return Zf(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jf(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},oe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ma=4096,oe.prototype.slice=function(e,t){var r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var n;if(oe.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=oe.prototype;else{var i=t-e;n=new oe(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},oe.prototype.readUIntLE=function(e,t,r){e=e|0,t=t|0,r||Ke(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},oe.prototype.readUIntBE=function(e,t,r){e=e|0,t=t|0,r||Ke(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},oe.prototype.readUInt8=function(e,t){return t||Ke(e,1,this.length),this[e]},oe.prototype.readUInt16LE=function(e,t){return t||Ke(e,2,this.length),this[e]|this[e+1]<<8},oe.prototype.readUInt16BE=function(e,t){return t||Ke(e,2,this.length),this[e]<<8|this[e+1]},oe.prototype.readUInt32LE=function(e,t){return t||Ke(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},oe.prototype.readUInt32BE=function(e,t){return t||Ke(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},oe.prototype.readIntLE=function(e,t,r){e=e|0,t=t|0,r||Ke(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},oe.prototype.readIntBE=function(e,t,r){e=e|0,t=t|0,r||Ke(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},oe.prototype.readInt8=function(e,t){return t||Ke(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},oe.prototype.readInt16LE=function(e,t){t||Ke(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r},oe.prototype.readInt16BE=function(e,t){t||Ke(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r},oe.prototype.readInt32LE=function(e,t){return t||Ke(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},oe.prototype.readInt32BE=function(e,t){return t||Ke(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},oe.prototype.readFloatLE=function(e,t){return t||Ke(e,4,this.length),En(this,e,!0,23,4)},oe.prototype.readFloatBE=function(e,t){return t||Ke(e,4,this.length),En(this,e,!1,23,4)},oe.prototype.readDoubleLE=function(e,t){return t||Ke(e,8,this.length),En(this,e,!0,52,8)},oe.prototype.readDoubleBE=function(e,t){return t||Ke(e,8,this.length),En(this,e,!1,52,8)},oe.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t=t|0,r=r|0,!n){var i=Math.pow(2,8*r)-1;st(this,e,t,r,i,0)}var a=1,s=0;for(this[t]=e&255;++s<r&&(a*=256);)this[t+s]=e/a&255;return t+r},oe.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t=t|0,r=r|0,!n){var i=Math.pow(2,8*r)-1;st(this,e,t,r,i,0)}var a=r-1,s=1;for(this[t+a]=e&255;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+r},oe.prototype.writeUInt8=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,1,255,0),oe.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1},oe.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,2,65535,0),oe.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):xn(this,e,t,!0),t+2},oe.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,2,65535,0),oe.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):xn(this,e,t,!1),t+2},oe.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,4,4294967295,0),oe.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):Tn(this,e,t,!0),t+4},oe.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,4,4294967295,0),oe.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Tn(this,e,t,!1),t+4},oe.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=t|0,!n){var i=Math.pow(2,8*r-1);st(this,e,t,r,i-1,-i)}var a=0,s=1,c=0;for(this[t]=e&255;++a<r&&(s*=256);)e<0&&c===0&&this[t+a-1]!==0&&(c=1),this[t+a]=(e/s>>0)-c&255;return t+r},oe.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=t|0,!n){var i=Math.pow(2,8*r-1);st(this,e,t,r,i-1,-i)}var a=r-1,s=1,c=0;for(this[t+a]=e&255;--a>=0&&(s*=256);)e<0&&c===0&&this[t+a+1]!==0&&(c=1),this[t+a]=(e/s>>0)-c&255;return t+r},oe.prototype.writeInt8=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,1,127,-128),oe.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1},oe.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,2,32767,-32768),oe.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):xn(this,e,t,!0),t+2},oe.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,2,32767,-32768),oe.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):xn(this,e,t,!1),t+2},oe.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,4,2147483647,-2147483648),oe.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Tn(this,e,t,!0),t+4},oe.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t|0,r||st(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),oe.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Tn(this,e,t,!1),t+4},oe.prototype.writeFloatLE=function(e,t,r){return Ps(this,e,t,!0,r)},oe.prototype.writeFloatBE=function(e,t,r){return Ps(this,e,t,!1,r)},oe.prototype.writeDoubleLE=function(e,t,r){return Us(this,e,t,!0,r)},oe.prototype.writeDoubleBE=function(e,t,r){return Us(this,e,t,!1,r)},oe.prototype.copy=function(e,t,r,n){if(r||(r=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r,a;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!oe.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},oe.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}if(n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!oe.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var a;if(typeof e=="number")for(a=t;a<r;++a)this[a]=e;else{var s=It(e)?e:hi(new oe(e,n).toString()),c=s.length;for(a=0;a<r-t;++a)this[a+t]=s[a%c]}return this},dc=/[^+\/0-9A-Za-z-_]/g}),Ni=ze((e,t)=>{var r=(fh(),Mf(Qo));if(r&&r.default){t.exports=r.default;for(let n in r)t.exports[n]=r[n]}else r&&(t.exports=r)}),pc=ze(e=>{e.read=function(t,r,n,i,a){var s,c,u=a*8-i-1,h=(1<<u)-1,f=h>>1,y=-7,P=n?a-1:0,p=n?-1:1,g=t[r+P];for(P+=p,s=g&(1<<-y)-1,g>>=-y,y+=u;y>0;s=s*256+t[r+P],P+=p,y-=8);for(c=s&(1<<-y)-1,s>>=-y,y+=i;y>0;c=c*256+t[r+P],P+=p,y-=8);if(s===0)s=1-f;else{if(s===h)return c?NaN:(g?-1:1)*(1/0);c=c+Math.pow(2,i),s=s-f}return(g?-1:1)*c*Math.pow(2,s-i)},e.write=function(t,r,n,i,a,s){var c,u,h,f=s*8-a-1,y=(1<<f)-1,P=y>>1,p=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:s-1,v=i?1:-1,B=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,c=y):(c=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+P>=1?r+=p/h:r+=p*Math.pow(2,1-P),r*h>=2&&(c++,h/=2),c+P>=y?(u=0,c=y):c+P>=1?(u=(r*h-1)*Math.pow(2,a),c=c+P):(u=r*Math.pow(2,P-1)*Math.pow(2,a),c=0));a>=8;t[n+g]=u&255,g+=v,u/=256,a-=8);for(c=c<<a|u,f+=a;f>0;t[n+g]=c&255,g+=v,c/=256,f-=8);t[n+g-v]|=B*128}}),Oi=ze((e,t)=>{(function(r){var n,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,c="[BigNumber Error] ",u=c+"Number primitive has more than 15 significant digits: ",h=1e14,f=14,y=9007199254740991,P=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,g=1e9;function v(Y){var Z,be,S,U=L.prototype={constructor:L,toString:null,valueOf:null},he=new L(1),le=20,I=4,X=-7,G=21,z=-1e7,H=1e7,ae=!1,A=1,_=0,W={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},re="0123456789abcdefghijklmnopqrstuvwxyz",w=!0;function L(b,m){var E,R,O,N,V,$,M,j,k=this;if(!(k instanceof L))return new L(b,m);if(m==null){if(b&&b._isBigNumber===!0){k.s=b.s,!b.c||b.e>H?k.c=k.e=null:b.e<z?k.c=[k.e=0]:(k.e=b.e,k.c=b.c.slice());return}if(($=typeof b=="number")&&b*0==0){if(k.s=1/b<0?(b=-b,-1):1,b===~~b){for(N=0,V=b;V>=10;V/=10,N++);N>H?k.c=k.e=null:(k.e=N,k.c=[b]);return}j=String(b)}else{if(!i.test(j=String(b)))return S(k,j,$);k.s=j.charCodeAt(0)==45?(j=j.slice(1),-1):1}(N=j.indexOf("."))>-1&&(j=j.replace(".","")),(V=j.search(/e/i))>0?(N<0&&(N=V),N+=+j.slice(V+1),j=j.substring(0,V)):N<0&&(N=j.length)}else{if(q(m,2,re.length,"Base"),m==10&&w)return k=new L(b),ce(k,le+k.e+1,I);if(j=String(b),$=typeof b=="number"){if(b*0!=0)return S(k,j,$,m);if(k.s=1/b<0?(j=j.slice(1),-1):1,L.DEBUG&&j.replace(/^0\.0*|\./,"").length>15)throw Error(u+b)}else k.s=j.charCodeAt(0)===45?(j=j.slice(1),-1):1;for(E=re.slice(0,m),N=V=0,M=j.length;V<M;V++)if(E.indexOf(R=j.charAt(V))<0){if(R=="."){if(V>N){N=M;continue}}else if(!O&&(j==j.toUpperCase()&&(j=j.toLowerCase())||j==j.toLowerCase()&&(j=j.toUpperCase()))){O=!0,V=-1,N=0;continue}return S(k,String(b),$,m)}$=!1,j=be(j,m,10,k.s),(N=j.indexOf("."))>-1?j=j.replace(".",""):N=j.length}for(V=0;j.charCodeAt(V)===48;V++);for(M=j.length;j.charCodeAt(--M)===48;);if(j=j.slice(V,++M)){if(M-=V,$&&L.DEBUG&&M>15&&(b>y||b!==s(b)))throw Error(u+k.s*b);if((N=N-V-1)>H)k.c=k.e=null;else if(N<z)k.c=[k.e=0];else{if(k.e=N,k.c=[],V=(N+1)%f,N<0&&(V+=f),V<M){for(V&&k.c.push(+j.slice(0,V)),M-=f;V<M;)k.c.push(+j.slice(V,V+=f));V=f-(j=j.slice(V)).length}else V-=M;for(;V--;j+="0");k.c.push(+j)}}else k.c=[k.e=0]}L.clone=v,L.ROUND_UP=0,L.ROUND_DOWN=1,L.ROUND_CEIL=2,L.ROUND_FLOOR=3,L.ROUND_HALF_UP=4,L.ROUND_HALF_DOWN=5,L.ROUND_HALF_EVEN=6,L.ROUND_HALF_CEIL=7,L.ROUND_HALF_FLOOR=8,L.EUCLID=9,L.config=L.set=function(b){var m,E;if(b!=null)if(typeof b=="object"){if(b.hasOwnProperty(m="DECIMAL_PLACES")&&(E=b[m],q(E,0,g,m),le=E),b.hasOwnProperty(m="ROUNDING_MODE")&&(E=b[m],q(E,0,8,m),I=E),b.hasOwnProperty(m="EXPONENTIAL_AT")&&(E=b[m],E&&E.pop?(q(E[0],-g,0,m),q(E[1],0,g,m),X=E[0],G=E[1]):(q(E,-g,g,m),X=-(G=E<0?-E:E))),b.hasOwnProperty(m="RANGE"))if(E=b[m],E&&E.pop)q(E[0],-g,-1,m),q(E[1],1,g,m),z=E[0],H=E[1];else if(q(E,-g,g,m),E)z=-(H=E<0?-E:E);else throw Error(c+m+" cannot be zero: "+E);if(b.hasOwnProperty(m="CRYPTO"))if(E=b[m],E===!!E)if(E)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ae=E;else throw ae=!E,Error(c+"crypto unavailable");else ae=E;else throw Error(c+m+" not true or false: "+E);if(b.hasOwnProperty(m="MODULO_MODE")&&(E=b[m],q(E,0,9,m),A=E),b.hasOwnProperty(m="POW_PRECISION")&&(E=b[m],q(E,0,g,m),_=E),b.hasOwnProperty(m="FORMAT"))if(E=b[m],typeof E=="object")W=E;else throw Error(c+m+" not an object: "+E);if(b.hasOwnProperty(m="ALPHABET"))if(E=b[m],typeof E=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(E))w=E.slice(0,10)=="0123456789",re=E;else throw Error(c+m+" invalid: "+E)}else throw Error(c+"Object expected: "+b);return{DECIMAL_PLACES:le,ROUNDING_MODE:I,EXPONENTIAL_AT:[X,G],RANGE:[z,H],CRYPTO:ae,MODULO_MODE:A,POW_PRECISION:_,FORMAT:W,ALPHABET:re}},L.isBigNumber=function(b){if(!b||b._isBigNumber!==!0)return!1;if(!L.DEBUG)return!0;var m,E,R=b.c,O=b.e,N=b.s;e:if({}.toString.call(R)=="[object Array]"){if((N===1||N===-1)&&O>=-g&&O<=g&&O===s(O)){if(R[0]===0){if(O===0&&R.length===1)return!0;break e}if(m=(O+1)%f,m<1&&(m+=f),String(R[0]).length==m){for(m=0;m<R.length;m++)if(E=R[m],E<0||E>=h||E!==s(E))break e;if(E!==0)return!0}}}else if(R===null&&O===null&&(N===null||N===1||N===-1))return!0;throw Error(c+"Invalid BigNumber: "+b)},L.maximum=L.max=function(){return de(arguments,-1)},L.minimum=L.min=function(){return de(arguments,1)},L.random=function(){var b=9007199254740992,m=Math.random()*b&2097151?function(){return s(Math.random()*b)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(E){var R,O,N,V,$,M=0,j=[],k=new L(he);if(E==null?E=le:q(E,0,g),V=a(E/f),ae)if(crypto.getRandomValues){for(R=crypto.getRandomValues(new Uint32Array(V*=2));M<V;)$=R[M]*131072+(R[M+1]>>>11),$>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),R[M]=O[0],R[M+1]=O[1]):(j.push($%1e14),M+=2);M=V/2}else if(crypto.randomBytes){for(R=crypto.randomBytes(V*=7);M<V;)$=(R[M]&31)*281474976710656+R[M+1]*1099511627776+R[M+2]*4294967296+R[M+3]*16777216+(R[M+4]<<16)+(R[M+5]<<8)+R[M+6],$>=9e15?crypto.randomBytes(7).copy(R,M):(j.push($%1e14),M+=7);M=V/7}else throw ae=!1,Error(c+"crypto unavailable");if(!ae)for(;M<V;)$=m(),$<9e15&&(j[M++]=$%1e14);for(V=j[--M],E%=f,V&&E&&($=P[f-E],j[M]=s(V/$)*$);j[M]===0;j.pop(),M--);if(M<0)j=[N=0];else{for(N=-1;j[0]===0;j.splice(0,1),N-=f);for(M=1,$=j[0];$>=10;$/=10,M++);M<f&&(N-=f-M)}return k.e=N,k.c=j,k}}(),L.sum=function(){for(var b=1,m=arguments,E=new L(m[0]);b<m.length;)E=E.plus(m[b++]);return E},be=function(){var b="0123456789";function m(E,R,O,N){for(var V,$=[0],M,j=0,k=E.length;j<k;){for(M=$.length;M--;$[M]*=R);for($[0]+=N.indexOf(E.charAt(j++)),V=0;V<$.length;V++)$[V]>O-1&&($[V+1]==null&&($[V+1]=0),$[V+1]+=$[V]/O|0,$[V]%=O)}return $.reverse()}return function(E,R,O,N,V){var $,M,j,k,J,ge,ye,we,Oe=E.indexOf("."),o=le,l=I;for(Oe>=0&&(k=_,_=0,E=E.replace(".",""),we=new L(R),ge=we.pow(E.length-Oe),_=k,we.c=m(se(C(ge.c),ge.e,"0"),10,O,b),we.e=we.c.length),ye=m(E,R,O,V?($=re,b):($=b,re)),j=k=ye.length;ye[--k]==0;ye.pop());if(!ye[0])return $.charAt(0);if(Oe<0?--j:(ge.c=ye,ge.e=j,ge.s=N,ge=Z(ge,we,o,l,O),ye=ge.c,J=ge.r,j=ge.e),M=j+o+1,Oe=ye[M],k=O/2,J=J||M<0||ye[M+1]!=null,J=l<4?(Oe!=null||J)&&(l==0||l==(ge.s<0?3:2)):Oe>k||Oe==k&&(l==4||J||l==6&&ye[M-1]&1||l==(ge.s<0?8:7)),M<1||!ye[0])E=J?se($.charAt(1),-o,$.charAt(0)):$.charAt(0);else{if(ye.length=M,J)for(--O;++ye[--M]>O;)ye[M]=0,M||(++j,ye=[1].concat(ye));for(k=ye.length;!ye[--k];);for(Oe=0,E="";Oe<=k;E+=$.charAt(ye[Oe++]));E=se(E,j,$.charAt(0))}return E}}(),Z=function(){function b(R,O,N){var V,$,M,j,k=0,J=R.length,ge=O%p,ye=O/p|0;for(R=R.slice();J--;)M=R[J]%p,j=R[J]/p|0,V=ye*M+j*ge,$=ge*M+V%p*p+k,k=($/N|0)+(V/p|0)+ye*j,R[J]=$%N;return k&&(R=[k].concat(R)),R}function m(R,O,N,V){var $,M;if(N!=V)M=N>V?1:-1;else for($=M=0;$<N;$++)if(R[$]!=O[$]){M=R[$]>O[$]?1:-1;break}return M}function E(R,O,N,V){for(var $=0;N--;)R[N]-=$,$=R[N]<O[N]?1:0,R[N]=$*V+R[N]-O[N];for(;!R[0]&&R.length>1;R.splice(0,1));}return function(R,O,N,V,$){var M,j,k,J,ge,ye,we,Oe,o,l,d,T,F,K,ee,Be,Ue,Ae=R.s==O.s?1:-1,Ee=R.c,_e=O.c;if(!Ee||!Ee[0]||!_e||!_e[0])return new L(!R.s||!O.s||(Ee?_e&&Ee[0]==_e[0]:!_e)?NaN:Ee&&Ee[0]==0||!_e?Ae*0:Ae/0);for(Oe=new L(Ae),o=Oe.c=[],j=R.e-O.e,Ae=N+j+1,$||($=h,j=B(R.e/f)-B(O.e/f),Ae=Ae/f|0),k=0;_e[k]==(Ee[k]||0);k++);if(_e[k]>(Ee[k]||0)&&j--,Ae<0)o.push(1),J=!0;else{for(K=Ee.length,Be=_e.length,k=0,Ae+=2,ge=s($/(_e[0]+1)),ge>1&&(_e=b(_e,ge,$),Ee=b(Ee,ge,$),Be=_e.length,K=Ee.length),F=Be,l=Ee.slice(0,Be),d=l.length;d<Be;l[d++]=0);Ue=_e.slice(),Ue=[0].concat(Ue),ee=_e[0],_e[1]>=$/2&&ee++;do{if(ge=0,M=m(_e,l,Be,d),M<0){if(T=l[0],Be!=d&&(T=T*$+(l[1]||0)),ge=s(T/ee),ge>1)for(ge>=$&&(ge=$-1),ye=b(_e,ge,$),we=ye.length,d=l.length;m(ye,l,we,d)==1;)ge--,E(ye,Be<we?Ue:_e,we,$),we=ye.length,M=1;else ge==0&&(M=ge=1),ye=_e.slice(),we=ye.length;if(we<d&&(ye=[0].concat(ye)),E(l,ye,d,$),d=l.length,M==-1)for(;m(_e,l,Be,d)<1;)ge++,E(l,Be<d?Ue:_e,d,$),d=l.length}else M===0&&(ge++,l=[0]);o[k++]=ge,l[0]?l[d++]=Ee[F]||0:(l=[Ee[F]],d=1)}while((F++<K||l[0]!=null)&&Ae--);J=l[0]!=null,o[0]||o.splice(0,1)}if($==h){for(k=1,Ae=o[0];Ae>=10;Ae/=10,k++);ce(Oe,N+(Oe.e=k+j*f-1)+1,V,J)}else Oe.e=j,Oe.r=+J;return Oe}}();function fe(b,m,E,R){var O,N,V,$,M;if(E==null?E=I:q(E,0,8),!b.c)return b.toString();if(O=b.c[0],V=b.e,m==null)M=C(b.c),M=R==1||R==2&&(V<=X||V>=G)?te(M,V):se(M,V,"0");else if(b=ce(new L(b),m,E),N=b.e,M=C(b.c),$=M.length,R==1||R==2&&(m<=N||N<=X)){for(;$<m;M+="0",$++);M=te(M,N)}else if(m-=V,M=se(M,N,"0"),N+1>$){if(--m>0)for(M+=".";m--;M+="0");}else if(m+=N-$,m>0)for(N+1==$&&(M+=".");m--;M+="0");return b.s<0&&O?"-"+M:M}function de(b,m){for(var E,R,O=1,N=new L(b[0]);O<b.length;O++)R=new L(b[O]),(!R.s||(E=D(N,R))===m||E===0&&N.s===m)&&(N=R);return N}function ne(b,m,E){for(var R=1,O=m.length;!m[--O];m.pop());for(O=m[0];O>=10;O/=10,R++);return(E=R+E*f-1)>H?b.c=b.e=null:E<z?b.c=[b.e=0]:(b.e=E,b.c=m),b}S=function(){var b=/^(-?)0([xbo])(?=\w[\w.]*$)/i,m=/^([^.]+)\.$/,E=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(N,V,$,M){var j,k=$?V:V.replace(O,"");if(R.test(k))N.s=isNaN(k)?null:k<0?-1:1;else{if(!$&&(k=k.replace(b,function(J,ge,ye){return j=(ye=ye.toLowerCase())=="x"?16:ye=="b"?2:8,!M||M==j?ge:J}),M&&(j=M,k=k.replace(m,"$1").replace(E,"0.$1")),V!=k))return new L(k,j);if(L.DEBUG)throw Error(c+"Not a"+(M?" base "+M:"")+" number: "+V);N.s=null}N.c=N.e=null}}();function ce(b,m,E,R){var O,N,V,$,M,j,k,J=b.c,ge=P;if(J){e:{for(O=1,$=J[0];$>=10;$/=10,O++);if(N=m-O,N<0)N+=f,V=m,M=J[j=0],k=s(M/ge[O-V-1]%10);else if(j=a((N+1)/f),j>=J.length)if(R){for(;J.length<=j;J.push(0));M=k=0,O=1,N%=f,V=N-f+1}else break e;else{for(M=$=J[j],O=1;$>=10;$/=10,O++);N%=f,V=N-f+O,k=V<0?0:s(M/ge[O-V-1]%10)}if(R=R||m<0||J[j+1]!=null||(V<0?M:M%ge[O-V-1]),R=E<4?(k||R)&&(E==0||E==(b.s<0?3:2)):k>5||k==5&&(E==4||R||E==6&&(N>0?V>0?M/ge[O-V]:0:J[j-1])%10&1||E==(b.s<0?8:7)),m<1||!J[0])return J.length=0,R?(m-=b.e+1,J[0]=ge[(f-m%f)%f],b.e=-m||0):J[0]=b.e=0,b;if(N==0?(J.length=j,$=1,j--):(J.length=j+1,$=ge[f-N],J[j]=V>0?s(M/ge[O-V]%ge[V])*$:0),R)for(;;)if(j==0){for(N=1,V=J[0];V>=10;V/=10,N++);for(V=J[0]+=$,$=1;V>=10;V/=10,$++);N!=$&&(b.e++,J[0]==h&&(J[0]=1));break}else{if(J[j]+=$,J[j]!=h)break;J[j--]=0,$=1}for(N=J.length;J[--N]===0;J.pop());}b.e>H?b.c=b.e=null:b.e<z&&(b.c=[b.e=0])}return b}function me(b){var m,E=b.e;return E===null?b.toString():(m=C(b.c),m=E<=X||E>=G?te(m,E):se(m,E,"0"),b.s<0?"-"+m:m)}return U.absoluteValue=U.abs=function(){var b=new L(this);return b.s<0&&(b.s=1),b},U.comparedTo=function(b,m){return D(this,new L(b,m))},U.decimalPlaces=U.dp=function(b,m){var E,R,O,N=this;if(b!=null)return q(b,0,g),m==null?m=I:q(m,0,8),ce(new L(N),b+N.e+1,m);if(!(E=N.c))return null;if(R=((O=E.length-1)-B(this.e/f))*f,O=E[O])for(;O%10==0;O/=10,R--);return R<0&&(R=0),R},U.dividedBy=U.div=function(b,m){return Z(this,new L(b,m),le,I)},U.dividedToIntegerBy=U.idiv=function(b,m){return Z(this,new L(b,m),0,1)},U.exponentiatedBy=U.pow=function(b,m){var E,R,O,N,V,$,M,j,k,J=this;if(b=new L(b),b.c&&!b.isInteger())throw Error(c+"Exponent not an integer: "+me(b));if(m!=null&&(m=new L(m)),$=b.e>14,!J.c||!J.c[0]||J.c[0]==1&&!J.e&&J.c.length==1||!b.c||!b.c[0])return k=new L(Math.pow(+me(J),$?b.s*(2-ie(b)):+me(b))),m?k.mod(m):k;if(M=b.s<0,m){if(m.c?!m.c[0]:!m.s)return new L(NaN);R=!M&&J.isInteger()&&m.isInteger(),R&&(J=J.mod(m))}else{if(b.e>9&&(J.e>0||J.e<-1||(J.e==0?J.c[0]>1||$&&J.c[1]>=24e7:J.c[0]<8e13||$&&J.c[0]<=9999975e7)))return N=J.s<0&&ie(b)?-0:0,J.e>-1&&(N=1/N),new L(M?1/N:N);_&&(N=a(_/f+2))}for($?(E=new L(.5),M&&(b.s=1),j=ie(b)):(O=Math.abs(+me(b)),j=O%2),k=new L(he);;){if(j){if(k=k.times(J),!k.c)break;N?k.c.length>N&&(k.c.length=N):R&&(k=k.mod(m))}if(O){if(O=s(O/2),O===0)break;j=O%2}else if(b=b.times(E),ce(b,b.e+1,1),b.e>14)j=ie(b);else{if(O=+me(b),O===0)break;j=O%2}J=J.times(J),N?J.c&&J.c.length>N&&(J.c.length=N):R&&(J=J.mod(m))}return R?k:(M&&(k=he.div(k)),m?k.mod(m):N?ce(k,_,I,V):k)},U.integerValue=function(b){var m=new L(this);return b==null?b=I:q(b,0,8),ce(m,m.e+1,b)},U.isEqualTo=U.eq=function(b,m){return D(this,new L(b,m))===0},U.isFinite=function(){return!!this.c},U.isGreaterThan=U.gt=function(b,m){return D(this,new L(b,m))>0},U.isGreaterThanOrEqualTo=U.gte=function(b,m){return(m=D(this,new L(b,m)))===1||m===0},U.isInteger=function(){return!!this.c&&B(this.e/f)>this.c.length-2},U.isLessThan=U.lt=function(b,m){return D(this,new L(b,m))<0},U.isLessThanOrEqualTo=U.lte=function(b,m){return(m=D(this,new L(b,m)))===-1||m===0},U.isNaN=function(){return!this.s},U.isNegative=function(){return this.s<0},U.isPositive=function(){return this.s>0},U.isZero=function(){return!!this.c&&this.c[0]==0},U.minus=function(b,m){var E,R,O,N,V=this,$=V.s;if(b=new L(b,m),m=b.s,!$||!m)return new L(NaN);if($!=m)return b.s=-m,V.plus(b);var M=V.e/f,j=b.e/f,k=V.c,J=b.c;if(!M||!j){if(!k||!J)return k?(b.s=-m,b):new L(J?V:NaN);if(!k[0]||!J[0])return J[0]?(b.s=-m,b):new L(k[0]?V:I==3?-0:0)}if(M=B(M),j=B(j),k=k.slice(),$=M-j){for((N=$<0)?($=-$,O=k):(j=M,O=J),O.reverse(),m=$;m--;O.push(0));O.reverse()}else for(R=(N=($=k.length)<(m=J.length))?$:m,$=m=0;m<R;m++)if(k[m]!=J[m]){N=k[m]<J[m];break}if(N&&(O=k,k=J,J=O,b.s=-b.s),m=(R=J.length)-(E=k.length),m>0)for(;m--;k[E++]=0);for(m=h-1;R>$;){if(k[--R]<J[R]){for(E=R;E&&!k[--E];k[E]=m);--k[E],k[R]+=h}k[R]-=J[R]}for(;k[0]==0;k.splice(0,1),--j);return k[0]?ne(b,k,j):(b.s=I==3?-1:1,b.c=[b.e=0],b)},U.modulo=U.mod=function(b,m){var E,R,O=this;return b=new L(b,m),!O.c||!b.s||b.c&&!b.c[0]?new L(NaN):!b.c||O.c&&!O.c[0]?new L(O):(A==9?(R=b.s,b.s=1,E=Z(O,b,0,3),b.s=R,E.s*=R):E=Z(O,b,0,A),b=O.minus(E.times(b)),!b.c[0]&&A==1&&(b.s=O.s),b)},U.multipliedBy=U.times=function(b,m){var E,R,O,N,V,$,M,j,k,J,ge,ye,we,Oe,o,l=this,d=l.c,T=(b=new L(b,m)).c;if(!d||!T||!d[0]||!T[0])return!l.s||!b.s||d&&!d[0]&&!T||T&&!T[0]&&!d?b.c=b.e=b.s=null:(b.s*=l.s,!d||!T?b.c=b.e=null:(b.c=[0],b.e=0)),b;for(R=B(l.e/f)+B(b.e/f),b.s*=l.s,M=d.length,J=T.length,M<J&&(we=d,d=T,T=we,O=M,M=J,J=O),O=M+J,we=[];O--;we.push(0));for(Oe=h,o=p,O=J;--O>=0;){for(E=0,ge=T[O]%o,ye=T[O]/o|0,V=M,N=O+V;N>O;)j=d[--V]%o,k=d[V]/o|0,$=ye*j+k*ge,j=ge*j+$%o*o+we[N]+E,E=(j/Oe|0)+($/o|0)+ye*k,we[N--]=j%Oe;we[N]=E}return E?++R:we.splice(0,1),ne(b,we,R)},U.negated=function(){var b=new L(this);return b.s=-b.s||null,b},U.plus=function(b,m){var E,R=this,O=R.s;if(b=new L(b,m),m=b.s,!O||!m)return new L(NaN);if(O!=m)return b.s=-m,R.minus(b);var N=R.e/f,V=b.e/f,$=R.c,M=b.c;if(!N||!V){if(!$||!M)return new L(O/0);if(!$[0]||!M[0])return M[0]?b:new L($[0]?R:O*0)}if(N=B(N),V=B(V),$=$.slice(),O=N-V){for(O>0?(V=N,E=M):(O=-O,E=$),E.reverse();O--;E.push(0));E.reverse()}for(O=$.length,m=M.length,O-m<0&&(E=M,M=$,$=E,m=O),O=0;m;)O=($[--m]=$[m]+M[m]+O)/h|0,$[m]=h===$[m]?0:$[m]%h;return O&&($=[O].concat($),++V),ne(b,$,V)},U.precision=U.sd=function(b,m){var E,R,O,N=this;if(b!=null&&b!==!!b)return q(b,1,g),m==null?m=I:q(m,0,8),ce(new L(N),b,m);if(!(E=N.c))return null;if(O=E.length-1,R=O*f+1,O=E[O]){for(;O%10==0;O/=10,R--);for(O=E[0];O>=10;O/=10,R++);}return b&&N.e+1>R&&(R=N.e+1),R},U.shiftedBy=function(b){return q(b,-y,y),this.times("1e"+b)},U.squareRoot=U.sqrt=function(){var b,m,E,R,O,N=this,V=N.c,$=N.s,M=N.e,j=le+4,k=new L("0.5");if($!==1||!V||!V[0])return new L(!$||$<0&&(!V||V[0])?NaN:V?N:1/0);if($=Math.sqrt(+me(N)),$==0||$==1/0?(m=C(V),(m.length+M)%2==0&&(m+="0"),$=Math.sqrt(+m),M=B((M+1)/2)-(M<0||M%2),$==1/0?m="5e"+M:(m=$.toExponential(),m=m.slice(0,m.indexOf("e")+1)+M),E=new L(m)):E=new L($+""),E.c[0]){for(M=E.e,$=M+j,$<3&&($=0);;)if(O=E,E=k.times(O.plus(Z(N,O,j,1))),C(O.c).slice(0,$)===(m=C(E.c)).slice(0,$))if(E.e<M&&--$,m=m.slice($-3,$+1),m=="9999"||!R&&m=="4999"){if(!R&&(ce(O,O.e+le+2,0),O.times(O).eq(N))){E=O;break}j+=4,$+=4,R=1}else{(!+m||!+m.slice(1)&&m.charAt(0)=="5")&&(ce(E,E.e+le+2,1),b=!E.times(E).eq(N));break}}return ce(E,E.e+le+1,I,b)},U.toExponential=function(b,m){return b!=null&&(q(b,0,g),b++),fe(this,b,m,1)},U.toFixed=function(b,m){return b!=null&&(q(b,0,g),b=b+this.e+1),fe(this,b,m)},U.toFormat=function(b,m,E){var R,O=this;if(E==null)b!=null&&m&&typeof m=="object"?(E=m,m=null):b&&typeof b=="object"?(E=b,b=m=null):E=W;else if(typeof E!="object")throw Error(c+"Argument not an object: "+E);if(R=O.toFixed(b,m),O.c){var N,V=R.split("."),$=+E.groupSize,M=+E.secondaryGroupSize,j=E.groupSeparator||"",k=V[0],J=V[1],ge=O.s<0,ye=ge?k.slice(1):k,we=ye.length;if(M&&(N=$,$=M,M=N,we-=N),$>0&&we>0){for(N=we%$||$,k=ye.substr(0,N);N<we;N+=$)k+=j+ye.substr(N,$);M>0&&(k+=j+ye.slice(N)),ge&&(k="-"+k)}R=J?k+(E.decimalSeparator||"")+((M=+E.fractionGroupSize)?J.replace(new RegExp("\\d{"+M+"}\\B","g"),"$&"+(E.fractionGroupSeparator||"")):J):k}return(E.prefix||"")+R+(E.suffix||"")},U.toFraction=function(b){var m,E,R,O,N,V,$,M,j,k,J,ge,ye=this,we=ye.c;if(b!=null&&($=new L(b),!$.isInteger()&&($.c||$.s!==1)||$.lt(he)))throw Error(c+"Argument "+($.isInteger()?"out of range: ":"not an integer: ")+me($));if(!we)return new L(ye);for(m=new L(he),j=E=new L(he),R=M=new L(he),ge=C(we),N=m.e=ge.length-ye.e-1,m.c[0]=P[(V=N%f)<0?f+V:V],b=!b||$.comparedTo(m)>0?N>0?m:j:$,V=H,H=1/0,$=new L(ge),M.c[0]=0;k=Z($,m,0,1),O=E.plus(k.times(R)),O.comparedTo(b)!=1;)E=R,R=O,j=M.plus(k.times(O=j)),M=O,m=$.minus(k.times(O=m)),$=O;return O=Z(b.minus(E),R,0,1),M=M.plus(O.times(j)),E=E.plus(O.times(R)),M.s=j.s=ye.s,N=N*2,J=Z(j,R,N,I).minus(ye).abs().comparedTo(Z(M,E,N,I).minus(ye).abs())<1?[j,R]:[M,E],H=V,J},U.toNumber=function(){return+me(this)},U.toPrecision=function(b,m){return b!=null&&q(b,1,g),fe(this,b,m,2)},U.toString=function(b){var m,E=this,R=E.s,O=E.e;return O===null?R?(m="Infinity",R<0&&(m="-"+m)):m="NaN":(b==null?m=O<=X||O>=G?te(C(E.c),O):se(C(E.c),O,"0"):b===10&&w?(E=ce(new L(E),le+O+1,I),m=se(C(E.c),E.e,"0")):(q(b,2,re.length,"Base"),m=be(se(C(E.c),O,"0"),10,b,R,!0)),R<0&&E.c[0]&&(m="-"+m)),m},U.valueOf=U.toJSON=function(){return me(this)},U._isBigNumber=!0,Y!=null&&L.set(Y),L}function B(Y){var Z=Y|0;return Y>0||Y===Z?Z:Z-1}function C(Y){for(var Z,be,S=1,U=Y.length,he=Y[0]+"";S<U;){for(Z=Y[S++]+"",be=f-Z.length;be--;Z="0"+Z);he+=Z}for(U=he.length;he.charCodeAt(--U)===48;);return he.slice(0,U+1||1)}function D(Y,Z){var be,S,U=Y.c,he=Z.c,le=Y.s,I=Z.s,X=Y.e,G=Z.e;if(!le||!I)return null;if(be=U&&!U[0],S=he&&!he[0],be||S)return be?S?0:-I:le;if(le!=I)return le;if(be=le<0,S=X==G,!U||!he)return S?0:!U^be?1:-1;if(!S)return X>G^be?1:-1;for(I=(X=U.length)<(G=he.length)?X:G,le=0;le<I;le++)if(U[le]!=he[le])return U[le]>he[le]^be?1:-1;return X==G?0:X>G^be?1:-1}function q(Y,Z,be,S){if(Y<Z||Y>be||Y!==s(Y))throw Error(c+(S||"Argument")+(typeof Y=="number"?Y<Z||Y>be?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Y))}function ie(Y){var Z=Y.c.length-1;return B(Y.e/f)==Z&&Y.c[Z]%2!=0}function te(Y,Z){return(Y.length>1?Y.charAt(0)+"."+Y.slice(1):Y)+(Z<0?"e":"e+")+Z}function se(Y,Z,be){var S,U;if(Z<0){for(U=be+".";++Z;U+=be);Y=U+Y}else if(S=Y.length,++Z>S){for(U=be,Z-=S;--Z;U+=be);Y+=U}else Z<S&&(Y=Y.slice(0,Z)+"."+Y.slice(Z));return Y}n=v(),n.default=n.BigNumber=n,typeof define=="function"&&define.amd?define(function(){return n}):typeof t<"u"&&t.exports?t.exports=n:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=n)})(e)}),hh=ze((e,t)=>{t.exports=function(r,n,i){var a=new r.Uint8Array(i),s=n.pushInt,c=n.pushInt32,u=n.pushInt32Neg,h=n.pushInt64,f=n.pushInt64Neg,y=n.pushFloat,P=n.pushFloatSingle,p=n.pushFloatDouble,g=n.pushTrue,v=n.pushFalse,B=n.pushUndefined,C=n.pushNull,D=n.pushInfinity,q=n.pushInfinityNeg,ie=n.pushNaN,te=n.pushNaNNeg,se=n.pushArrayStart,Y=n.pushArrayStartFixed,Z=n.pushArrayStartFixed32,be=n.pushArrayStartFixed64,S=n.pushObjectStart,U=n.pushObjectStartFixed,he=n.pushObjectStartFixed32,le=n.pushObjectStartFixed64,I=n.pushByteString,X=n.pushByteStringStart,G=n.pushUtf8String,z=n.pushUtf8StringStart,H=n.pushSimpleUnassigned,ae=n.pushTagStart,A=n.pushTagStart4,_=n.pushTagStart8;n.pushTagUnassigned;var W=n.pushBreak,re=r.Math.pow,w=0,L=0,fe=0;function de(ue){for(ue=ue|0,w=0,L=ue;(w|0)<(L|0)&&(fe=rf[a[w]&255](a[w]|0)|0,!((fe|0)>0)););return fe|0}function ne(ue){return ue=ue|0,((w|0)+(ue|0)|0)<(L|0)?0:1}function ce(ue){return ue=ue|0,a[ue|0]<<8|a[ue+1|0]|0}function me(ue){return ue=ue|0,a[ue|0]<<24|a[ue+1|0]<<16|a[ue+2|0]<<8|a[ue+3|0]|0}function b(ue){return ue=ue|0,s(ue|0),w=w+1|0,0}function m(ue){return ne(1)|0?1:(s(a[w+1|0]|0),w=w+2|0,0)}function E(ue){return ne(2)|0?1:(s(ce(w+1|0)|0),w=w+3|0,0)}function R(ue){return ne(4)|0?1:(c(ce(w+1|0)|0,ce(w+3|0)|0),w=w+5|0,0)}function O(ue){return ne(8)|0?1:(h(ce(w+1|0)|0,ce(w+3|0)|0,ce(w+5|0)|0,ce(w+7|0)|0),w=w+9|0,0)}function N(ue){return ue=ue|0,s(-1-(ue-32|0)|0),w=w+1|0,0}function V(ue){return ne(1)|0?1:(s(-1-(a[w+1|0]|0)|0),w=w+2|0,0)}function $(ue){var Ne=0;return ne(2)|0?1:(Ne=ce(w+1|0)|0,s(-1-(Ne|0)|0),w=w+3|0,0)}function M(ue){return ne(4)|0?1:(u(ce(w+1|0)|0,ce(w+3|0)|0),w=w+5|0,0)}function j(ue){return ne(8)|0?1:(f(ce(w+1|0)|0,ce(w+3|0)|0,ce(w+5|0)|0,ce(w+7|0)|0),w=w+9|0,0)}function k(ue){ue=ue|0;var Ne=0,$e=0,Se=0;return Se=ue-64|0,ne(Se|0)|0?1:(Ne=w+1|0,$e=(w+1|0)+(Se|0)|0,I(Ne|0,$e|0),w=$e|0,0)}function J(ue){var Ne=0,$e=0,Se=0;return ne(1)|0||(Se=a[w+1|0]|0,Ne=w+2|0,$e=(w+2|0)+(Se|0)|0,ne(Se+1|0)|0)?1:(I(Ne|0,$e|0),w=$e|0,0)}function ge(ue){var Ne=0,$e=0,Se=0;return ne(2)|0||(Se=ce(w+1|0)|0,Ne=w+3|0,$e=(w+3|0)+(Se|0)|0,ne(Se+2|0)|0)?1:(I(Ne|0,$e|0),w=$e|0,0)}function ye(ue){var Ne=0,$e=0,Se=0;return ne(4)|0||(Se=me(w+1|0)|0,Ne=w+5|0,$e=(w+5|0)+(Se|0)|0,ne(Se+4|0)|0)?1:(I(Ne|0,$e|0),w=$e|0,0)}function we(ue){return 1}function Oe(ue){return X(),w=w+1|0,0}function o(ue){ue=ue|0;var Ne=0,$e=0,Se=0;return Se=ue-96|0,ne(Se|0)|0?1:(Ne=w+1|0,$e=(w+1|0)+(Se|0)|0,G(Ne|0,$e|0),w=$e|0,0)}function l(ue){var Ne=0,$e=0,Se=0;return ne(1)|0||(Se=a[w+1|0]|0,Ne=w+2|0,$e=(w+2|0)+(Se|0)|0,ne(Se+1|0)|0)?1:(G(Ne|0,$e|0),w=$e|0,0)}function d(ue){var Ne=0,$e=0,Se=0;return ne(2)|0||(Se=ce(w+1|0)|0,Ne=w+3|0,$e=(w+3|0)+(Se|0)|0,ne(Se+2|0)|0)?1:(G(Ne|0,$e|0),w=$e|0,0)}function T(ue){var Ne=0,$e=0,Se=0;return ne(4)|0||(Se=me(w+1|0)|0,Ne=w+5|0,$e=(w+5|0)+(Se|0)|0,ne(Se+4|0)|0)?1:(G(Ne|0,$e|0),w=$e|0,0)}function F(ue){return 1}function K(ue){return z(),w=w+1|0,0}function ee(ue){return ue=ue|0,Y(ue-128|0),w=w+1|0,0}function Be(ue){return ne(1)|0?1:(Y(a[w+1|0]|0),w=w+2|0,0)}function Ue(ue){return ne(2)|0?1:(Y(ce(w+1|0)|0),w=w+3|0,0)}function Ae(ue){return ne(4)|0?1:(Z(ce(w+1|0)|0,ce(w+3|0)|0),w=w+5|0,0)}function Ee(ue){return ne(8)|0?1:(be(ce(w+1|0)|0,ce(w+3|0)|0,ce(w+5|0)|0,ce(w+7|0)|0),w=w+9|0,0)}function _e(ue){return se(),w=w+1|0,0}function ke(ue){ue=ue|0;var Ne=0;return Ne=ue-160|0,ne(Ne|0)|0?1:(U(Ne|0),w=w+1|0,0)}function Ll(ue){return ne(1)|0?1:(U(a[w+1|0]|0),w=w+2|0,0)}function Fl(ue){return ne(2)|0?1:(U(ce(w+1|0)|0),w=w+3|0,0)}function Dl(ue){return ne(4)|0?1:(he(ce(w+1|0)|0,ce(w+3|0)|0),w=w+5|0,0)}function jl(ue){return ne(8)|0?1:(le(ce(w+1|0)|0,ce(w+3|0)|0,ce(w+5|0)|0,ce(w+7|0)|0),w=w+9|0,0)}function Vl(ue){return S(),w=w+1|0,0}function vr(ue){return ue=ue|0,ae(ue-192|0|0),w=w+1|0,0}function Ge(ue){return ue=ue|0,ae(ue-192|0|0),w=w+1|0,0}function ql(ue){return ne(1)|0?1:(ae(a[w+1|0]|0),w=w+2|0,0)}function zl(ue){return ne(2)|0?1:(ae(ce(w+1|0)|0),w=w+3|0,0)}function Hl(ue){return ne(4)|0?1:(A(ce(w+1|0)|0,ce(w+3|0)|0),w=w+5|0,0)}function Gl(ue){return ne(8)|0?1:(_(ce(w+1|0)|0,ce(w+3|0)|0,ce(w+5|0)|0,ce(w+7|0)|0),w=w+9|0,0)}function Ve(ue){return ue=ue|0,H((ue|0)-224|0),w=w+1|0,0}function Kl(ue){return v(),w=w+1|0,0}function Yl(ue){return g(),w=w+1|0,0}function Wl(ue){return C(),w=w+1|0,0}function Zl(ue){return B(),w=w+1|0,0}function Jl(ue){return ne(1)|0?1:(H(a[w+1|0]|0),w=w+2|0,0)}function Xl(ue){var Ne=0,$e=0,Se=1,mn=0,Vr=0;return ne(2)|0?1:(Ne=a[w+1|0]|0,$e=a[w+2|0]|0,(Ne|0)&128&&(Se=-1),mn=+(((Ne|0)&124)>>2),Vr=+(((Ne|0)&3)<<8|$e),+mn==0?y(+(+Se*5960464477539063e-23*+Vr)):+mn==31?+Se==1?+Vr>0?ie():D():+Vr>0?te():q():y(+(+Se*re(2,+(+mn-25))*+(1024+Vr))),w=w+3|0,0)}function Ql(ue){return ne(4)|0?1:(P(a[w+1|0]|0,a[w+2|0]|0,a[w+3|0]|0,a[w+4|0]|0),w=w+5|0,0)}function ef(ue){return ne(8)|0?1:(p(a[w+1|0]|0,a[w+2|0]|0,a[w+3|0]|0,a[w+4|0]|0,a[w+5|0]|0,a[w+6|0]|0,a[w+7|0]|0,a[w+8|0]|0),w=w+9|0,0)}function Pe(ue){return 1}function tf(ue){return W(),w=w+1|0,0}var rf=[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,m,E,R,O,Pe,Pe,Pe,Pe,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,V,$,M,j,Pe,Pe,Pe,Pe,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,J,ge,ye,we,Pe,Pe,Pe,Oe,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,l,d,T,F,Pe,Pe,Pe,K,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Be,Ue,Ae,Ee,Pe,Pe,Pe,_e,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,ke,Ll,Fl,Dl,jl,Pe,Pe,Pe,Vl,vr,vr,vr,vr,vr,vr,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,ql,zl,Hl,Gl,Pe,Pe,Pe,Pe,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Kl,Yl,Wl,Zl,Jl,Xl,Ql,ef,Pe,Pe,Pe,tf];return{parse:de}}}),$i=ze(e=>{var t=Oi().BigNumber;e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},e.SHIFT32=Math.pow(2,32),e.SHIFT16=Math.pow(2,16),e.MAX_SAFE_HIGH=2097151,e.NEG_ONE=new t(-1),e.TEN=new t(10),e.TWO=new t(2),e.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}}),Ya=ze(e=>{var{Buffer:t}=Ni(),r=Oi().BigNumber,n=$i(),i=n.SHIFT32,a=n.SHIFT16,s=2097151;e.parseHalf=function(u){var h,f,y;return y=u[0]&128?-1:1,h=(u[0]&124)>>2,f=(u[0]&3)<<8|u[1],h?h===31?y*(f?NaN:1/0):y*Math.pow(2,h-25)*(1024+f):y*5960464477539063e-23*f};function c(u){return u<16?"0"+u.toString(16):u.toString(16)}e.arrayBufferToBignumber=function(u){let h=u.byteLength,f="";for(let y=0;y<h;y++)f+=c(u[y]);return new r(f,16)},e.buildMap=u=>{let h=new Map,f=Object.keys(u),y=f.length;for(let P=0;P<y;P++)h.set(f[P],u[f[P]]);return h},e.buildInt32=(u,h)=>u*a+h,e.buildInt64=(u,h,f,y)=>{let P=e.buildInt32(u,h),p=e.buildInt32(f,y);return P>s?new r(P).times(i).plus(p):P*i+p},e.writeHalf=function(u,h){let f=t.allocUnsafe(4);f.writeFloatBE(h,0);let y=f.readUInt32BE(0);if(y&8191)return!1;var P=y>>16&32768;let p=y>>23&255,g=y&8388607;if(p>=113&&p<=142)P+=(p-112<<10)+(g>>13);else if(p>=103&&p<113){if(g&(1<<126-p)-1)return!1;P+=g+8388608>>126-p}else return!1;return u.writeUInt16BE(P,0),!0},e.keySorter=function(u,h){var f=u[0].byteLength,y=h[0].byteLength;return f>y?1:y>f?-1:u[0].compare(h[0])},e.isNegativeZero=u=>u===0&&1/u<0,e.nextPowerOf2=u=>{let h=0;if(u&&!(u&u-1))return u;for(;u!==0;)u>>=1,h+=1;return 1<<h}}),gc=ze((e,t)=>{var r=$i(),n=r.MT,i=r.SIMPLE,a=r.SYMS,s=class wa{constructor(u){if(typeof u!="number")throw new Error("Invalid Simple type: "+typeof u);if(u<0||u>255||(u|0)!==u)throw new Error("value must be a small positive integer: "+u);this.value=u}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(u){return u._pushInt(this.value,n.SIMPLE_FLOAT)}static isSimple(u){return u instanceof wa}static decode(u,h){switch(h==null&&(h=!0),u){case i.FALSE:return!1;case i.TRUE:return!0;case i.NULL:return h?null:a.NULL;case i.UNDEFINED:return h?void 0:a.UNDEFINED;case-1:if(!h)throw new Error("Invalid BREAK");return a.BREAK;default:return new wa(u)}}};t.exports=s}),yc=ze((e,t)=>{var r=class va{constructor(i,a,s){if(this.tag=i,this.value=a,this.err=s,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(i){return i._pushTag(this.tag),i.pushAny(this.value)}convert(i){var a,s;if(s=i==null?void 0:i[this.tag],typeof s!="function"&&(s=va["_tag"+this.tag],typeof s!="function"))return this;try{return s.call(va,this.value)}catch(c){return a=c,this.err=a,this}}};t.exports=r}),bc=ze((e,t)=>{var r=self.location?self.location.protocol+"//"+self.location.host:"",n=self.URL,i=class{constructor(s="",c=r){this.super=new n(s,c),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(s){this.super.hash=s}set host(s){this.super.host=s}set hostname(s){this.super.hostname=s}set href(s){this.super.href=s}set origin(s){this.super.origin=s}set password(s){this.super.password=s}set pathname(s){this.super.pathname=s}set port(s){this.super.port=s}set protocol(s){this.super.protocol=s}set search(s){this.super.search=s}set searchParams(s){this.super.searchParams=s}set username(s){this.super.username=s}createObjectURL(s){return this.super.createObjectURL(s)}revokeObjectURL(s){this.super.revokeObjectURL(s)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function a(s){if(typeof s=="string")return new n(s).toString();if(!(s instanceof n)){let c=s.username&&s.password?`${s.username}:${s.password}@`:"",u=s.auth?s.auth+"@":"",h=s.port?":"+s.port:"",f=s.protocol?s.protocol+"//":"",y=s.host||"",P=s.hostname||"",p=s.search||(s.query?"?"+s.query:""),g=s.hash||"",v=s.pathname||"",B=s.path||v+p;return`${f}${c||u}${y||P+h}${B}${g}`}}t.exports={URLWithLegacySupport:i,URLSearchParams:self.URLSearchParams,defaultBase:r,format:a}}),dh=ze((e,t)=>{var{URLWithLegacySupport:r,format:n}=bc();t.exports=(i,a={},s={},c)=>{let u=a.protocol?a.protocol.replace(":",""):"http";u=(s[u]||c||u)+":";let h;try{h=new r(i)}catch{h={}}let f=Object.assign({},a,{protocol:u||h.protocol,host:a.host||h.host});return new r(i,n(f)).toString()}}),mc=ze((e,t)=>{var{URLWithLegacySupport:r,format:n,URLSearchParams:i,defaultBase:a}=bc(),s=dh();t.exports={URL:r,URLSearchParams:i,format:n,relative:s,defaultBase:a}}),wc=ze((e,t)=>{var{Buffer:r}=Ni(),n=pc(),i=Oi().BigNumber,a=hh(),s=Ya(),c=$i(),u=gc(),h=yc(),{URL:f}=mc(),y=class _a{constructor(p){p=p||{},!p.size||p.size<65536?p.size=65536:p.size=s.nextPowerOf2(p.size),this._heap=new ArrayBuffer(p.size),this._heap8=new Uint8Array(this._heap),this._buffer=r.from(this._heap),this._reset(),this._knownTags=Object.assign({0:g=>new Date(g),1:g=>new Date(g*1e3),2:g=>s.arrayBufferToBignumber(g),3:g=>c.NEG_ONE.minus(s.arrayBufferToBignumber(g)),4:g=>c.TEN.pow(g[0]).times(g[1]),5:g=>c.TWO.pow(g[0]).times(g[1]),32:g=>new f(g),35:g=>new RegExp(g)},p.tags),this.parser=a(globalThis,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var p=this._parents.pop();if(p.length>0)throw new Error(`Missing ${p.length} elements`);switch(p.type){case c.PARENT.TAG:this._push(this.createTag(p.ref[0],p.ref[1]));break;case c.PARENT.BYTE_STRING:this._push(this.createByteString(p.ref,p.length));break;case c.PARENT.UTF8_STRING:this._push(this.createUtf8String(p.ref,p.length));break;case c.PARENT.MAP:if(p.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(p.ref,p.length));break;case c.PARENT.OBJECT:if(p.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(p.ref,p.length));break;case c.PARENT.ARRAY:this._push(this.createArray(p.ref,p.length));break}this._currentParent&&this._currentParent.type===c.PARENT.TAG&&this._dec()}_dec(){let p=this._currentParent;p.length<0||(p.length--,p.length===0&&this._closeParent())}_push(p,g){let v=this._currentParent;switch(v.values++,v.type){case c.PARENT.ARRAY:case c.PARENT.BYTE_STRING:case c.PARENT.UTF8_STRING:v.length>-1?this._ref[this._ref.length-v.length]=p:this._ref.push(p),this._dec();break;case c.PARENT.OBJECT:v.tmpKey!=null?(this._ref[v.tmpKey]=p,v.tmpKey=null,this._dec()):(v.tmpKey=p,typeof v.tmpKey!="string"&&(v.type=c.PARENT.MAP,v.ref=s.buildMap(v.ref)));break;case c.PARENT.MAP:v.tmpKey!=null?(this._ref.set(v.tmpKey,p),v.tmpKey=null,this._dec()):v.tmpKey=p;break;case c.PARENT.TAG:this._ref.push(p),g||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(p,g,v){this._parents[this._depth]={type:g,length:v,ref:p,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:c.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(p,g){let v=this._knownTags[p];return v?v(g):new h(p,g)}createMap(p,g){return p}createObject(p,g){return p}createArray(p,g){return p}createByteString(p,g){return r.concat(p)}createByteStringFromHeap(p,g){return p===g?r.alloc(0):r.from(this._heap.slice(p,g))}createInt(p){return p}createInt32(p,g){return s.buildInt32(p,g)}createInt64(p,g,v,B){return s.buildInt64(p,g,v,B)}createFloat(p){return p}createFloatSingle(p,g,v,B){return n.read([p,g,v,B],0,!1,23,4)}createFloatDouble(p,g,v,B,C,D,q,ie){return n.read([p,g,v,B,C,D,q,ie],0,!1,52,8)}createInt32Neg(p,g){return-1-s.buildInt32(p,g)}createInt64Neg(p,g,v,B){let C=s.buildInt32(p,g),D=s.buildInt32(v,B);return C>c.MAX_SAFE_HIGH?c.NEG_ONE.minus(new i(C).times(c.SHIFT32).plus(D)):-1-(C*c.SHIFT32+D)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(p,g){return p.join("")}createUtf8StringFromHeap(p,g){return p===g?"":this._buffer.toString("utf8",p,g)}createSimpleUnassigned(p){return new u(p)}pushInt(p){this._push(this.createInt(p))}pushInt32(p,g){this._push(this.createInt32(p,g))}pushInt64(p,g,v,B){this._push(this.createInt64(p,g,v,B))}pushFloat(p){this._push(this.createFloat(p))}pushFloatSingle(p,g,v,B){this._push(this.createFloatSingle(p,g,v,B))}pushFloatDouble(p,g,v,B,C,D,q,ie){this._push(this.createFloatDouble(p,g,v,B,C,D,q,ie))}pushInt32Neg(p,g){this._push(this.createInt32Neg(p,g))}pushInt64Neg(p,g,v,B){this._push(this.createInt64Neg(p,g,v,B))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],c.PARENT.ARRAY,-1)}pushArrayStartFixed(p){this._createArrayStartFixed(p)}pushArrayStartFixed32(p,g){let v=s.buildInt32(p,g);this._createArrayStartFixed(v)}pushArrayStartFixed64(p,g,v,B){let C=s.buildInt64(p,g,v,B);this._createArrayStartFixed(C)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(p){this._createObjectStartFixed(p)}pushObjectStartFixed32(p,g){let v=s.buildInt32(p,g);this._createObjectStartFixed(v)}pushObjectStartFixed64(p,g,v,B){let C=s.buildInt64(p,g,v,B);this._createObjectStartFixed(C)}pushByteStringStart(){this._parents[this._depth]={type:c.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(p,g){this._push(this.createByteStringFromHeap(p,g))}pushUtf8StringStart(){this._parents[this._depth]={type:c.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(p,g){this._push(this.createUtf8StringFromHeap(p,g))}pushSimpleUnassigned(p){this._push(this.createSimpleUnassigned(p))}pushTagStart(p){this._parents[this._depth]={type:c.PARENT.TAG,length:1,ref:[p]}}pushTagStart4(p,g){this.pushTagStart(s.buildInt32(p,g))}pushTagStart8(p,g,v,B){this.pushTagStart(s.buildInt64(p,g,v,B))}pushTagUnassigned(p){this._push(this.createTag(p))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(p){if(p===0){this._push(this.createObject({}));return}this._createParent({},c.PARENT.OBJECT,p)}_createArrayStartFixed(p){if(p===0){this._push(this.createArray([]));return}this._createParent(new Array(p),c.PARENT.ARRAY,p)}_decode(p){if(p.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(p);let g=this.parser.parse(p.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(g>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(p){return this._decode(p),this._res[0]}decodeAll(p){return this._decode(p),this._res}static decode(p,g){return typeof p=="string"&&(p=r.from(p,g||"hex")),new _a({size:p.length}).decodeFirst(p)}static decodeAll(p,g){return typeof p=="string"&&(p=r.from(p,g||"hex")),new _a({size:p.length}).decodeAll(p)}};y.decodeFirst=y.decode,t.exports=y}),ph=ze((e,t)=>{var{Buffer:r}=Ni(),n=wc(),i=Ya(),a=class vc extends n{createTag(u,h){return`${u}(${h})`}createInt(u){return super.createInt(u).toString()}createInt32(u,h){return super.createInt32(u,h).toString()}createInt64(u,h,f,y){return super.createInt64(u,h,f,y).toString()}createInt32Neg(u,h){return super.createInt32Neg(u,h).toString()}createInt64Neg(u,h,f,y){return super.createInt64Neg(u,h,f,y).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(u){let h=super.createFloat(u);return i.isNegativeZero(u)?"-0_1":`${h}_1`}createFloatSingle(u,h,f,y){return`${super.createFloatSingle(u,h,f,y)}_2`}createFloatDouble(u,h,f,y,P,p,g,v){return`${super.createFloatDouble(u,h,f,y,P,p,g,v)}_3`}createByteString(u,h){let f=u.join(", ");return h===-1?`(_ ${f})`:`h'${f}`}createByteStringFromHeap(u,h){return`h'${r.from(super.createByteStringFromHeap(u,h)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(u){return`simple(${u})`}createArray(u,h){let f=super.createArray(u,h);return h===-1?`[_ ${f.join(", ")}]`:`[${f.join(", ")}]`}createMap(u,h){let f=super.createMap(u),y=Array.from(f.keys()).reduce(s(f),"");return h===-1?`{_ ${y}}`:`{${y}}`}createObject(u,h){let f=super.createObject(u),y=Object.keys(f).reduce(s(f),"");return h===-1?`{_ ${y}}`:`{${y}}`}createUtf8String(u,h){let f=u.join(", ");return h===-1?`(_ ${f})`:`"${f}"`}createUtf8StringFromHeap(u,h){return`"${r.from(super.createUtf8StringFromHeap(u,h)).toString("utf8")}"`}static diagnose(u,h){return typeof u=="string"&&(u=r.from(u,h||"hex")),new vc().decodeFirst(u)}};t.exports=a;function s(c){return(u,h)=>u?`${u}, ${h}: ${c[h]}`:`${h}: ${c[h]}`}}),gh=ze((e,t)=>{var{Buffer:r}=Ni(),{URL:n}=mc(),i=Oi().BigNumber,a=Ya(),s=$i(),c=s.MT,u=s.NUMBYTES,h=s.SHIFT32,f=s.SYMS,y=s.TAG,P=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.TWO,p=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.FOUR,g=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.EIGHT,v=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.TRUE,B=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.FALSE,C=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.UNDEFINED,D=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.NULL,q=new i("0x20000000000000"),ie=r.from("f97e00","hex"),te=r.from("f9fc00","hex"),se=r.from("f97c00","hex");function Y(be){return{}.toString.call(be).slice(8,-1)}var Z=class Ea{constructor(S){S=S||{},this.streaming=typeof S.stream=="function",this.onData=S.stream,this.semanticTypes=[[n,this._pushUrl],[i,this._pushBigNumber]];let U=S.genTypes||[],he=U.length;for(let le=0;le<he;le++)this.addSemanticType(U[le][0],U[le][1]);this._reset()}addSemanticType(S,U){let he=this.semanticTypes.length;for(let le=0;le<he;le++)if(this.semanticTypes[le][0]===S){let I=this.semanticTypes[le][1];return this.semanticTypes[le][1]=U,I}return this.semanticTypes.push([S,U]),null}push(S){return S&&(this.result[this.offset]=S,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=S.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(S,U,he){return this.result[this.offset]=S,this.resultMethod[this.offset]=U,this.resultLength[this.offset]=he,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(S){return this.pushWrite(S,1,1)}_pushUInt16BE(S){return this.pushWrite(S,2,2)}_pushUInt32BE(S){return this.pushWrite(S,3,4)}_pushDoubleBE(S){return this.pushWrite(S,4,8)}_pushNaN(){return this.push(ie)}_pushInfinity(S){let U=S<0?te:se;return this.push(U)}_pushFloat(S){let U=r.allocUnsafe(2);if(a.writeHalf(U,S)&&a.parseHalf(U)===S)return this._pushUInt8(P)&&this.push(U);let he=r.allocUnsafe(4);return he.writeFloatBE(S,0),he.readFloatBE(0)===S?this._pushUInt8(p)&&this.push(he):this._pushUInt8(g)&&this._pushDoubleBE(S)}_pushInt(S,U,he){let le=U<<5;return S<24?this._pushUInt8(le|S):S<=255?this._pushUInt8(le|u.ONE)&&this._pushUInt8(S):S<=65535?this._pushUInt8(le|u.TWO)&&this._pushUInt16BE(S):S<=4294967295?this._pushUInt8(le|u.FOUR)&&this._pushUInt32BE(S):S<=Number.MAX_SAFE_INTEGER?this._pushUInt8(le|u.EIGHT)&&this._pushUInt32BE(Math.floor(S/h))&&this._pushUInt32BE(S%h):U===c.NEG_INT?this._pushFloat(he):this._pushFloat(S)}_pushIntNum(S){return S<0?this._pushInt(-S-1,c.NEG_INT,S):this._pushInt(S,c.POS_INT)}_pushNumber(S){switch(!1){case S===S:return this._pushNaN(S);case isFinite(S):return this._pushInfinity(S);case S%1!==0:return this._pushIntNum(S);default:return this._pushFloat(S)}}_pushString(S){let U=r.byteLength(S,"utf8");return this._pushInt(U,c.UTF8_STRING)&&this.pushWrite(S,5,U)}_pushBoolean(S){return this._pushUInt8(S?v:B)}_pushUndefined(S){return this._pushUInt8(C)}_pushArray(S,U){let he=U.length;if(!S._pushInt(he,c.ARRAY))return!1;for(let le=0;le<he;le++)if(!S.pushAny(U[le]))return!1;return!0}_pushTag(S){return this._pushInt(S,c.TAG)}_pushDate(S,U){return S._pushTag(y.DATE_EPOCH)&&S.pushAny(Math.round(U/1e3))}_pushBuffer(S,U){return S._pushInt(U.length,c.BYTE_STRING)&&S.push(U)}_pushNoFilter(S,U){return S._pushBuffer(S,U.slice())}_pushRegexp(S,U){return S._pushTag(y.REGEXP)&&S.pushAny(U.source)}_pushSet(S,U){if(!S._pushInt(U.size,c.ARRAY))return!1;for(let he of U)if(!S.pushAny(he))return!1;return!0}_pushUrl(S,U){return S._pushTag(y.URI)&&S.pushAny(U.format())}_pushBigint(S){let U=y.POS_BIGINT;S.isNegative()&&(S=S.negated().minus(1),U=y.NEG_BIGINT);let he=S.toString(16);he.length%2&&(he="0"+he);let le=r.from(he,"hex");return this._pushTag(U)&&this._pushBuffer(this,le)}_pushBigNumber(S,U){if(U.isNaN())return S._pushNaN();if(!U.isFinite())return S._pushInfinity(U.isNegative()?-1/0:1/0);if(U.isInteger())return S._pushBigint(U);if(!(S._pushTag(y.DECIMAL_FRAC)&&S._pushInt(2,c.ARRAY)))return!1;let he=U.decimalPlaces(),le=U.multipliedBy(new i(10).pow(he));return S._pushIntNum(-he)?le.abs().isLessThan(q)?S._pushIntNum(le.toNumber()):S._pushBigint(le):!1}_pushMap(S,U){return S._pushInt(U.size,c.MAP)?this._pushRawMap(U.size,Array.from(U)):!1}_pushObject(S){if(!S)return this._pushUInt8(D);for(var U=this.semanticTypes.length,he=0;he<U;he++)if(S instanceof this.semanticTypes[he][0])return this.semanticTypes[he][1].call(S,this,S);var le=S.encodeCBOR;if(typeof le=="function")return le.call(S,this);var I=Object.keys(S),X=I.length;return this._pushInt(X,c.MAP)?this._pushRawMap(X,I.map(G=>[G,S[G]])):!1}_pushRawMap(S,U){U=U.map(function(le){return le[0]=Ea.encode(le[0]),le}).sort(a.keySorter);for(var he=0;he<S;he++)if(!this.push(U[he][0])||!this.pushAny(U[he][1]))return!1;return!0}write(S){return this.pushAny(S)}pushAny(S){var U=Y(S);switch(U){case"Number":return this._pushNumber(S);case"String":return this._pushString(S);case"Boolean":return this._pushBoolean(S);case"Object":return this._pushObject(S);case"Array":return this._pushArray(this,S);case"Uint8Array":return this._pushBuffer(this,r.isBuffer(S)?S:r.from(S));case"Null":return this._pushUInt8(D);case"Undefined":return this._pushUndefined(S);case"Map":return this._pushMap(this,S);case"Set":return this._pushSet(this,S);case"URL":return this._pushUrl(this,S);case"BigNumber":return this._pushBigNumber(this,S);case"Date":return this._pushDate(this,S);case"RegExp":return this._pushRegexp(this,S);case"Symbol":switch(S){case f.NULL:return this._pushObject(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+S.toString())}default:throw new Error("Unknown type: "+typeof S+", "+(S?S.toString():""))}}finalize(){if(this.offset===0)return null;for(var S=this.result,U=this.resultLength,he=this.resultMethod,le=this.offset,I=0,X=0;X<le;X++)I+=U[X];var G=r.allocUnsafe(I),z=0,H=0;for(X=0;X<le;X++){switch(H=U[X],he[X]){case 0:S[X].copy(G,z);break;case 1:G.writeUInt8(S[X],z,!0);break;case 2:G.writeUInt16BE(S[X],z,!0);break;case 3:G.writeUInt32BE(S[X],z,!0);break;case 4:G.writeDoubleBE(S[X],z,!0);break;case 5:G.write(S[X],z,H,"utf8");break;default:throw new Error("unkown method")}z+=H}var ae=G;return this._reset(),ae}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(S){let U=new Ea;if(!U.pushAny(S))throw new Error("Failed to encode input");return U.finalize()}};t.exports=Z}),Wa=ze(e=>{e.Diagnose=ph(),e.Decoder=wc(),e.Encoder=gh(),e.Simple=gc(),e.Tagged=yc(),e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}),_c=ze(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=9007199254740992;function r(I,...X){let G=new Uint8Array(I.byteLength+X.reduce((H,ae)=>H+ae.byteLength,0));G.set(new Uint8Array(I),0);let z=I.byteLength;for(let H of X)G.set(new Uint8Array(H),z),z+=H.byteLength;return G.buffer}function n(I,X,G){G=G.replace(/[^0-9a-fA-F]/g,"");let z=2**(X-24);G=G.slice(-z*2).padStart(z*2,"0");let H=[(I<<5)+X].concat(G.match(/../g).map(ae=>parseInt(ae,16)));return new Uint8Array(H).buffer}function i(I,X){if(X<24)return new Uint8Array([(I<<5)+X]).buffer;{let G=X<=255?24:X<=65535?25:X<=4294967295?26:27;return n(I,G,X.toString(16))}}function a(I){let X=[];for(let G=0;G<I.length;G++){let z=I.charCodeAt(G);z<128?X.push(z):z<2048?X.push(192|z>>6,128|z&63):z<55296||z>=57344?X.push(224|z>>12,128|z>>6&63,128|z&63):(G++,z=(z&1023)<<10|I.charCodeAt(G)&1023,X.push(240|z>>18,128|z>>12&63,128|z>>6&63,128|z&63))}return r(new Uint8Array(i(3,I.length)),new Uint8Array(X))}function s(I,X){if(I==14277111)return r(new Uint8Array([217,217,247]),X);if(I<24)return r(new Uint8Array([192+I]),X);{let G=I<=255?24:I<=65535?25:I<=4294967295?26:27,z=2**(G-24),H=I.toString(16).slice(-z*2).padStart(z*2,"0"),ae=[192+G].concat(H.match(/../g).map(A=>parseInt(A,16)));return new Uint8Array(ae).buffer}}e.tagged=s;function c(I){return new Uint8Array(I).buffer}e.raw=c;function u(I){if(isNaN(I))throw new RangeError("Invalid number.");I=Math.min(Math.max(0,I),23);let X=[0+I];return new Uint8Array(X).buffer}e.uSmall=u;function h(I,X){if(I=parseInt(""+I,X),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,I),255),I=I.toString(16),n(0,24,I)}e.u8=h;function f(I,X){if(I=parseInt(""+I,X),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,I),65535),I=I.toString(16),n(0,25,I)}e.u16=f;function y(I,X){if(I=parseInt(""+I,X),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,I),4294967295),I=I.toString(16),n(0,26,I)}e.u32=y;function P(I,X){if(typeof I=="string"&&X==16){if(I.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return n(0,27,I)}if(I=parseInt(""+I,X),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,I),t),I=I.toString(16),n(0,27,I)}e.u64=P;function p(I){if(isNaN(I))throw new RangeError("Invalid number.");if(I===0)return u(0);I=Math.min(Math.max(0,-I),24)-1;let X=[32+I];return new Uint8Array(X).buffer}e.iSmall=p;function g(I,X){if(I=parseInt(""+I,X),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,-I-1),255),I=I.toString(16),n(1,24,I)}e.i8=g;function v(I,X){if(I=parseInt(""+I,X),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,-I-1),65535),I=I.toString(16),n(1,25,I)}e.i16=v;function B(I,X){if(I=parseInt(""+I,X),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,-I-1),4294967295),I=I.toString(16),n(1,26,I)}e.i32=B;function C(I,X){if(typeof I=="string"&&X==16){if(I.startsWith("-")?I=I.slice(1):I="0",I.match(/[^0-9a-fA-F]/)||I.length>16)throw new RangeError("Invalid number.");let G=!1,z=I.split("").reduceRight((H,ae)=>{if(G)return ae+H;let A=parseInt(ae,16)-1;return A>=0?(G=!0,A.toString(16)+H):"f"+H},"");return G?n(1,27,z):P(0)}if(I=parseInt(""+I,X),isNaN(I))throw new RangeError("Invalid number.");return I=Math.min(Math.max(0,-I-1),9007199254740992),I=I.toString(16),n(1,27,I)}e.i64=C;function D(I){return I>=0?I<24?u(I):I<=255?h(I):I<=65535?f(I):I<=4294967295?y(I):P(I):I>=-24?p(I):I>=-255?g(I):I>=-65535?v(I):I>=-4294967295?B(I):C(I)}e.number=D;function q(I){return r(i(2,I.byteLength),I)}e.bytes=q;function ie(I){return a(I)}e.string=ie;function te(I){return r(i(4,I.length),...I)}e.array=te;function se(I,X=!1){I instanceof Map||(I=new Map(Object.entries(I)));let G=Array.from(I.entries());return X&&(G=G.sort(([z],[H])=>z.localeCompare(H))),r(i(5,I.size),...G.map(([z,H])=>r(a(z),H)))}e.map=se;function Y(I){let X=new Float32Array([I]);return r(new Uint8Array([250]),new Uint8Array(X.buffer))}e.singleFloat=Y;function Z(I){let X=new Float64Array([I]);return r(new Uint8Array([251]),new Uint8Array(X.buffer))}e.doubleFloat=Z;function be(I){return I?S():U()}e.bool=be;function S(){return c(new Uint8Array([245]))}e.true_=S;function U(){return c(new Uint8Array([244]))}e.false_=U;function he(){return c(new Uint8Array([246]))}e.null_=he;function le(){return c(new Uint8Array([247]))}e.undefined_=le}),yh=ze(e=>{var t=e&&e.__importStar||function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var f in u)Object.hasOwnProperty.call(u,f)&&(h[f]=u[f]);return h.default=u,h};Object.defineProperty(e,"__esModule",{value:!0});var r=t(_c()),n=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array],i=class{constructor(u,h=!1){this._serializer=u,this._stable=h,this.name="jsonDefault",this.priority=-100}match(u){return["undefined","boolean","number","string","object"].indexOf(typeof u)!=-1}encode(u){switch(typeof u){case"undefined":return r.undefined_();case"boolean":return r.bool(u);case"number":return Math.floor(u)===u?r.number(u):r.doubleFloat(u);case"string":return r.string(u);case"object":if(u===null)return r.null_();if(Array.isArray(u))return r.array(u.map(h=>this._serializer.serializeValue(h)));if(n.find(h=>u instanceof h))return r.bytes(u.buffer);if(Object.getOwnPropertyNames(u).indexOf("toJSON")!==-1)return this.encode(u.toJSON());if(u instanceof Map){let h=new Map;for(let[f,y]of u.entries())h.set(f,this._serializer.serializeValue(y));return r.map(h,this._stable)}else{let h=new Map;for(let[f,y]of Object.entries(u))h.set(f,this._serializer.serializeValue(y));return r.map(h,this._stable)}default:throw new Error("Invalid value.")}}};e.JsonDefaultCborEncoder=i;var a=class{constructor(){this.name="cborEncoder",this.priority=-90}match(u){return typeof u=="object"&&typeof u.toCBOR=="function"}encode(u){return u.toCBOR()}};e.ToCborEncoder=a;var s=class{constructor(){this._encoders=new Set}static withDefaultEncoders(u=!1){let h=new this;return h.addEncoder(new i(h,u)),h.addEncoder(new a),h}removeEncoder(u){for(let h of this._encoders.values())h.name==u&&this._encoders.delete(h)}addEncoder(u){this._encoders.add(u)}getEncoderFor(u){let h=null;for(let f of this._encoders)(!h||f.priority>h.priority)&&f.match(u)&&(h=f);if(h===null)throw new Error("Could not find an encoder for value.");return h}serializeValue(u){return this.getEncoderFor(u).encode(u)}serialize(u){return this.serializeValue(u)}};e.CborSerializer=s;var c=class extends s{serialize(u){return r.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(u))]))}};e.SelfDescribeCborSerializer=c}),Ri=ze(e=>{function t(i){for(var a in i)e.hasOwnProperty(a)||(e[a]=i[a])}var r=e&&e.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var s in i)Object.hasOwnProperty.call(i,s)&&(a[s]=i[s]);return a.default=i,a};Object.defineProperty(e,"__esModule",{value:!0}),t(yh());var n=r(_c());e.value=n}),di="abcdefghijklmnopqrstuvwxyz234567",Cr=Object.create(null);for(let e=0;e<di.length;e++)Cr[di[e]]=e;Cr[0]=Cr.o;Cr[1]=Cr.i;function bh(e){let t=0,r=0,n="";function i(a){return t<0?r|=a>>-t:r=a<<t&248,t>3?(t-=8,1):(t<4&&(n+=di[r>>3],t+=5),0)}for(let a=0;a<e.length;)a+=i(e[a]);return n+(t<0?di[r>>3]:"")}function mh(e){let t=0,r=0,n=new Uint8Array(e.length*4/3|0),i=0;function a(s){let c=Cr[s.toLowerCase()];if(c===void 0)throw new Error(`Invalid character: ${JSON.stringify(s)}`);c<<=3,r|=c>>>t,t+=5,t>=8&&(n[i++]=r,t-=8,t>0?r=c<<5-t&255:r=0)}for(let s of e)a(s);return n.slice(0,i)}var wh=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function vh(e){let t=new Uint8Array(e),r=-1;for(let n=0;n<t.length;n++){let i=(t[n]^r)&255;r=wh[i]^r>>>8}return(r^-1)>>>0}function _h(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Za(e,...t){if(!_h(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Cs(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Eh(e,t){Za(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Wi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,Zi=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_t=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Ec(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function xc(e){return typeof e=="string"&&(e=Ec(e)),Za(e),e}function xh(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];Za(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let a=e[n];r.set(a,i),i+=a.length}return r}var Th=class{clone(){return this._cloneInto()}};function Ja(e){let t=n=>e().update(xc(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Tc(e=32){if(Wi&&typeof Wi.getRandomValues=="function")return Wi.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Ih(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),c=Number(r&a),u=n?4:0,h=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+h,c,n)}var Ah=(e,t,r)=>e&t^~e&r,Bh=(e,t,r)=>e&t^e&r^t&r,Ic=class extends Th{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Zi(this.buffer)}update(e){Cs(this);let{view:t,buffer:r,blockLen:n}=this;e=xc(e);let i=e.length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let c=Zi(e);for(;n<=i-a;a+=n)this.process(c,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cs(this),Eh(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let f=a;f<n;f++)t[f]=0;Ih(r,n-8,BigInt(this.length*8),i),this.process(r,0);let s=Zi(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)s.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}},Sh=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vt=new Uint32Array(64),Ac=class extends Ic{constructor(){super(64,32,8,!1),this.A=jt[0]|0,this.B=jt[1]|0,this.C=jt[2]|0,this.D=jt[3]|0,this.E=jt[4]|0,this.F=jt[5]|0,this.G=jt[6]|0,this.H=jt[7]|0}get(){let{A:t,B:r,C:n,D:i,E:a,F:s,G:c,H:u}=this;return[t,r,n,i,a,s,c,u]}set(t,r,n,i,a,s,c,u){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=c|0,this.H=u|0}process(t,r){for(let y=0;y<16;y++,r+=4)Vt[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){let P=Vt[y-15],p=Vt[y-2],g=_t(P,7)^_t(P,18)^P>>>3,v=_t(p,17)^_t(p,19)^p>>>10;Vt[y]=v+Vt[y-7]+g+Vt[y-16]|0}let{A:n,B:i,C:a,D:s,E:c,F:u,G:h,H:f}=this;for(let y=0;y<64;y++){let P=_t(c,6)^_t(c,11)^_t(c,25),p=f+P+Ah(c,u,h)+Sh[y]+Vt[y]|0,g=(_t(n,2)^_t(n,13)^_t(n,22))+Bh(n,i,a)|0;f=h,h=u,u=c,c=s+p|0,s=a,a=i,i=n,n=p+g|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(n,i,a,s,c,u,h,f)}roundClean(){Vt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Nh=class extends Ac{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Xa=Ja(()=>new Ac),Oh=Ja(()=>new Nh);function $h(e){return Oh.create().update(new Uint8Array(e)).digest()}var In="__principal__",Rh=2,Ms=4,Ph="aaaaa-aa",Uh=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},kh=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),""),xe=class Fn{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([Ms]))}static managementCanister(){return this.fromHex(Ph)}static selfAuthenticating(t){let r=$h(t);return new this(new Uint8Array([...r,Rh]))}static from(t){if(typeof t=="string")return Fn.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Fn(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Fn(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(Uh(t))}static fromText(t){let r=t;if(t.includes(In)){let s=JSON.parse(t);In in s&&(r=s[In])}let n=r.toLowerCase().replace(/-/g,""),i=mh(n);i=i.slice(4,i.length);let a=new this(i);if(a.toText()!==r)throw new Error(`Principal "${a.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return a}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Ms}toUint8Array(){return this._arr}toHex(){return kh(this._arr).toUpperCase()}toText(){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,vh(this._arr));let r=new Uint8Array(t),n=Uint8Array.from(this._arr),i=new Uint8Array([...r,...n]),a=bh(i).match(/.{1,5}/g);if(!a)throw new Error;return a.join("-")}toString(){return this.toText()}toJSON(){return{[In]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){let r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){let r=this.compareTo(t);return r=="gt"||r=="eq"}},pt=class Bc extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,Bc.prototype)}},Ch=ir(Wa()),Nr=ir(Ri()),Mh=ir(Ri());function vt(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0)),r=0;for(let n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function Qe(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}var Lh=new RegExp(/^[0-9a-fA-F]+$/);function Lt(e){if(!Lh.test(e))throw new Error("Invalid hexadecimal string.");let t=[...e].reduce((r,n,i)=>(r[i/2|0]=(r[i/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function Sc(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;let r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return r[i]-n[i];return 0}function Nc(e,t){return Sc(e,t)===0}function en(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Qa(e){return e instanceof Uint8Array?en(e):e instanceof ArrayBuffer?e:Array.isArray(e)?en(new Uint8Array(e)):"buffer"in e?Qa(e.buffer):en(new Uint8Array(e))}var Fh=class{get name(){return"Principal"}get priority(){return 0}match(e){return e&&e._isPrincipal===!0}encode(e){return Nr.value.bytes(e.toUint8Array())}},Dh=class{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return Nr.value.bytes(new Uint8Array(t))}},jh=class{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?Nr.value.tagged(2,Nr.value.bytes(Lt(t.toString(16)))):Nr.value.tagged(3,Nr.value.bytes(Lt((BigInt("-1")*t).toString(16))))}},Pi=Mh.SelfDescribeCborSerializer.withDefaultEncoders(!0);Pi.addEncoder(new Fh);Pi.addEncoder(new Dh);Pi.addEncoder(new jh);var xa;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(xa||(xa={}));function Ji(e){return Pi.serialize(e)}function Ls(e){let t=e.byteLength,r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}var Vh=class extends Ch.default.Decoder{createByteString(t){return vt(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}};function Mt(e){let t=new Uint8Array(e),r=new Vh({size:t.byteLength,tags:{2:n=>Ls(n),3:n=>-Ls(n),[xa.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${Qe(t)}`)}}var an={};Ai(an,{Bool:()=>Qc,BoolClass:()=>kc,ConstructType:()=>ar,Empty:()=>Jc,EmptyClass:()=>Pc,FixedIntClass:()=>wr,FixedNatClass:()=>tr,Float32:()=>iu,Float64:()=>au,FloatClass:()=>es,Func:()=>_u,FuncClass:()=>ns,Int:()=>ru,Int16:()=>ou,Int32:()=>cu,Int64:()=>uu,Int8:()=>su,IntClass:()=>Lc,Nat:()=>nu,Nat16:()=>fu,Nat32:()=>hu,Nat64:()=>du,Nat8:()=>lu,NatClass:()=>Fc,Null:()=>eu,NullClass:()=>Cc,Opt:()=>bu,OptClass:()=>gi,PrimitiveType:()=>gt,Principal:()=>pu,PrincipalClass:()=>Wc,Rec:()=>vu,RecClass:()=>Dr,Record:()=>mu,RecordClass:()=>ts,Reserved:()=>Xc,ReservedClass:()=>pi,Service:()=>Eu,ServiceClass:()=>Zc,Text:()=>tu,TextClass:()=>Mc,Tuple:()=>gu,TupleClass:()=>zc,Type:()=>Ui,Unknown:()=>Zh,UnknownClass:()=>Uc,Variant:()=>wu,VariantClass:()=>Gc,Vec:()=>yu,VecClass:()=>Dc,Visitor:()=>Kh,decode:()=>Wh,encode:()=>Yh});function Re(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0)),r=0;for(let n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}var Fr=class{constructor(e,t=(e==null?void 0:e.byteLength)||0){this._buffer=Ta(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,t)}get buffer(){return Ta(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){let t=this._view.subarray(0,e);return this._view=this._view.subarray(e),t.slice().buffer}readUint8(){let e=this._view[0];return this._view=this._view.subarray(1),e}write(e){let t=new Uint8Array(e),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+t.byteLength>=this._buffer.byteLength?this.alloc(t.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+t.byteLength),this._view.set(t,r)}get end(){return this._view.byteLength===0}alloc(e){let t=new ArrayBuffer((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(t,0,this._view.byteLength+e);r.set(this._view),this._buffer=t,this._view=r}};function Xi(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Ta(e){return e instanceof Uint8Array?Xi(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Xi(new Uint8Array(e)):"buffer"in e?Ta(e.buffer):Xi(new Uint8Array(e))}function qh(e){let t=new TextEncoder().encode(e),r=0;for(let n of t)r=(r*223+n)%2**32;return r}function Bt(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){let t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return qh(e)}function Oc(){throw new Error("unexpected end of buffer")}function br(e,t){return e.byteLength<t&&Oc(),e.read(t)}function mr(e){let t=e.readUint8();return t===void 0&&Oc(),t}function De(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");let t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new Fr(new ArrayBuffer(t),0);for(;;){let n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function Ye(e){let t=BigInt(1),r=BigInt(0),n;do n=mr(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function He(e){typeof e=="number"&&(e=BigInt(e));let t=e<BigInt(0);t&&(e=-e-BigInt(1));let r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new Fr(new ArrayBuffer(r),0);for(;;){let a=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&a&64||!t&&e===BigInt(0)&&!(a&64)){n.write(new Uint8Array([a]));break}else n.write(new Uint8Array([a|128]))}function i(a){let s=a%BigInt(128);return Number(t?BigInt(128)-s-BigInt(1):s)}return n.buffer}function Kt(e){let t=new Uint8Array(e.buffer),r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return Ye(e);break}let n=new Uint8Array(br(e,r+1)),i=BigInt(0);for(let a=n.byteLength-1;a>=0;a--)i=i*BigInt(128)+BigInt(128-(n[a]&127)-1);return-i-BigInt(1)}function zh(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return $c(e,t)}function $c(e,t){e=BigInt(e);let r=new Fr(new ArrayBuffer(Math.min(1,t)),0),n=0,i=BigInt(256),a=BigInt(0),s=Number(e%i);for(r.write(new Uint8Array([s]));++n<t;)e<0&&a===BigInt(0)&&s!==0&&(a=BigInt(1)),s=Number((e/i-a)%BigInt(256)),r.write(new Uint8Array([s])),i*=BigInt(256);return r.buffer}function Rc(e,t){let r=BigInt(mr(e)),n=BigInt(1),i=0;for(;++i<t;){n*=BigInt(256);let a=BigInt(mr(e));r=r+n*a}return r}function Hh(e,t){let r=Rc(e,t),n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function Ia(e){let t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}var Dn="DIDL",Fs=400;function sn(e,t,r){return e.map((n,i)=>r(n,t[i]))}var Gh=class{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){let n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){let n=this._idx.get(t.name),i=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[i],this._typs.splice(i,1),this._idx.delete(r)}encode(){let t=De(this._typs.length),r=Re(...this._typs);return Re(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return He(this._idx.get(t)||0)}},Kh=class{visitType(e,t){throw new Error("Not implemented")}visitPrimitive(e,t){return this.visitType(e,t)}visitEmpty(e,t){return this.visitPrimitive(e,t)}visitBool(e,t){return this.visitPrimitive(e,t)}visitNull(e,t){return this.visitPrimitive(e,t)}visitReserved(e,t){return this.visitPrimitive(e,t)}visitText(e,t){return this.visitPrimitive(e,t)}visitNumber(e,t){return this.visitPrimitive(e,t)}visitInt(e,t){return this.visitNumber(e,t)}visitNat(e,t){return this.visitNumber(e,t)}visitFloat(e,t){return this.visitPrimitive(e,t)}visitFixedInt(e,t){return this.visitNumber(e,t)}visitFixedNat(e,t){return this.visitNumber(e,t)}visitPrincipal(e,t){return this.visitPrimitive(e,t)}visitConstruct(e,t){return this.visitType(e,t)}visitVec(e,t,r){return this.visitConstruct(e,r)}visitOpt(e,t,r){return this.visitConstruct(e,r)}visitRecord(e,t,r){return this.visitConstruct(e,r)}visitTuple(e,t,r){let n=t.map((i,a)=>[`_${a}_`,i]);return this.visitRecord(e,n,r)}visitVariant(e,t,r){return this.visitConstruct(e,r)}visitRec(e,t,r){return this.visitConstruct(t,r)}visitFunc(e,t){return this.visitConstruct(e,t)}visitService(e,t){return this.visitConstruct(e,t)}},Ui=class{display(){return this.name}valueToString(t){return je(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}},gt=class extends Ui{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}},ar=class extends Ui{checkType(e){if(e instanceof Dr){let t=e.getType();if(typeof t>"u")throw new Error("type mismatch with uninitialized type");return t}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}},Pc=class extends gt{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return He(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}},Uc=class extends Ui{checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,t){throw e.visitType(this,t)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${je(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,t){let r=t.decodeValue(e,t);Object(r)!==r&&(r=Object(r));let n;return t instanceof Dr?n=()=>t.getType():n=()=>t,Object.defineProperty(r,"type",{value:n,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}},kc=class extends gt{accept(e,t){return e.visitBool(this,t)}covariant(e){if(typeof e=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${je(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return He(-2)}decodeValue(e,t){switch(this.checkType(t),mr(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}},Cc=class extends gt{accept(e,t){return e.visitNull(this,t)}covariant(e){if(e===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${je(e)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return He(-1)}decodeValue(e,t){return this.checkType(t),null}get name(){return"null"}},pi=class extends gt{accept(e,t){return e.visitReserved(this,t)}covariant(e){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return He(-16)}decodeValue(e,t){return t.name!==this.name&&t.decodeValue(e,t),null}get name(){return"reserved"}},Mc=class extends gt{accept(e,t){return e.visitText(this,t)}covariant(e){if(typeof e=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${je(e)}`)}encodeValue(e){let t=new TextEncoder().encode(e),r=De(t.byteLength);return Re(r,t)}encodeType(){return He(-15)}decodeValue(e,t){this.checkType(t);let r=Ye(e),n=br(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(n)}get name(){return"text"}valueToString(e){return'"'+e+'"'}},Lc=class extends gt{accept(e,t){return e.visitInt(this,t)}covariant(e){if(typeof e=="bigint"||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${je(e)}`)}encodeValue(e){return He(e)}encodeType(){return He(-4)}decodeValue(e,t){return this.checkType(t),Kt(e)}get name(){return"int"}valueToString(e){return e.toString()}},Fc=class extends gt{accept(e,t){return e.visitNat(this,t)}covariant(e){if(typeof e=="bigint"&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${je(e)}`)}encodeValue(e){return De(e)}encodeType(){return He(-3)}decodeValue(e,t){return this.checkType(t),Ye(e)}get name(){return"nat"}valueToString(e){return e.toString()}},es=class extends gt{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){let r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){let t=this._bits===32?-13:-14;return He(t)}decodeValue(t,r){this.checkType(r);let n=br(t,this._bits/8),i=new DataView(n);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}},wr=class extends gt{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){let r=Ia(this._bits-1)*BigInt(-1),n=Ia(this._bits-1)-BigInt(1),i=!1;if(typeof t=="bigint")i=t>=r&&t<=n;else if(Number.isInteger(t)){let a=BigInt(t);i=a>=r&&a<=n}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){return $c(t,this._bits/8)}encodeType(){let t=Math.log2(this._bits)-3;return He(-9-t)}decodeValue(t,r){this.checkType(r);let n=Hh(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}},tr=class extends gt{constructor(e){super(),this._bits=e}accept(e,t){return e.visitFixedNat(this,t)}covariant(e){let t=Ia(this._bits),r=!1;if(typeof e=="bigint"&&e>=BigInt(0)?r=e<t:Number.isInteger(e)&&e>=0?r=BigInt(e)<t:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${je(e)}`)}encodeValue(e){return zh(e,this._bits/8)}encodeType(){let e=Math.log2(this._bits)-3;return He(-5-e)}decodeValue(e,t){this.checkType(t);let r=Rc(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}},Dc=class jc extends ar{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof tr&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){let r=this._type instanceof tr?this._type._bits:this._type instanceof wr?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,i)=>{try{return this._type.covariant(n)}catch(a){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){let r=De(t.length);if(this._blobOptimization)return Re(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return Re(r,new Uint8Array(t.buffer));let n=new Fr(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(let i of t){let a=this._type.encodeValue(i);n.write(new Uint8Array(a))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);let r=He(-19),n=this._type.encodeType(t);t.add(this,Re(r,n))}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof jc))throw new Error("Not a vector type");let i=Number(Ye(t));if(this._type instanceof tr){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof wr){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}let a=[];for(let s=0;s<i;s++)a.push(this._type.decodeValue(t,n._type));return a}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(r=>this._type.valueToString(r)).join("; ")+"}"}},gi=class Vc extends ar{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${je(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Re(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);let r=He(-18),n=this._type.encodeType(t);t.add(this,Re(r,n))}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof Vc))throw new Error("Not an option type");switch(mr(t)){case 0:return[];case 1:return[this._type.decodeValue(t,n._type)];default:throw new Error("Not an option value")}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}},ts=class qc extends ar{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Bt(r[0])-Bt(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){let t=[];for(let r=0;r<this._fields.length;r++){let[n,i]=this._fields[r];if(n!==`_${r}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){let r=this._fields.map(([i])=>t[i]),n=sn(this._fields,r,([,i],a)=>i.encodeValue(a));return Re(...n)}_buildTypeTableImpl(t){this._fields.forEach(([a,s])=>s.buildTypeTable(t));let r=He(-20),n=De(this._fields.length),i=this._fields.map(([a,s])=>Re(De(Bt(a)),s.encodeType(t)));t.add(this,Re(r,n,Re(...i)))}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof qc))throw new Error("Not a record type");let i={},a=0,s=0;for(;s<n._fields.length;){let[c,u]=n._fields[s];if(a>=this._fields.length){u.decodeValue(t,u),s++;continue}let[h,f]=this._fields[a],y=Bt(this._fields[a][0]),P=Bt(c);if(y===P)i[h]=f.decodeValue(t,u),a++,s++;else if(P>y)if(f instanceof gi||f instanceof pi)i[h]=[],a++;else throw new Error("Cannot find required field "+h);else u.decodeValue(t,u),s++}for(let[c,u]of this._fields.slice(a))if(u instanceof gi||u instanceof pi)i[c]=[];else throw new Error("Cannot find required field "+c);return i}get name(){return`record {${this._fields.map(([t,r])=>t+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([t,r])=>t+":"+r.display()).join("; ")}}`}valueToString(t){let r=this._fields.map(([n])=>t[n]);return`record {${sn(this._fields,r,([n,i],a)=>n+"="+i.valueToString(a)).join("; ")}}`}},zc=class Hc extends ts{constructor(t){let r={};t.forEach((n,i)=>r["_"+i+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){let r=sn(this._components,t,(n,i)=>n.encodeValue(i));return Re(...r)}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof Hc))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");let i=[];for(let[a,s]of n._components.entries())a>=this._components.length?s.decodeValue(t,s):i.push(this._components[a].decodeValue(t,s));return i}display(){return`record {${this._components.map(t=>t.display()).join("; ")}}`}valueToString(t){return`record {${sn(this._components,t,(r,n)=>r.valueToString(n)).join("; ")}}`}},Gc=class Kc extends ar{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Bt(r[0])-Bt(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){let[n,i]=this._fields[r];if(t.hasOwnProperty(n)){let a=De(r),s=i.encodeValue(t[n]);return Re(a,s)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,a])=>{a.buildTypeTable(t)});let r=He(-21),n=De(this._fields.length),i=this._fields.map(([a,s])=>Re(De(Bt(a)),s.encodeType(t)));t.add(this,Re(r,n,...i))}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof Kc))throw new Error("Not a variant type");let i=Number(Ye(t));if(i>=n._fields.length)throw Error("Invalid variant index: "+i);let[a,s]=n._fields[i];for(let[c,u]of this._fields)if(Bt(a)===Bt(c)){let h=u.decodeValue(t,s);return{[c]:h}}throw new Error("Cannot find field hash "+a)}get name(){return`variant {${this._fields.map(([t,r])=>t+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([t,r])=>t+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(t){for(let[r,n]of this._fields)if(t.hasOwnProperty(r)){let i=n.valueToString(t[r]);return i==="null"?`variant {${r}}`:`variant {${r}=${i}}`}throw new Error("Variant has no data: "+t)}},Dr=class Yc extends ar{constructor(){super(...arguments),this._id=Yc._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}};Dr._counter=0;function rs(e){if(mr(e)!==1)throw new Error("Cannot decode principal");let t=Number(Ye(e));return xe.fromUint8Array(new Uint8Array(br(e,t)))}var Wc=class extends gt{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){let r=t.toUint8Array(),n=De(r.byteLength);return Re(new Uint8Array([1]),n,r)}encodeType(){return He(-24)}decodeValue(t,r){return this.checkType(r),rs(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}},ns=class extends ar{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,i)=>n.valueToString(r[i])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue([t,r]){let n=t.toUint8Array(),i=De(n.byteLength),a=Re(new Uint8Array([1]),i,n),s=new TextEncoder().encode(r),c=De(s.byteLength);return Re(new Uint8Array([1]),a,c,s)}_buildTypeTableImpl(t){this.argTypes.forEach(h=>h.buildTypeTable(t)),this.retTypes.forEach(h=>h.buildTypeTable(t));let r=He(-22),n=De(this.argTypes.length),i=Re(...this.argTypes.map(h=>h.encodeType(t))),a=De(this.retTypes.length),s=Re(...this.retTypes.map(h=>h.encodeType(t))),c=De(this.annotations.length),u=Re(...this.annotations.map(h=>this.encodeAnnotation(h)));t.add(this,Re(r,n,i,a,s,c,u))}decodeValue(t){if(mr(t)!==1)throw new Error("Cannot decode function reference");let r=rs(t),n=Number(Ye(t)),i=br(t,n),a=new TextDecoder("utf8",{fatal:!0}).decode(i);return[r,a]}get name(){let t=this.argTypes.map(i=>i.name).join(", "),r=this.retTypes.map(i=>i.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){let t=this.argTypes.map(i=>i.display()).join(", "),r=this.retTypes.map(i=>i.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t}) → (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}},Zc=class extends ar{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${je(t)}`)}encodeValue(t){let r=t.toUint8Array(),n=De(r.length);return Re(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([a,s])=>s.buildTypeTable(t));let r=He(-23),n=De(this._fields.length),i=this._fields.map(([a,s])=>{let c=new TextEncoder().encode(a),u=De(c.length);return Re(u,c,s.encodeType(t))});t.add(this,Re(r,n,...i))}decodeValue(t){return rs(t)}get name(){return`service {${this._fields.map(([t,r])=>t+":"+r.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}};function je(e){let t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>Fs?t.substring(0,Fs-3)+"...":t}function Yh(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");let r=new Gh;e.forEach(u=>u.buildTypeTable(r));let n=new TextEncoder().encode(Dn),i=r.encode(),a=De(t.length),s=Re(...e.map(u=>u.encodeType(r))),c=Re(...sn(e,t,(u,h)=>{try{u.covariant(h)}catch(f){throw new Error(f.message+`

`)}return u.encodeValue(h)}));return Re(n,i,a,s,c)}function Wh(e,t){let r=new Fr(t);if(t.byteLength<Dn.length)throw new Error("Message length smaller than magic number");let n=br(r,Dn.length),i=new TextDecoder().decode(n);if(i!==Dn)throw new Error("Wrong magic number: "+JSON.stringify(i));function a(p){let g=[],v=Number(Ye(p));for(let D=0;D<v;D++){let q=Number(Kt(p));switch(q){case-18:case-19:{let ie=Number(Kt(p));g.push([q,ie]);break}case-20:case-21:{let ie=[],te=Number(Ye(p)),se;for(;te--;){let Y=Number(Ye(p));if(Y>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof se=="number"&&se>=Y)throw new Error("field id collision or not sorted");se=Y;let Z=Number(Kt(p));ie.push([Y,Z])}g.push([q,ie]);break}case-22:{let ie=[],te=Number(Ye(p));for(;te--;)ie.push(Number(Kt(p)));let se=[],Y=Number(Ye(p));for(;Y--;)se.push(Number(Kt(p)));let Z=[],be=Number(Ye(p));for(;be--;)switch(Number(Ye(p))){case 1:{Z.push("query");break}case 2:{Z.push("oneway");break}case 3:{Z.push("composite_query");break}default:throw new Error("unknown annotation")}g.push([q,[ie,se,Z]]);break}case-23:{let ie=Number(Ye(p)),te=[];for(;ie--;){let se=Number(Ye(p)),Y=new TextDecoder().decode(br(p,se)),Z=Kt(p);te.push([Y,Z])}g.push([q,te]);break}default:throw new Error("Illegal op_code: "+q)}}let B=[],C=Number(Ye(p));for(let D=0;D<C;D++)B.push(Number(Kt(p)));return[g,B]}let[s,c]=a(r);if(c.length<e.length)throw new Error("Wrong number of return values");let u=s.map(p=>vu());function h(p){if(p<-24)throw new Error("future value not supported");if(p<0)switch(p){case-1:return eu;case-2:return Qc;case-3:return nu;case-4:return ru;case-5:return lu;case-6:return fu;case-7:return hu;case-8:return du;case-9:return su;case-10:return ou;case-11:return cu;case-12:return uu;case-13:return iu;case-14:return au;case-15:return tu;case-16:return Xc;case-17:return Jc;case-24:return pu;default:throw new Error("Illegal op_code: "+p)}if(p>=s.length)throw new Error("type index out of range");return u[p]}function f(p){switch(p[0]){case-19:{let g=h(p[1]);return yu(g)}case-18:{let g=h(p[1]);return bu(g)}case-20:{let g={};for(let[C,D]of p[1]){let q=`_${C}_`;g[q]=h(D)}let v=mu(g),B=v.tryAsTuple();return Array.isArray(B)?gu(...B):v}case-21:{let g={};for(let[v,B]of p[1]){let C=`_${v}_`;g[C]=h(B)}return wu(g)}case-22:{let[g,v,B]=p[1];return _u(g.map(C=>h(C)),v.map(C=>h(C)),B)}case-23:{let g={},v=p[1];for(let[B,C]of v){let D=h(C);if(D instanceof Dr&&(D=D.getType()),!(D instanceof ns))throw new Error("Illegal service definition: services can only contain functions");g[B]=D}return Eu(g)}default:throw new Error("Illegal op_code: "+p[0])}}s.forEach((p,g)=>{if(p[0]===-22){let v=f(p);u[g].fill(v)}}),s.forEach((p,g)=>{if(p[0]!==-22){let v=f(p);u[g].fill(v)}});let y=c.map(p=>h(p)),P=e.map((p,g)=>p.decodeValue(r,y[g]));for(let p=e.length;p<y.length;p++)y[p].decodeValue(r,y[p]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return P}var Jc=new Pc,Xc=new pi,Zh=new Uc,Qc=new kc,eu=new Cc,tu=new Mc,ru=new Lc,nu=new Fc,iu=new es(32),au=new es(64),su=new wr(8),ou=new wr(16),cu=new wr(32),uu=new wr(64),lu=new tr(8),fu=new tr(16),hu=new tr(32),du=new tr(64),pu=new Wc;function gu(...e){return new zc(e)}function yu(e){return new Dc(e)}function bu(e){return new gi(e)}function mu(e){return new ts(e)}function wu(e){return new Gc(e)}function vu(){return new Dr}function _u(e,t,r=[]){return new ns(e,t,r)}function Eu(e){return new Zc(e)}var Jh=ir(Wa());function wt(e){return en(Xa.create().update(new Uint8Array(e)).digest())}function jn(e){if(e instanceof Jh.default.Tagged)return jn(e.value);if(typeof e=="string")return xu(e);if(typeof e=="number")return wt(De(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return wt(e);if(Array.isArray(e)){let t=e.map(jn);return wt(vt(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return wt(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return jn(e.toHash());if(typeof e=="object")return yi(e);if(typeof e=="bigint")return wt(De(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}var xu=e=>{let t=new TextEncoder().encode(e);return wt(t)};function on(e){return yi(e)}function yi(e){let t=Object.entries(e).filter(([,n])=>n!==void 0).map(([n,i])=>{let a=xu(n),s=jn(i);return[a,s]}).sort(([n],[i])=>Sc(n,i)),r=vt(...t.map(n=>vt(...n)));return wt(r)}var Xh={};Ai(Xh,{abytes:()=>Dt,bitGet:()=>bi,bitLen:()=>Rr,bitMask:()=>bn,bitSet:()=>nd,bytesToHex:()=>nr,bytesToNumberBE:()=>dt,bytesToNumberLE:()=>$r,concatBytes:()=>Fe,createHmacDrbg:()=>id,ensureBytes:()=>it,equalBytes:()=>rd,hexToBytes:()=>Ci,hexToNumber:()=>is,isBytes:()=>yn,numberToBytesBE:()=>We,numberToBytesLE:()=>cn,numberToHexUnpadded:()=>Iu,numberToVarBytesBE:()=>td,utf8ToBytes:()=>Mi,validateObject:()=>jr});var Tu=BigInt(0),ki=BigInt(1),Qh=BigInt(2);function yn(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Dt(e){if(!yn(e))throw new Error("Uint8Array expected")}var ed=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nr(e){Dt(e);let t="";for(let r=0;r<e.length;r++)t+=ed[e[r]];return t}function Iu(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function is(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}var Rt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ds(e){if(e>=Rt._0&&e<=Rt._9)return e-Rt._0;if(e>=Rt._A&&e<=Rt._F)return e-(Rt._A-10);if(e>=Rt._a&&e<=Rt._f)return e-(Rt._a-10)}function Ci(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,a=0;i<r;i++,a+=2){let s=Ds(e.charCodeAt(a)),c=Ds(e.charCodeAt(a+1));if(s===void 0||c===void 0){let u=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}n[i]=s*16+c}return n}function dt(e){return is(nr(e))}function $r(e){return Dt(e),is(nr(Uint8Array.from(e).reverse()))}function We(e,t){return Ci(e.toString(16).padStart(t*2,"0"))}function cn(e,t){return We(e,t).reverse()}function td(e){return Ci(Iu(e))}function it(e,t,r){let n;if(typeof t=="string")try{n=Ci(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(yn(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function Fe(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];Dt(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let a=e[n];r.set(a,i),i+=a.length}return r}function rd(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function Mi(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Rr(e){let t;for(t=0;e>Tu;e>>=ki,t+=1);return t}function bi(e,t){return e>>BigInt(t)&ki}function nd(e,t,r){return e|(r?ki:Tu)<<BigInt(t)}var bn=e=>(Qh<<BigInt(e-1))-ki,Qi=e=>new Uint8Array(e),js=e=>Uint8Array.from(e);function id(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Qi(e),i=Qi(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},c=(...f)=>r(i,n,...f),u=(f=Qi())=>{i=c(js([0]),f),n=c(),f.length!==0&&(i=c(js([1]),f),n=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,y=[];for(;f<t;){n=c();let P=n.slice();y.push(P),f+=n.length}return Fe(...y)};return(f,y)=>{s(),u(f);let P;for(;!(P=y(h()));)u();return s(),P}}var ad={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||yn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function jr(e,t,r={}){let n=(i,a,s)=>{let c=ad[a];if(typeof c!="function")throw new Error(`Invalid validator "${a}", expected function`);let u=e[i];if(!(s&&u===void 0)&&!c(u,e))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${a}`)};for(let[i,a]of Object.entries(t))n(i,a,!1);for(let[i,a]of Object.entries(r))n(i,a,!0);return e}var Xe=BigInt(0),Ce=BigInt(1),lr=BigInt(2),sd=BigInt(3),Aa=BigInt(4),Vs=BigInt(5),qs=BigInt(8);BigInt(9);BigInt(16);function Le(e,t){let r=e%t;return r>=Xe?r:t+r}function od(e,t,r){if(r<=Xe||t<Xe)throw new Error("Expected power/modulo > 0");if(r===Ce)return Xe;let n=Ce;for(;t>Xe;)t&Ce&&(n=n*e%r),e=e*e%r,t>>=Ce;return n}function Et(e,t,r){let n=e;for(;t-- >Xe;)n*=n,n%=r;return n}function zs(e,t){if(e===Xe||t<=Xe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Le(e,t),n=t,i=Xe,a=Ce;for(;r!==Xe;){let s=n/r,c=n%r,u=i-a*s;n=r,r=c,i=a,a=u}if(n!==Ce)throw new Error("invert: does not exist");return Le(i,t)}function cd(e){let t=(e-Ce)/lr,r,n,i;for(r=e-Ce,n=0;r%lr===Xe;r/=lr,n++);for(i=lr;i<e&&od(i,t,e)!==e-Ce;i++);if(n===1){let s=(e+Ce)/Aa;return function(c,u){let h=c.pow(u,s);if(!c.eql(c.sqr(h),u))throw new Error("Cannot find square root");return h}}let a=(r+Ce)/lr;return function(s,c){if(s.pow(c,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let u=n,h=s.pow(s.mul(s.ONE,i),r),f=s.pow(c,a),y=s.pow(c,r);for(;!s.eql(y,s.ONE);){if(s.eql(y,s.ZERO))return s.ZERO;let P=1;for(let g=s.sqr(y);P<u&&!s.eql(g,s.ONE);P++)g=s.sqr(g);let p=s.pow(h,Ce<<BigInt(u-P-1));h=s.sqr(p),f=s.mul(f,p),y=s.mul(y,h),u=P}return f}}function ud(e){if(e%Aa===sd){let t=(e+Ce)/Aa;return function(r,n){let i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%qs===Vs){let t=(e-Vs)/qs;return function(r,n){let i=r.mul(n,lr),a=r.pow(i,t),s=r.mul(n,a),c=r.mul(r.mul(s,lr),a),u=r.mul(s,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}}return cd(e)}var ld=(e,t)=>(Le(e,t)&Ce)===Ce,fd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Au(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=fd.reduce((n,i)=>(n[i]="function",n),t);return jr(e,r)}function Li(e,t,r){if(r<Xe)throw new Error("Expected power > 0");if(r===Xe)return e.ONE;if(r===Ce)return t;let n=e.ONE,i=t;for(;r>Xe;)r&Ce&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Ce;return n}function Fi(e,t){let r=new Array(t.length),n=t.reduce((a,s,c)=>e.is0(s)?a:(r[c]=a,e.mul(a,s)),e.ONE),i=e.inv(n);return t.reduceRight((a,s,c)=>e.is0(s)?a:(r[c]=e.mul(a,r[c]),e.mul(a,s)),i),r}function Bu(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function as(e,t,r=!1,n={}){if(e<=Xe)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:a}=Bu(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=ud(e),c=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:bn(i),ZERO:Xe,ONE:Ce,create:u=>Le(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Xe<=u&&u<e},is0:u=>u===Xe,isOdd:u=>(u&Ce)===Ce,neg:u=>Le(-u,e),eql:(u,h)=>u===h,sqr:u=>Le(u*u,e),add:(u,h)=>Le(u+h,e),sub:(u,h)=>Le(u-h,e),mul:(u,h)=>Le(u*h,e),pow:(u,h)=>Li(c,u,h),div:(u,h)=>Le(u*zs(h,e),e),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>zs(u,e),sqrt:n.sqrt||(u=>s(c,u)),invertBatch:u=>Fi(c,u),cmov:(u,h,f)=>f?h:u,toBytes:u=>r?cn(u,a):We(u,a),fromBytes:u=>{if(u.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${u.length}`);return r?$r(u):dt(u)}});return Object.freeze(c)}function hd(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function Su(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Nu(e){let t=Su(e);return t+Math.ceil(t/2)}function dd(e,t,r=!1){let n=e.length,i=Su(t),a=Nu(t);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);let s=r?dt(e):$r(e),c=Le(s,t-Ce)+Ce;return r?cn(c,i):We(c,i)}var pd=dt;function Wt(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function gd(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function ss(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function yd(e,t,r,n){Dt(e),Dt(t),ss(r),t.length>255&&(t=n(Fe(Mi("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:a}=n,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");let c=Fe(t,Wt(t.length,1)),u=Wt(0,a),h=Wt(r,2),f=new Array(s),y=n(Fe(u,e,h,Wt(0,1),c));f[0]=n(Fe(y,Wt(1,1),c));for(let P=1;P<=s;P++){let p=[gd(y,f[P-1]),Wt(P+1,1),c];f[P]=n(Fe(...p))}return Fe(...f).slice(0,r)}function bd(e,t,r,n,i){if(Dt(e),Dt(t),ss(r),t.length>255){let a=Math.ceil(2*n/8);t=i.create({dkLen:a}).update(Mi("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Wt(r,2)).update(t).update(Wt(t.length,1)).digest()}function Hs(e,t,r){jr(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:a,hash:s,expand:c,DST:u}=r;Dt(e),ss(t);let h=typeof u=="string"?Mi(u):u,f=n.toString(2).length,y=Math.ceil((f+i)/8),P=t*a*y,p;if(c==="xmd")p=yd(e,h,P,s);else if(c==="xof")p=bd(e,h,P,i,s);else if(c==="_internal_pass")p=e;else throw new Error('expand must be "xmd" or "xof"');let g=new Array(t);for(let v=0;v<t;v++){let B=new Array(a);for(let C=0;C<a;C++){let D=y*(C+v*a),q=p.subarray(D,D+y);B[C]=Le(pd(q),n)}g[v]=B}return g}function Ou(e,t){let r=t.map(n=>Array.from(n).reverse());return(n,i)=>{let[a,s,c,u]=r.map(h=>h.reduce((f,y)=>e.add(e.mul(f,n),y)));return n=e.div(a,s),i=e.mul(i,e.div(c,u)),{x:n,y:i}}}function Gs(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let a=Hs(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(a[0])),c=e.fromAffine(t(a[1])),u=s.add(c).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let a=Hs(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(a[0])).clearCofactor();return s.assertValidity(),s}}}var md=BigInt(0),ea=BigInt(1);function $u(e,t){let r=(i,a)=>{let s=a.negate();return i?s:a},n=i=>{let a=Math.ceil(t/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=e.ZERO,c=i;for(;a>md;)a&ea&&(s=s.add(c)),c=c.double(),a>>=ea;return s},precomputeWindow(i,a){let{windows:s,windowSize:c}=n(a),u=[],h=i,f=h;for(let y=0;y<s;y++){f=h,u.push(f);for(let P=1;P<c;P++)f=f.add(h),u.push(f);h=f.double()}return u},wNAF(i,a,s){let{windows:c,windowSize:u}=n(i),h=e.ZERO,f=e.BASE,y=BigInt(2**i-1),P=2**i,p=BigInt(i);for(let g=0;g<c;g++){let v=g*u,B=Number(s&y);s>>=p,B>u&&(B-=P,s+=ea);let C=v,D=v+Math.abs(B)-1,q=g%2!==0,ie=B<0;B===0?f=f.add(r(q,a[C])):h=h.add(r(ie,a[D]))}return{p:h,f}},wNAFCached(i,a,s,c){let u=i._WINDOW_SIZE||1,h=a.get(i);return h||(h=this.precomputeWindow(i,u),u!==1&&a.set(i,c(h))),this.wNAF(u,h,s)}}}function Ru(e){return Au(e.Fp),jr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Bu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function wd(e){let t=Ru(e);jr(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var fr=BigInt(0),Ze=BigInt(1),qt=BigInt(2),mi=BigInt(3),Ks=BigInt(4);function Ys(e){let t=wd(e),{Fp:r}=t,n=t.toBytes||((g,v,B)=>{let C=v.toAffine();return Fe(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=t.fromBytes||(g=>{let v=g.subarray(1),B=r.fromBytes(v.subarray(0,r.BYTES)),C=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:B,y:C}});function a(g){let{a:v,b:B}=t,C=r.sqr(g),D=r.mul(C,g);return r.add(r.add(D,r.mul(g,v)),B)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function s(g){return typeof g=="bigint"&&fr<g&&g<t.n}function c(g){if(!s(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(g){let{allowedPrivateKeyLengths:v,nByteLength:B,wrapPrivateKey:C,n:D}=t;if(v&&typeof g!="bigint"){if(yn(g)&&(g=nr(g)),typeof g!="string"||!v.includes(g.length))throw new Error("Invalid key");g=g.padStart(B*2,"0")}let q;try{q=typeof g=="bigint"?g:dt(it("private key",g,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof g}`)}return C&&(q=Le(q,D)),c(q),q}let h=new Map;function f(g){if(!(g instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(v,B,C){if(this.px=v,this.py=B,this.pz=C,v==null||!r.isValid(v))throw new Error("x required");if(B==null||!r.isValid(B))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(v){let{x:B,y:C}=v||{};if(!v||!r.isValid(B)||!r.isValid(C))throw new Error("invalid affine point");if(v instanceof y)throw new Error("projective point not allowed");let D=q=>r.eql(q,r.ZERO);return D(B)&&D(C)?y.ZERO:new y(B,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){let B=r.invertBatch(v.map(C=>C.pz));return v.map((C,D)=>C.toAffine(B[D])).map(y.fromAffine)}static fromHex(v){let B=y.fromAffine(i(it("pointHex",v)));return B.assertValidity(),B}static fromPrivateKey(v){return y.BASE.multiply(u(v))}_setWindowSize(v){this._WINDOW_SIZE=v,h.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:v,y:B}=this.toAffine();if(!r.isValid(v)||!r.isValid(B))throw new Error("bad point: x or y not FE");let C=r.sqr(B),D=a(v);if(!r.eql(C,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:v}=this.toAffine();if(r.isOdd)return!r.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){f(v);let{px:B,py:C,pz:D}=this,{px:q,py:ie,pz:te}=v,se=r.eql(r.mul(B,te),r.mul(q,D)),Y=r.eql(r.mul(C,te),r.mul(ie,D));return se&&Y}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){let{a:v,b:B}=t,C=r.mul(B,mi),{px:D,py:q,pz:ie}=this,te=r.ZERO,se=r.ZERO,Y=r.ZERO,Z=r.mul(D,D),be=r.mul(q,q),S=r.mul(ie,ie),U=r.mul(D,q);return U=r.add(U,U),Y=r.mul(D,ie),Y=r.add(Y,Y),te=r.mul(v,Y),se=r.mul(C,S),se=r.add(te,se),te=r.sub(be,se),se=r.add(be,se),se=r.mul(te,se),te=r.mul(U,te),Y=r.mul(C,Y),S=r.mul(v,S),U=r.sub(Z,S),U=r.mul(v,U),U=r.add(U,Y),Y=r.add(Z,Z),Z=r.add(Y,Z),Z=r.add(Z,S),Z=r.mul(Z,U),se=r.add(se,Z),S=r.mul(q,ie),S=r.add(S,S),Z=r.mul(S,U),te=r.sub(te,Z),Y=r.mul(S,be),Y=r.add(Y,Y),Y=r.add(Y,Y),new y(te,se,Y)}add(v){f(v);let{px:B,py:C,pz:D}=this,{px:q,py:ie,pz:te}=v,se=r.ZERO,Y=r.ZERO,Z=r.ZERO,be=t.a,S=r.mul(t.b,mi),U=r.mul(B,q),he=r.mul(C,ie),le=r.mul(D,te),I=r.add(B,C),X=r.add(q,ie);I=r.mul(I,X),X=r.add(U,he),I=r.sub(I,X),X=r.add(B,D);let G=r.add(q,te);return X=r.mul(X,G),G=r.add(U,le),X=r.sub(X,G),G=r.add(C,D),se=r.add(ie,te),G=r.mul(G,se),se=r.add(he,le),G=r.sub(G,se),Z=r.mul(be,X),se=r.mul(S,le),Z=r.add(se,Z),se=r.sub(he,Z),Z=r.add(he,Z),Y=r.mul(se,Z),he=r.add(U,U),he=r.add(he,U),le=r.mul(be,le),X=r.mul(S,X),he=r.add(he,le),le=r.sub(U,le),le=r.mul(be,le),X=r.add(X,le),U=r.mul(he,X),Y=r.add(Y,U),U=r.mul(G,X),se=r.mul(I,se),se=r.sub(se,U),U=r.mul(I,he),Z=r.mul(G,Z),Z=r.add(Z,U),new y(se,Y,Z)}subtract(v){return this.add(v.negate())}is0(){return this.equals(y.ZERO)}wNAF(v){return p.wNAFCached(this,h,v,B=>{let C=r.invertBatch(B.map(D=>D.pz));return B.map((D,q)=>D.toAffine(C[q])).map(y.fromAffine)})}multiplyUnsafe(v){let B=y.ZERO;if(v===fr)return B;if(c(v),v===Ze)return this;let{endo:C}=t;if(!C)return p.unsafeLadder(this,v);let{k1neg:D,k1:q,k2neg:ie,k2:te}=C.splitScalar(v),se=B,Y=B,Z=this;for(;q>fr||te>fr;)q&Ze&&(se=se.add(Z)),te&Ze&&(Y=Y.add(Z)),Z=Z.double(),q>>=Ze,te>>=Ze;return D&&(se=se.negate()),ie&&(Y=Y.negate()),Y=new y(r.mul(Y.px,C.beta),Y.py,Y.pz),se.add(Y)}multiply(v){c(v);let B=v,C,D,{endo:q}=t;if(q){let{k1neg:ie,k1:te,k2neg:se,k2:Y}=q.splitScalar(B),{p:Z,f:be}=this.wNAF(te),{p:S,f:U}=this.wNAF(Y);Z=p.constTimeNegate(ie,Z),S=p.constTimeNegate(se,S),S=new y(r.mul(S.px,q.beta),S.py,S.pz),C=Z.add(S),D=be.add(U)}else{let{p:ie,f:te}=this.wNAF(B);C=ie,D=te}return y.normalizeZ([C,D])[0]}multiplyAndAddUnsafe(v,B,C){let D=y.BASE,q=(te,se)=>se===fr||se===Ze||!te.equals(D)?te.multiplyUnsafe(se):te.multiply(se),ie=q(this,B).add(q(v,C));return ie.is0()?void 0:ie}toAffine(v){let{px:B,py:C,pz:D}=this,q=this.is0();v==null&&(v=q?r.ONE:r.inv(D));let ie=r.mul(B,v),te=r.mul(C,v),se=r.mul(D,v);if(q)return{x:r.ZERO,y:r.ZERO};if(!r.eql(se,r.ONE))throw new Error("invZ was invalid");return{x:ie,y:te}}isTorsionFree(){let{h:v,isTorsionFree:B}=t;if(v===Ze)return!0;if(B)return B(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:v,clearCofactor:B}=t;return v===Ze?this:B?B(y,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),n(y,this,v)}toHex(v=!0){return nr(this.toRawBytes(v))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);let P=t.nBitLength,p=$u(y,t.endo?Math.ceil(P/2):P);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:s}}function vd(e,t){let r=e.ORDER,n=fr;for(let g=r-Ze;g%qt===fr;g/=qt)n+=Ze;let i=n,a=qt<<i-Ze-Ze,s=a*qt,c=(r-Ze)/s,u=(c-Ze)/qt,h=s-Ze,f=a,y=e.pow(t,c),P=e.pow(t,(c+Ze)/qt),p=(g,v)=>{let B=y,C=e.pow(v,h),D=e.sqr(C);D=e.mul(D,v);let q=e.mul(g,D);q=e.pow(q,u),q=e.mul(q,C),C=e.mul(q,v),D=e.mul(q,g);let ie=e.mul(D,C);q=e.pow(ie,f);let te=e.eql(q,e.ONE);C=e.mul(D,P),q=e.mul(ie,B),D=e.cmov(C,D,te),ie=e.cmov(q,ie,te);for(let se=i;se>Ze;se--){let Y=se-qt;Y=qt<<Y-Ze;let Z=e.pow(ie,Y),be=e.eql(Z,e.ONE);C=e.mul(D,B),B=e.mul(B,B),Z=e.mul(ie,B),D=e.cmov(C,D,be),ie=e.cmov(Z,ie,be)}return{isValid:te,value:D}};if(e.ORDER%Ks===mi){let g=(e.ORDER-mi)/Ks,v=e.sqrt(e.neg(t));p=(B,C)=>{let D=e.sqr(C),q=e.mul(B,C);D=e.mul(D,q);let ie=e.pow(D,g);ie=e.mul(ie,q);let te=e.mul(ie,v),se=e.mul(e.sqr(ie),C),Y=e.eql(se,B),Z=e.cmov(te,ie,Y);return{isValid:Y,value:Z}}}return p}function Pu(e,t){if(Au(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=vd(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,c,u,h,f,y;i=e.sqr(n),i=e.mul(i,t.Z),a=e.sqr(i),a=e.add(a,i),s=e.add(a,e.ONE),s=e.mul(s,t.B),c=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),c=e.mul(c,t.A),a=e.sqr(s),h=e.sqr(c),u=e.mul(h,t.A),a=e.add(a,u),a=e.mul(a,s),h=e.mul(h,c),u=e.mul(h,t.B),a=e.add(a,u),f=e.mul(i,s);let{isValid:P,value:p}=r(a,h);y=e.mul(i,n),y=e.mul(y,p),f=e.cmov(f,s,P),y=e.cmov(y,p,P);let g=e.isOdd(n)===e.isOdd(y);return y=e.cmov(e.neg(y),y,g),f=e.div(f,c),{x:f,y}}}var ta=BigInt(2),An=BigInt(3);function _d(e){let{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:a}=e.fields,s=Rr(e.params.x);function c(G){let{x:z,y:H}=G,ae=z,A=H,_=n.ONE,W=ae,re=A,w=_,L=[];for(let fe=s-2;fe>=0;fe--){let de=n.sqr(re),ne=n.sqr(w),ce=n.multiplyByB(n.mul(ne,An)),me=n.mul(ce,An),b=n.sub(n.sub(n.sqr(n.add(re,w)),ne),de);if(L.push([n.sub(ce,de),n.mul(n.sqr(W),An),n.neg(b)]),W=n.div(n.mul(n.mul(n.sub(de,me),W),re),ta),re=n.sub(n.sqr(n.div(n.add(de,me),ta)),n.mul(n.sqr(ce),An)),w=n.mul(de,b),bi(e.params.x,fe)){let m=n.sub(re,n.mul(A,w)),E=n.sub(W,n.mul(ae,w));L.push([n.sub(n.mul(m,ae),n.mul(E,A)),n.neg(m),E]);let R=n.sqr(E),O=n.mul(R,E),N=n.mul(R,W),V=n.add(n.sub(O,n.mul(N,ta)),n.mul(n.sqr(m),w));W=n.mul(E,V),re=n.sub(n.mul(n.sub(N,V),m),n.mul(O,re)),w=n.mul(w,O)}}return L}function u(G,z){let{x:H}=e.params,ae=z[0],A=z[1],_=a.ONE;for(let W=0,re=s-2;re>=0;re--,W++){let w=G[W];if(_=a.multiplyBy014(_,w[0],n.mul(w[1],ae),n.mul(w[2],A)),bi(H,re)){W+=1;let L=G[W];_=a.multiplyBy014(_,L[0],n.mul(L[1],ae),n.mul(L[2],A))}re!==0&&(_=a.sqr(_))}return a.conjugate(_)}let h={randomPrivateKey:()=>{let G=Nu(r.ORDER);return dd(e.randomBytes(G),r.ORDER)},calcPairingPrecomputes:c},f=Ys({n:r.ORDER,...e.G1}),y=Object.assign(f,Gs(f.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults}));function P(G){let z=G;return z._PPRECOMPUTES||(z._PPRECOMPUTES=c(G.toAffine())),z._PPRECOMPUTES}let p=Ys({n:r.ORDER,...e.G2}),g=Object.assign(p,Gs(p.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),{ShortSignature:v}=e.G1,{Signature:B}=e.G2;function C(G,z,H=!0){if(G.equals(y.ProjectivePoint.ZERO)||z.equals(g.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");G.assertValidity(),z.assertValidity();let ae=G.toAffine(),A=u(P(z),[ae.x,ae.y]);return H?a.finalExponentiate(A):A}function D(G){return G instanceof y.ProjectivePoint?G:y.ProjectivePoint.fromHex(G)}function q(G,z){return G instanceof y.ProjectivePoint?G:y.hashToCurve(it("point",G),z)}function ie(G){return G instanceof g.ProjectivePoint?G:B.fromHex(G)}function te(G,z){return G instanceof g.ProjectivePoint?G:g.hashToCurve(it("point",G),z)}function se(G){return y.ProjectivePoint.fromPrivateKey(G).toRawBytes(!0)}function Y(G){return g.ProjectivePoint.fromPrivateKey(G).toRawBytes(!0)}function Z(G,z,H){let ae=te(G,H);ae.assertValidity();let A=ae.multiply(y.normPrivateKeyToScalar(z));return G instanceof g.ProjectivePoint?A:B.toRawBytes(A)}function be(G,z,H){let ae=q(G,H);ae.assertValidity();let A=ae.multiply(y.normPrivateKeyToScalar(z));return G instanceof y.ProjectivePoint?A:v.toRawBytes(A)}function S(G,z,H,ae){let A=D(H),_=te(z,ae),W=y.ProjectivePoint.BASE,re=ie(G),w=C(A.negate(),_,!1),L=C(W,re,!1),fe=a.finalExponentiate(a.mul(L,w));return a.eql(fe,a.ONE)}function U(G,z,H,ae){let A=ie(H),_=q(z,ae),W=g.ProjectivePoint.BASE,re=D(G),w=C(_,A,!1),L=C(re,W.negate(),!1),fe=a.finalExponentiate(a.mul(L,w));return a.eql(fe,a.ONE)}function he(G){if(!G.length)throw new Error("Expected non-empty array");let z=G.map(D).reduce((H,ae)=>H.add(ae),y.ProjectivePoint.ZERO);return G[0]instanceof y.ProjectivePoint?(z.assertValidity(),z):z.toRawBytes(!0)}function le(G){if(!G.length)throw new Error("Expected non-empty array");let z=G.map(ie).reduce((H,ae)=>H.add(ae),g.ProjectivePoint.ZERO);return G[0]instanceof g.ProjectivePoint?(z.assertValidity(),z):B.toRawBytes(z)}function I(G){if(!G.length)throw new Error("Expected non-empty array");let z=G.map(D).reduce((H,ae)=>H.add(ae),y.ProjectivePoint.ZERO);return G[0]instanceof y.ProjectivePoint?(z.assertValidity(),z):v.toRawBytes(z)}function X(G,z,H,ae){if(!z.length)throw new Error("Expected non-empty messages array");if(H.length!==z.length)throw new Error("Pubkey count should equal msg count");let A=ie(G),_=z.map(re=>te(re,ae)),W=H.map(D);try{let re=[];for(let fe of new Set(_)){let de=_.reduce((ne,ce,me)=>ce===fe?ne.add(W[me]):ne,y.ProjectivePoint.ZERO);re.push(C(de,fe,!1))}re.push(C(y.ProjectivePoint.BASE.negate(),A,!1));let w=re.reduce((fe,de)=>a.mul(fe,de),a.ONE),L=a.finalExponentiate(w);return a.eql(L,a.ONE)}catch{return!1}}return y.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:se,getPublicKeyForShortSignatures:Y,sign:Z,signShortSignature:be,verify:S,verifyBatch:X,verifyShortSignature:U,aggregatePublicKeys:he,aggregateSignatures:le,aggregateShortSignatures:I,millerLoop:u,pairing:C,G1:y,G2:g,Signature:B,ShortSignature:v,fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:a},params:{x:e.params.x,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:h}}var qe=BigInt(0),pr=BigInt(1),Me=BigInt(2),Bn=BigInt(3),tn=BigInt(4),Ed=BigInt(8),xd=BigInt(16),Ba=BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),Q=as(Ba),Ws=as(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),Zs=({c0:e,c1:t},{c0:r,c1:n})=>({c0:Q.add(e,r),c1:Q.add(t,n)}),Js=({c0:e,c1:t},{c0:r,c1:n})=>({c0:Q.sub(e,r),c1:Q.sub(t,n)}),Xs=({c0:e,c1:t},r)=>{if(typeof r=="bigint")return{c0:Q.mul(e,r),c1:Q.mul(t,r)};let{c0:n,c1:i}=r,a=Q.mul(e,n),s=Q.mul(t,i),c=Q.sub(a,s),u=Q.sub(Q.mul(Q.add(e,t),Q.add(n,i)),Q.add(a,s));return{c0:c,c1:u}},Qs=({c0:e,c1:t})=>{let r=Q.add(e,t),n=Q.sub(e,t),i=Q.add(e,e);return{c0:Q.mul(r,n),c1:Q.mul(i,t)}},Sn=Ba*Ba,x={ORDER:Sn,BITS:Rr(Sn),BYTES:Math.ceil(Rr(Sn)/8),MASK:bn(Rr(Sn)),ZERO:{c0:Q.ZERO,c1:Q.ZERO},ONE:{c0:Q.ONE,c1:Q.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>typeof e=="bigint"&&typeof t=="bigint",is0:({c0:e,c1:t})=>Q.is0(e)&&Q.is0(t),eql:({c0:e,c1:t},{c0:r,c1:n})=>Q.eql(e,r)&&Q.eql(t,n),neg:({c0:e,c1:t})=>({c0:Q.neg(e),c1:Q.neg(t)}),pow:(e,t)=>Li(x,e,t),invertBatch:e=>Fi(x,e),add:Zs,sub:Js,mul:Xs,sqr:Qs,addN:Zs,subN:Js,mulN:Xs,sqrN:Qs,div:(e,t)=>x.mul(e,typeof t=="bigint"?Q.inv(Q.create(t)):x.inv(t)),inv:({c0:e,c1:t})=>{let r=Q.inv(Q.create(e*e+t*t));return{c0:Q.mul(r,Q.create(e)),c1:Q.mul(r,Q.create(-t))}},sqrt:e=>{if(x.eql(e,x.ZERO))return x.ZERO;let t=x.pow(e,(x.ORDER+Ed)/xd),r=x.div(x.sqr(t),e),n=Id,i=[n[0],n[2],n[4],n[6]].find(p=>x.eql(p,r));if(!i)throw new Error("No root");let a=n.indexOf(i),s=n[a/2];if(!s)throw new Error("Invalid root");let c=x.div(t,s),u=x.neg(c),{re:h,im:f}=x.reim(c),{re:y,im:P}=x.reim(u);return f>P||f===P&&h>y?c:u},isOdd:e=>{let{re:t,im:r}=x.reim(e),n=t%Me,i=t===qe,a=r%Me;return BigInt(n||i&&a)==pr},fromBytes(e){if(e.length!==x.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:Q.fromBytes(e.subarray(0,Q.BYTES)),c1:Q.fromBytes(e.subarray(Q.BYTES))}},toBytes:({c0:e,c1:t})=>Fe(Q.toBytes(e),Q.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},i)=>({c0:Q.cmov(e,r,i),c1:Q.cmov(t,n,i)}),reim:({c0:e,c1:t})=>({re:e,im:t}),mulByNonresidue:({c0:e,c1:t})=>({c0:Q.sub(e,t),c1:Q.add(e,t)}),multiplyByB:({c0:e,c1:t})=>{let r=Q.mul(e,tn),n=Q.mul(t,tn);return{c0:Q.sub(r,n),c1:Q.add(r,n)}},fromBigTuple:e=>{if(e.length!==2)throw new Error("Invalid tuple");let t=e.map(r=>Q.create(r));return{c0:t[0],c1:t[1]}},frobeniusMap:({c0:e,c1:t},r)=>({c0:e,c1:Q.mul(t,Td[r%2])})},Td=[BigInt("0x1"),BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa")].map(e=>Q.create(e)),zt=BigInt("0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09"),Id=[[pr,qe],[zt,-zt],[qe,pr],[zt,zt],[-pr,qe],[-zt,zt],[qe,-pr],[-zt,-zt]].map(e=>x.fromBigTuple(e)),eo=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:a})=>({c0:x.add(e,n),c1:x.add(t,i),c2:x.add(r,a)}),to=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:a})=>({c0:x.sub(e,n),c1:x.sub(t,i),c2:x.sub(r,a)}),ro=({c0:e,c1:t,c2:r},n)=>{if(typeof n=="bigint")return{c0:x.mul(e,n),c1:x.mul(t,n),c2:x.mul(r,n)};let{c0:i,c1:a,c2:s}=n,c=x.mul(e,i),u=x.mul(t,a),h=x.mul(r,s);return{c0:x.add(c,x.mulByNonresidue(x.sub(x.mul(x.add(t,r),x.add(a,s)),x.add(u,h)))),c1:x.add(x.sub(x.mul(x.add(e,t),x.add(i,a)),x.add(c,u)),x.mulByNonresidue(h)),c2:x.sub(x.add(u,x.mul(x.add(e,r),x.add(i,s))),x.add(c,h))}},no=({c0:e,c1:t,c2:r})=>{let n=x.sqr(e),i=x.mul(x.mul(e,t),Me),a=x.mul(x.mul(t,r),Me),s=x.sqr(r);return{c0:x.add(x.mulByNonresidue(a),n),c1:x.add(x.mulByNonresidue(s),i),c2:x.sub(x.sub(x.add(x.add(i,x.sqr(x.add(x.sub(e,t),r))),a),n),s)}},pe={ORDER:x.ORDER,BITS:3*x.BITS,BYTES:3*x.BYTES,MASK:bn(3*x.BITS),ZERO:{c0:x.ZERO,c1:x.ZERO,c2:x.ZERO},ONE:{c0:x.ONE,c1:x.ZERO,c2:x.ZERO},create:e=>e,isValid:({c0:e,c1:t,c2:r})=>x.isValid(e)&&x.isValid(t)&&x.isValid(r),is0:({c0:e,c1:t,c2:r})=>x.is0(e)&&x.is0(t)&&x.is0(r),neg:({c0:e,c1:t,c2:r})=>({c0:x.neg(e),c1:x.neg(t),c2:x.neg(r)}),eql:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:a})=>x.eql(e,n)&&x.eql(t,i)&&x.eql(r,a),sqrt:()=>{throw new Error("Not implemented")},div:(e,t)=>pe.mul(e,typeof t=="bigint"?Q.inv(Q.create(t)):pe.inv(t)),pow:(e,t)=>Li(pe,e,t),invertBatch:e=>Fi(pe,e),add:eo,sub:to,mul:ro,sqr:no,addN:eo,subN:to,mulN:ro,sqrN:no,inv:({c0:e,c1:t,c2:r})=>{let n=x.sub(x.sqr(e),x.mulByNonresidue(x.mul(r,t))),i=x.sub(x.mulByNonresidue(x.sqr(r)),x.mul(e,t)),a=x.sub(x.sqr(t),x.mul(e,r)),s=x.inv(x.add(x.mulByNonresidue(x.add(x.mul(r,i),x.mul(t,a))),x.mul(e,n)));return{c0:x.mul(s,n),c1:x.mul(s,i),c2:x.mul(s,a)}},fromBytes:e=>{if(e.length!==pe.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:x.fromBytes(e.subarray(0,x.BYTES)),c1:x.fromBytes(e.subarray(x.BYTES,2*x.BYTES)),c2:x.fromBytes(e.subarray(2*x.BYTES))}},toBytes:({c0:e,c1:t,c2:r})=>Fe(x.toBytes(e),x.toBytes(t),x.toBytes(r)),cmov:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:a},s)=>({c0:x.cmov(e,n,s),c1:x.cmov(t,i,s),c2:x.cmov(r,a,s)}),fromBigSix:e=>{if(!Array.isArray(e)||e.length!==6)throw new Error("Invalid Fp6 usage");return{c0:x.fromBigTuple(e.slice(0,2)),c1:x.fromBigTuple(e.slice(2,4)),c2:x.fromBigTuple(e.slice(4,6))}},frobeniusMap:({c0:e,c1:t,c2:r},n)=>({c0:x.frobeniusMap(e,n),c1:x.mul(x.frobeniusMap(t,n),Ad[n%6]),c2:x.mul(x.frobeniusMap(r,n),Bd[n%6])}),mulByNonresidue:({c0:e,c1:t,c2:r})=>({c0:x.mulByNonresidue(r),c1:e,c2:t}),multiplyBy1:({c0:e,c1:t,c2:r},n)=>({c0:x.mulByNonresidue(x.mul(r,n)),c1:x.mul(e,n),c2:x.mul(t,n)}),multiplyBy01({c0:e,c1:t,c2:r},n,i){let a=x.mul(e,n),s=x.mul(t,i);return{c0:x.add(x.mulByNonresidue(x.sub(x.mul(x.add(t,r),i),s)),a),c1:x.sub(x.sub(x.mul(x.add(n,i),x.add(e,t)),a),s),c2:x.add(x.sub(x.mul(x.add(e,r),n),a),s)}},multiplyByFp2:({c0:e,c1:t,c2:r},n)=>({c0:x.mul(e,n),c1:x.mul(t,n),c2:x.mul(r,n)})},Ad=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x1")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe")]].map(e=>x.fromBigTuple(e)),Bd=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaad"),BigInt("0x0")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa"),BigInt("0x0")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffff"),BigInt("0x0")]].map(e=>x.fromBigTuple(e)),os=BigInt("0xd201000000010000"),Sd=Rr(os),io=({c0:e,c1:t},{c0:r,c1:n})=>({c0:pe.add(e,r),c1:pe.add(t,n)}),ao=({c0:e,c1:t},{c0:r,c1:n})=>({c0:pe.sub(e,r),c1:pe.sub(t,n)}),so=({c0:e,c1:t},r)=>{if(typeof r=="bigint")return{c0:pe.mul(e,r),c1:pe.mul(t,r)};let{c0:n,c1:i}=r,a=pe.mul(e,n),s=pe.mul(t,i);return{c0:pe.add(a,pe.mulByNonresidue(s)),c1:pe.sub(pe.mul(pe.add(e,t),pe.add(n,i)),pe.add(a,s))}},oo=({c0:e,c1:t})=>{let r=pe.mul(e,t);return{c0:pe.sub(pe.sub(pe.mul(pe.add(pe.mulByNonresidue(t),e),pe.add(e,t)),r),pe.mulByNonresidue(r)),c1:pe.add(r,r)}};function ra(e,t){let r=x.sqr(e),n=x.sqr(t);return{first:x.add(x.mulByNonresidue(n),r),second:x.sub(x.sub(x.sqr(x.add(e,t)),r),n)}}var ve={ORDER:x.ORDER,BITS:2*x.BITS,BYTES:2*x.BYTES,MASK:bn(2*x.BITS),ZERO:{c0:pe.ZERO,c1:pe.ZERO},ONE:{c0:pe.ONE,c1:pe.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>pe.isValid(e)&&pe.isValid(t),is0:({c0:e,c1:t})=>pe.is0(e)&&pe.is0(t),neg:({c0:e,c1:t})=>({c0:pe.neg(e),c1:pe.neg(t)}),eql:({c0:e,c1:t},{c0:r,c1:n})=>pe.eql(e,r)&&pe.eql(t,n),sqrt:()=>{throw new Error("Not implemented")},inv:({c0:e,c1:t})=>{let r=pe.inv(pe.sub(pe.sqr(e),pe.mulByNonresidue(pe.sqr(t))));return{c0:pe.mul(e,r),c1:pe.neg(pe.mul(t,r))}},div:(e,t)=>ve.mul(e,typeof t=="bigint"?Q.inv(Q.create(t)):ve.inv(t)),pow:(e,t)=>Li(ve,e,t),invertBatch:e=>Fi(ve,e),add:io,sub:ao,mul:so,sqr:oo,addN:io,subN:ao,mulN:so,sqrN:oo,fromBytes:e=>{if(e.length!==ve.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:pe.fromBytes(e.subarray(0,pe.BYTES)),c1:pe.fromBytes(e.subarray(pe.BYTES))}},toBytes:({c0:e,c1:t})=>Fe(pe.toBytes(e),pe.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},i)=>({c0:pe.cmov(e,r,i),c1:pe.cmov(t,n,i)}),fromBigTwelve:e=>({c0:pe.fromBigSix(e.slice(0,6)),c1:pe.fromBigSix(e.slice(6,12))}),frobeniusMap(e,t){let r=pe.frobeniusMap(e.c0,t),{c0:n,c1:i,c2:a}=pe.frobeniusMap(e.c1,t),s=Nd[t%12];return{c0:r,c1:pe.create({c0:x.mul(n,s),c1:x.mul(i,s),c2:x.mul(a,s)})}},multiplyBy014:({c0:e,c1:t},r,n,i)=>{let a=pe.multiplyBy01(e,r,n),s=pe.multiplyBy1(t,i);return{c0:pe.add(pe.mulByNonresidue(s),a),c1:pe.sub(pe.sub(pe.multiplyBy01(pe.add(t,e),r,x.add(n,i)),a),s)}},multiplyByFp2:({c0:e,c1:t},r)=>({c0:pe.multiplyByFp2(e,r),c1:pe.multiplyByFp2(t,r)}),conjugate:({c0:e,c1:t})=>({c0:e,c1:pe.neg(t)}),_cyclotomicSquare:({c0:e,c1:t})=>{let{c0:r,c1:n,c2:i}=e,{c0:a,c1:s,c2:c}=t,{first:u,second:h}=ra(r,s),{first:f,second:y}=ra(a,i),{first:P,second:p}=ra(n,c),g=x.mulByNonresidue(p);return{c0:pe.create({c0:x.add(x.mul(x.sub(u,r),Me),u),c1:x.add(x.mul(x.sub(f,n),Me),f),c2:x.add(x.mul(x.sub(P,i),Me),P)}),c1:pe.create({c0:x.add(x.mul(x.add(g,a),Me),g),c1:x.add(x.mul(x.add(h,s),Me),h),c2:x.add(x.mul(x.add(y,c),Me),y)})}},_cyclotomicExp(e,t){let r=ve.ONE;for(let n=Sd-1;n>=0;n--)r=ve._cyclotomicSquare(r),bi(t,n)&&(r=ve.mul(r,e));return r},finalExponentiate:e=>{let t=os,r=ve.div(ve.frobeniusMap(e,6),e),n=ve.mul(ve.frobeniusMap(r,2),r),i=ve.conjugate(ve._cyclotomicExp(n,t)),a=ve.mul(ve.conjugate(ve._cyclotomicSquare(n)),i),s=ve.conjugate(ve._cyclotomicExp(a,t)),c=ve.conjugate(ve._cyclotomicExp(s,t)),u=ve.mul(ve.conjugate(ve._cyclotomicExp(c,t)),ve._cyclotomicSquare(i)),h=ve.conjugate(ve._cyclotomicExp(u,t)),f=ve.frobeniusMap(ve.mul(i,c),2),y=ve.frobeniusMap(ve.mul(s,n),3),P=ve.frobeniusMap(ve.mul(u,ve.conjugate(n)),1),p=ve.mul(ve.mul(h,ve.conjugate(a)),n);return ve.mul(ve.mul(ve.mul(f,y),P),p)}},Nd=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8"),BigInt("0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffff"),BigInt("0x0")],[BigInt("0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2"),BigInt("0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995"),BigInt("0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116")],[BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa"),BigInt("0x0")],[BigInt("0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3"),BigInt("0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09"),BigInt("0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaad"),BigInt("0x0")],[BigInt("0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116"),BigInt("0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995")]].map(e=>x.fromBigTuple(e)),Od=Ou(x,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>x.fromBigTuple(t.map(BigInt))))),$d=Ou(Q,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),Rd=Pu(x,{A:x.create({c0:Q.create(qe),c1:Q.create(BigInt(240))}),B:x.create({c0:Q.create(BigInt(1012)),c1:Q.create(BigInt(1012))}),Z:x.create({c0:Q.create(BigInt(-2)),c1:Q.create(BigInt(-1))})}),Pd=Pu(Q,{A:Q.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Q.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Q.create(BigInt(11))}),Uu=pe.create({c0:x.ZERO,c1:x.ONE,c2:x.ZERO}),ku=ve.create({c0:Uu,c1:pe.ZERO}),Cu=ve.create({c0:pe.ZERO,c1:Uu}),[Ud,kd]=ve.invertBatch([ku,Cu]);function Cd(e,t){let r=ve.mul(ve.frobeniusMap(ve.multiplyByFp2(Ud,e),1),ku).c0.c0,n=ve.mul(ve.frobeniusMap(ve.multiplyByFp2(kd,t),1),Cu).c0.c0;return[r,n]}function co(e,t){let r=t.toAffine(),n=Cd(r.x,r.y);return new e(n[0],n[1],x.ONE)}var Md=BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac");function Ld(e,t){return[x.mul(e,Md),x.neg(t)]}function Fd(e,t){let r=t.toAffine(),n=Ld(r.x,r.y);return new e(n[0],n[1],x.ONE)}var na=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Q.ORDER,m:2,k:128,expand:"xmd",hash:Xa}),wi=un(Q.toBytes(qe),{infinity:!0,compressed:!0});function Nn(e){e=e.slice();let t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function un(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function uo(e){e.assertValidity();let t=e.equals(et.G1.ProjectivePoint.ZERO),{x:r,y:n}=e.toAffine();if(t)return wi.slice();let i=Q.ORDER,a=!!(n*Me/i);return un(We(r,Q.BYTES),{compressed:!0,sort:a})}function lo(e){e.assertValidity();let t=Q.BYTES;if(e.equals(et.G2.ProjectivePoint.ZERO))return Fe(wi,We(qe,t));let{x:r,y:n}=e.toAffine(),{re:i,im:a}=x.reim(r),{re:s,im:c}=x.reim(n),u=!!((c>qe?c*Me:s*Me)/Q.ORDER&pr),h=i;return Fe(un(We(a,t),{sort:u,compressed:!0}),We(h,t))}var et=_d({fields:{Fp:Q,Fp2:x,Fp6:pe,Fp12:ve,Fr:Ws},G1:{Fp:Q,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:Q.ZERO,b:tn,htfDefaults:{...na,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{let r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(Q.mul(t.px,r),t.py,t.pz);return t.multiplyUnsafe(et.params.x).negate().multiplyUnsafe(et.params.x).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(et.params.x).add(t),mapToCurve:e=>{let{x:t,y:r}=Pd(Q.create(e[0]));return $d(t,r)},fromBytes:e=>{let{compressed:t,infinity:r,sort:n,value:i}=Nn(e);if(i.length===48&&t){let a=Q.ORDER,s=dt(i),c=Q.create(s&Q.MASK);if(r){if(c!==qe)throw new Error("G1: non-empty compressed point at infinity");return{x:qe,y:qe}}let u=Q.add(Q.pow(c,Bn),Q.create(et.params.G1b)),h=Q.sqrt(u);if(!h)throw new Error("Invalid compressed G1 point");return h*Me/a!==BigInt(n)&&(h=Q.neg(h)),{x:Q.create(c),y:Q.create(h)}}else if(i.length===96&&!t){let a=dt(i.subarray(0,Q.BYTES)),s=dt(i.subarray(Q.BYTES));if(r){if(a!==qe||s!==qe)throw new Error("G1: non-empty point at infinity");return et.G1.ProjectivePoint.ZERO.toAffine()}return{x:Q.create(a),y:Q.create(s)}}else throw new Error("Invalid point G1, expected 48/96 bytes")},toBytes:(e,t,r)=>{let n=t.equals(e.ZERO),{x:i,y:a}=t.toAffine();if(r){if(n)return wi.slice();let s=Q.ORDER,c=!!(a*Me/s);return un(We(i,Q.BYTES),{compressed:!0,sort:c})}else return n?Fe(new Uint8Array([64]),new Uint8Array(2*Q.BYTES-1)):Fe(We(i,Q.BYTES),We(a,Q.BYTES))},ShortSignature:{fromHex(e){let{infinity:t,sort:r,value:n}=Nn(it("signatureHex",e,48)),i=Q.ORDER,a=dt(n);if(t)return et.G1.ProjectivePoint.ZERO;let s=Q.create(a&Q.MASK),c=Q.add(Q.pow(s,Bn),Q.create(et.params.G1b)),u=Q.sqrt(c);if(!u)throw new Error("Invalid compressed G1 point");let h=BigInt(r);u*Me/i!==h&&(u=Q.neg(u));let f=et.G1.ProjectivePoint.fromAffine({x:s,y:u});return f.assertValidity(),f},toRawBytes(e){return uo(e)},toHex(e){return nr(uo(e))}}},G2:{Fp:x,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:x.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:x.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:x.ZERO,b:x.fromBigTuple([tn,tn]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...na},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{let{x:t,y:r}=Rd(x.fromBigTuple(e));return Od(t,r)},isTorsionFree:(e,t)=>t.multiplyUnsafe(et.params.x).negate().equals(co(e,t)),clearCofactor:(e,t)=>{let r=et.params.x,n=t.multiplyUnsafe(r).negate(),i=co(e,t),a=t.double();return a=Fd(e,a),a=a.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),a=a.add(i),a=a.subtract(n),a.subtract(t)},fromBytes:e=>{let{compressed:t,infinity:r,sort:n,value:i}=Nn(e);if(!t&&!r&&n||!t&&r&&n||n&&r&&t)throw new Error("Invalid encoding flag: "+(e[0]&224));let a=Q.BYTES,s=(c,u,h)=>dt(c.slice(u,h));if(i.length===96&&t){let c=et.params.G2b,u=Q.ORDER;if(r){if(i.reduce((v,B)=>v!==0?B+1:B,0)>0)throw new Error("Invalid compressed G2 point");return{x:x.ZERO,y:x.ZERO}}let h=s(i,0,a),f=s(i,a,2*a),y=x.create({c0:Q.create(f),c1:Q.create(h)}),P=x.add(x.pow(y,Bn),c),p=x.sqrt(P),g=p.c1===qe?p.c0*Me/u:p.c1*Me/u?pr:qe;return p=n&&g>0?p:x.neg(p),{x:y,y:p}}else if(i.length===192&&!t){if(r){if(i.reduce((y,P)=>y!==0?P+1:P,0)>0)throw new Error("Invalid uncompressed G2 point");return{x:x.ZERO,y:x.ZERO}}let c=s(i,0,a),u=s(i,a,2*a),h=s(i,2*a,3*a),f=s(i,3*a,4*a);return{x:x.fromBigTuple([u,c]),y:x.fromBigTuple([f,h])}}else throw new Error("Invalid point G2, expected 96/192 bytes")},toBytes:(e,t,r)=>{let{BYTES:n,ORDER:i}=Q,a=t.equals(e.ZERO),{x:s,y:c}=t.toAffine();if(r){if(a)return Fe(wi,We(qe,n));let u=!!(c.c1===qe?c.c0*Me/i:c.c1*Me/i);return Fe(un(We(s.c1,n),{compressed:!0,sort:u}),We(s.c0,n))}else{if(a)return Fe(new Uint8Array([64]),new Uint8Array(4*n-1));let{re:u,im:h}=x.reim(s),{re:f,im:y}=x.reim(c);return Fe(We(h,n),We(u,n),We(y,n),We(f,n))}},Signature:{fromHex(e){let{infinity:t,sort:r,value:n}=Nn(it("signatureHex",e)),i=Q.ORDER,a=n.length/2;if(a!==48&&a!==96)throw new Error("Invalid compressed signature length, must be 96 or 192");let s=dt(n.slice(0,a)),c=dt(n.slice(a));if(t)return et.G2.ProjectivePoint.ZERO;let u=Q.create(s&Q.MASK),h=Q.create(c),f=x.create({c0:h,c1:u}),y=x.add(x.pow(f,Bn),et.params.G2b),P=x.sqrt(y);if(!P)throw new Error("Failed to find a square root");let{re:p,im:g}=x.reim(P),v=BigInt(r),B=g>qe&&g*Me/i!==v,C=g===qe&&p*Me/i!==v;(B||C)&&(P=x.neg(P));let D=et.G2.ProjectivePoint.fromAffine({x:f,y:P});return D.assertValidity(),D},toRawBytes(e){return lo(e)},toHex(e){return nr(lo(e))}}},params:{x:os,r:Ws.ORDER},htfDefaults:na,hash:Xa,randomBytes:Tc});function Dd(e,t,r){let n=typeof e=="string"?e:Qe(e),i=typeof t=="string"?t:Qe(t),a=typeof r=="string"?r:Qe(r);return et.verifyShortSignature(i,a,n)}var Mu=e=>Ye(new Fr(e)),cs=e=>{let t=Mu(e);return new Date(Number(t)/1e6)},At=class extends pt{constructor(t){super(`Invalid certificate: ${t}`)}},St={Empty:0,Fork:1,Labeled:2,Leaf:3,Pruned:4};function Lu(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}var Fu=class Vn{constructor(t,r,n,i,a=5){this._rootKey=r,this._canisterId=n,this._blsVerify=i,this._maxAgeInMinutes=a,this.cert=Mt(new Uint8Array(t))}static async create(t){let r=Vn.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=Dd),new Vn(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes)}lookup(t){return Du(Mr(t,this.cert.tree))}lookup_label(t){return this.lookup([t])}async verify(){let t=await qn(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,i=Vd(r),a=vt(Kr("ic-state-root"),t),s=!1,c=this.lookup(["time"]);if(!c)throw new At("Certificate does not contain a time");let u=5*60*1e3,h=this._maxAgeInMinutes*60*1e3,f=Date.now(),y=f-h,P=f+u,p=cs(c);if(p.getTime()<y)throw new At(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+p.toISOString()+" Current time: "+new Date(f).toISOString());if(p.getTime()>P)throw new At("Certificate is signed more than 5 minutes in the future. Certificate time: "+p.toISOString()+" Current time: "+new Date(f).toISOString());try{s=await this._blsVerify(new Uint8Array(i),new Uint8Array(n),new Uint8Array(a))}catch{s=!1}if(!s)throw new At("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;let r=await Vn.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new At("Delegation certificates cannot be nested");if(await r.verify(),!ju({canisterId:this._canisterId,subnetId:xe.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new At(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Qe(t.subnet_id)}`);let n=r.lookup(["subnet",t.subnet_id,"public_key"]);if(!n)throw new Error(`Could not find subnet key for subnet 0x${Qe(t.subnet_id)}`);return n}},zr=Lt("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),jd=96;function Vd(e){let t=zr.byteLength+jd;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);let r=e.slice(0,zr.byteLength);if(!Lu(r,zr))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${zr}, but get ${r}`);return e.slice(zr.byteLength)}function Du(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return e.buffer}async function qn(e){switch(e[0]){case St.Empty:return wt(Kr("ic-hashtree-empty"));case St.Pruned:return e[1];case St.Leaf:return wt(vt(Kr("ic-hashtree-leaf"),e[1]));case St.Labeled:return wt(vt(Kr("ic-hashtree-labeled"),e[1],await qn(e[2])));case St.Fork:return wt(vt(Kr("ic-hashtree-fork"),await qn(e[1]),await qn(e[2])));default:throw new Error("unreachable")}}function Kr(e){let t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return vt(t,r)}function Mr(e,t){if(e.length===0)switch(t[0]){case St.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?t[1]:t[1]instanceof Uint8Array?t[1].buffer:t[1]}case St.Fork:return t;default:return t}let r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=qd(r,vi(t));if(n)return Mr(e.slice(1),n)}function vi(e){switch(e[0]){case St.Empty:return[];case St.Fork:return vi(e[1]).concat(vi(e[2]));default:return[e]}}function qd(e,t){if(t.length!==0){for(let r of t)if(r[0]===St.Labeled){let n=r[1];if(Lu(e,n))return r[2]}}}function ju(e){let{canisterId:t,subnetId:r,tree:n}=e,i=Mr(["subnet",r.toUint8Array(),"canister_ranges"],n);if(!i||!(i instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return Mt(i).map(a=>[xe.fromUint8Array(a[0]),xe.fromUint8Array(a[1])]).some(a=>a[0].ltEq(t)&&a[1].gtEq(t))}var zd=class{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}},Vu=async e=>{let{agent:t,paths:r}=e,n=xe.from(e.canisterId),i=[...new Set(r)],a=i.map(u=>Sa(u,n)),s=new Map,c=i.map((u,h)=>(async()=>{var f;try{let y=await t.readState(n,{paths:[a[h]]}),P=await Fu.create({certificate:y.certificate,rootKey:t.rootKey,canisterId:n}),p=(B,C)=>{if(C==="subnet"){let D=qu(y.certificate,n,t.rootKey);return{path:C,data:D}}else return{path:C,data:Du(B.lookup(Sa(C,n)))}},{path:g,data:v}=p(P,i[h]);if(!v)console.warn(`Expected to find result for path ${g}, but instead found nothing.`),typeof g=="string"?s.set(g,null):s.set(g.key,null);else switch(g){case"time":{s.set(g,cs(v));break}case"controllers":{s.set(g,Gd(v));break}case"module_hash":{s.set(g,fo(v));break}case"subnet":{s.set(g,v);break}case"candid":{s.set(g,new TextDecoder().decode(v));break}default:if(typeof g!="string"&&"key"in g&&"path"in g)switch(g.decodeStrategy){case"raw":s.set(g.key,v);break;case"leb128":{s.set(g.key,Mu(v));break}case"cbor":{s.set(g.key,zu(v));break}case"hex":{s.set(g.key,fo(v));break}case"utf-8":s.set(g.key,Hd(v))}}}catch(y){if(!((f=y==null?void 0:y.message)===null||f===void 0)&&f.includes("Invalid certificate"))throw new pt(y.message);typeof u!="string"&&"key"in u&&"path"in u?s.set(u.key,null):s.set(u,null),console.group(),console.warn(`Expected to find result for path ${u}, but instead found nothing.`),console.warn(y),console.groupEnd()}})());return await Promise.all(c),s},qu=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");let n=Mt(new Uint8Array(e)),i=n.tree,a=n.delegation,s;if(a&&a.subnet_id?s=xe.fromUint8Array(new Uint8Array(a.subnet_id)):!a&&typeof r<"u"?(s=xe.selfAuthenticating(new Uint8Array(r)),a={subnet_id:s.toUint8Array(),certificate:new ArrayBuffer(0)}):(s=xe.selfAuthenticating(xe.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),a={subnet_id:s.toUint8Array(),certificate:new ArrayBuffer(0)}),!ju({canisterId:t,subnetId:s,tree:i}))throw new Error("Canister not in range");let c=Mr(["subnet",a==null?void 0:a.subnet_id,"node"],i),u=vi(c);u.length;let h=new Map;return u.forEach(f=>{Object.getPrototypeOf(new Uint8Array(f[1]));let y=xe.from(new Uint8Array(f[1])).toText(),P=Mr(["public_key"],f[2]);if(P.byteLength!==44)throw new Error("Invalid public key length");h.set(y,P)}),{subnetId:xe.fromUint8Array(new Uint8Array(a.subnet_id)).toText(),nodeKeys:h}},Sa=(e,t)=>{let r=new TextEncoder,n=a=>new DataView(r.encode(a).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){let a=e.path,s=typeof a=="string"?n(a):a;return[n("canister"),i,n("metadata"),s]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},fo=e=>Qe(e),zu=e=>Mt(e),Hd=e=>new TextDecoder().decode(e),Gd=e=>zu(e).map(t=>xe.fromUint8Array(new Uint8Array(t)));/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*//*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/bls12-381.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/var ot={VITE_CANISTER_ORIGIN:"http://by6od-j4aaa-aaaaa-qaadq-cai.localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Pr={},Kd=ze(e=>{e.byteLength=u,e.toByteArray=f,e.fromByteArray=p;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0,s=i.length;a<s;++a)t[a]=i[a],r[i.charCodeAt(a)]=a;var a,s;r[45]=62,r[95]=63;function c(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=g.indexOf("=");B===-1&&(B=v);var C=B===v?0:4-B%4;return[B,C]}function u(g){var v=c(g),B=v[0],C=v[1];return(B+C)*3/4-C}function h(g,v,B){return(v+B)*3/4-B}function f(g){var v,B=c(g),C=B[0],D=B[1],q=new n(h(g,C,D)),ie=0,te=D>0?C-4:C,se;for(se=0;se<te;se+=4)v=r[g.charCodeAt(se)]<<18|r[g.charCodeAt(se+1)]<<12|r[g.charCodeAt(se+2)]<<6|r[g.charCodeAt(se+3)],q[ie++]=v>>16&255,q[ie++]=v>>8&255,q[ie++]=v&255;return D===2&&(v=r[g.charCodeAt(se)]<<2|r[g.charCodeAt(se+1)]>>4,q[ie++]=v&255),D===1&&(v=r[g.charCodeAt(se)]<<10|r[g.charCodeAt(se+1)]<<4|r[g.charCodeAt(se+2)]>>2,q[ie++]=v>>8&255,q[ie++]=v&255),q}function y(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function P(g,v,B){for(var C,D=[],q=v;q<B;q+=3)C=(g[q]<<16&16711680)+(g[q+1]<<8&65280)+(g[q+2]&255),D.push(y(C));return D.join("")}function p(g){for(var v,B=g.length,C=B%3,D=[],q=16383,ie=0,te=B-C;ie<te;ie+=q)D.push(P(g,ie,ie+q>te?te:ie+q));return C===1?(v=g[B-1],D.push(t[v>>2]+t[v<<4&63]+"==")):C===2&&(v=(g[B-2]<<8)+g[B-1],D.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),D.join("")}}),Yd=ze(e=>{var t=Kd(),r=pc(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=D,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=a(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{let o=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(o,l),o.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function s(o){if(o>i)throw new RangeError('The value "'+o+'" is invalid for option "size"');let l=new Uint8Array(o);return Object.setPrototypeOf(l,c.prototype),l}function c(o,l,d){if(typeof o=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(o)}return u(o,l,d)}c.poolSize=8192;function u(o,l,d){if(typeof o=="string")return P(o,l);if(ArrayBuffer.isView(o))return g(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(J(o,ArrayBuffer)||o&&J(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(J(o,SharedArrayBuffer)||o&&J(o.buffer,SharedArrayBuffer)))return v(o,l,d);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let T=o.valueOf&&o.valueOf();if(T!=null&&T!==o)return c.from(T,l,d);let F=B(o);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return c.from(o[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}c.from=function(o,l,d){return u(o,l,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function h(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function f(o,l,d){return h(o),o<=0?s(o):l!==void 0?typeof d=="string"?s(o).fill(l,d):s(o).fill(l):s(o)}c.alloc=function(o,l,d){return f(o,l,d)};function y(o){return h(o),s(o<0?0:C(o)|0)}c.allocUnsafe=function(o){return y(o)},c.allocUnsafeSlow=function(o){return y(o)};function P(o,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);let d=q(o,l)|0,T=s(d),F=T.write(o,l);return F!==d&&(T=T.slice(0,F)),T}function p(o){let l=o.length<0?0:C(o.length)|0,d=s(l);for(let T=0;T<l;T+=1)d[T]=o[T]&255;return d}function g(o){if(J(o,Uint8Array)){let l=new Uint8Array(o);return v(l.buffer,l.byteOffset,l.byteLength)}return p(o)}function v(o,l,d){if(l<0||o.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let T;return l===void 0&&d===void 0?T=new Uint8Array(o):d===void 0?T=new Uint8Array(o,l):T=new Uint8Array(o,l,d),Object.setPrototypeOf(T,c.prototype),T}function B(o){if(c.isBuffer(o)){let l=C(o.length)|0,d=s(l);return d.length===0||o.copy(d,0,0,l),d}if(o.length!==void 0)return typeof o.length!="number"||ge(o.length)?s(0):p(o);if(o.type==="Buffer"&&Array.isArray(o.data))return p(o.data)}function C(o){if(o>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return o|0}function D(o){return+o!=o&&(o=0),c.alloc(+o)}c.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==c.prototype},c.compare=function(o,l){if(J(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),J(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(o)||!c.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===l)return 0;let d=o.length,T=l.length;for(let F=0,K=Math.min(d,T);F<K;++F)if(o[F]!==l[F]){d=o[F],T=l[F];break}return d<T?-1:T<d?1:0},c.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(o,l){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return c.alloc(0);let d;if(l===void 0)for(l=0,d=0;d<o.length;++d)l+=o[d].length;let T=c.allocUnsafe(l),F=0;for(d=0;d<o.length;++d){let K=o[d];if(J(K,Uint8Array))F+K.length>T.length?(c.isBuffer(K)||(K=c.from(K)),K.copy(T,F)):Uint8Array.prototype.set.call(T,K,F);else if(c.isBuffer(K))K.copy(T,F);else throw new TypeError('"list" argument must be an Array of Buffers');F+=K.length}return T};function q(o,l){if(c.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||J(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);let d=o.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&d===0)return 0;let F=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return V(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return j(o).length;default:if(F)return T?-1:V(o).length;l=(""+l).toLowerCase(),F=!0}}c.byteLength=q;function ie(o,l,d){let T=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(o||(o="utf8");;)switch(o){case"hex":return ae(this,l,d);case"utf8":case"utf-8":return I(this,l,d);case"ascii":return z(this,l,d);case"latin1":case"binary":return H(this,l,d);case"base64":return le(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,l,d);default:if(T)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),T=!0}}c.prototype._isBuffer=!0;function te(o,l,d){let T=o[l];o[l]=o[d],o[d]=T}c.prototype.swap16=function(){let o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<o;l+=2)te(this,l,l+1);return this},c.prototype.swap32=function(){let o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<o;l+=4)te(this,l,l+3),te(this,l+1,l+2);return this},c.prototype.swap64=function(){let o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<o;l+=8)te(this,l,l+7),te(this,l+1,l+6),te(this,l+2,l+5),te(this,l+3,l+4);return this},c.prototype.toString=function(){let o=this.length;return o===0?"":arguments.length===0?I(this,0,o):ie.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(o){if(!c.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:c.compare(this,o)===0},c.prototype.inspect=function(){let o="",l=e.INSPECT_MAX_BYTES;return o=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(o+=" ... "),"<Buffer "+o+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(o,l,d,T,F){if(J(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),!c.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(l===void 0&&(l=0),d===void 0&&(d=o?o.length:0),T===void 0&&(T=0),F===void 0&&(F=this.length),l<0||d>o.length||T<0||F>this.length)throw new RangeError("out of range index");if(T>=F&&l>=d)return 0;if(T>=F)return-1;if(l>=d)return 1;if(l>>>=0,d>>>=0,T>>>=0,F>>>=0,this===o)return 0;let K=F-T,ee=d-l,Be=Math.min(K,ee),Ue=this.slice(T,F),Ae=o.slice(l,d);for(let Ee=0;Ee<Be;++Ee)if(Ue[Ee]!==Ae[Ee]){K=Ue[Ee],ee=Ae[Ee];break}return K<ee?-1:ee<K?1:0};function se(o,l,d,T,F){if(o.length===0)return-1;if(typeof d=="string"?(T=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,ge(d)&&(d=F?0:o.length-1),d<0&&(d=o.length+d),d>=o.length){if(F)return-1;d=o.length-1}else if(d<0)if(F)d=0;else return-1;if(typeof l=="string"&&(l=c.from(l,T)),c.isBuffer(l))return l.length===0?-1:Y(o,l,d,T,F);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(o,l,d):Uint8Array.prototype.lastIndexOf.call(o,l,d):Y(o,[l],d,T,F);throw new TypeError("val must be string, number or Buffer")}function Y(o,l,d,T,F){let K=1,ee=o.length,Be=l.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(o.length<2||l.length<2)return-1;K=2,ee/=2,Be/=2,d/=2}function Ue(Ee,_e){return K===1?Ee[_e]:Ee.readUInt16BE(_e*K)}let Ae;if(F){let Ee=-1;for(Ae=d;Ae<ee;Ae++)if(Ue(o,Ae)===Ue(l,Ee===-1?0:Ae-Ee)){if(Ee===-1&&(Ee=Ae),Ae-Ee+1===Be)return Ee*K}else Ee!==-1&&(Ae-=Ae-Ee),Ee=-1}else for(d+Be>ee&&(d=ee-Be),Ae=d;Ae>=0;Ae--){let Ee=!0;for(let _e=0;_e<Be;_e++)if(Ue(o,Ae+_e)!==Ue(l,_e)){Ee=!1;break}if(Ee)return Ae}return-1}c.prototype.includes=function(o,l,d){return this.indexOf(o,l,d)!==-1},c.prototype.indexOf=function(o,l,d){return se(this,o,l,d,!0)},c.prototype.lastIndexOf=function(o,l,d){return se(this,o,l,d,!1)};function Z(o,l,d,T){d=Number(d)||0;let F=o.length-d;T?(T=Number(T),T>F&&(T=F)):T=F;let K=l.length;T>K/2&&(T=K/2);let ee;for(ee=0;ee<T;++ee){let Be=parseInt(l.substr(ee*2,2),16);if(ge(Be))return ee;o[d+ee]=Be}return ee}function be(o,l,d,T){return k(V(l,o.length-d),o,d,T)}function S(o,l,d,T){return k($(l),o,d,T)}function U(o,l,d,T){return k(j(l),o,d,T)}function he(o,l,d,T){return k(M(l,o.length-d),o,d,T)}c.prototype.write=function(o,l,d,T){if(l===void 0)T="utf8",d=this.length,l=0;else if(d===void 0&&typeof l=="string")T=l,d=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(d)?(d=d>>>0,T===void 0&&(T="utf8")):(T=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let F=this.length-l;if((d===void 0||d>F)&&(d=F),o.length>0&&(d<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let K=!1;for(;;)switch(T){case"hex":return Z(this,o,l,d);case"utf8":case"utf-8":return be(this,o,l,d);case"ascii":case"latin1":case"binary":return S(this,o,l,d);case"base64":return U(this,o,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,o,l,d);default:if(K)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),K=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(o,l,d){return l===0&&d===o.length?t.fromByteArray(o):t.fromByteArray(o.slice(l,d))}function I(o,l,d){d=Math.min(o.length,d);let T=[],F=l;for(;F<d;){let K=o[F],ee=null,Be=K>239?4:K>223?3:K>191?2:1;if(F+Be<=d){let Ue,Ae,Ee,_e;switch(Be){case 1:K<128&&(ee=K);break;case 2:Ue=o[F+1],(Ue&192)===128&&(_e=(K&31)<<6|Ue&63,_e>127&&(ee=_e));break;case 3:Ue=o[F+1],Ae=o[F+2],(Ue&192)===128&&(Ae&192)===128&&(_e=(K&15)<<12|(Ue&63)<<6|Ae&63,_e>2047&&(_e<55296||_e>57343)&&(ee=_e));break;case 4:Ue=o[F+1],Ae=o[F+2],Ee=o[F+3],(Ue&192)===128&&(Ae&192)===128&&(Ee&192)===128&&(_e=(K&15)<<18|(Ue&63)<<12|(Ae&63)<<6|Ee&63,_e>65535&&_e<1114112&&(ee=_e))}}ee===null?(ee=65533,Be=1):ee>65535&&(ee-=65536,T.push(ee>>>10&1023|55296),ee=56320|ee&1023),T.push(ee),F+=Be}return G(T)}var X=4096;function G(o){let l=o.length;if(l<=X)return String.fromCharCode.apply(String,o);let d="",T=0;for(;T<l;)d+=String.fromCharCode.apply(String,o.slice(T,T+=X));return d}function z(o,l,d){let T="";d=Math.min(o.length,d);for(let F=l;F<d;++F)T+=String.fromCharCode(o[F]&127);return T}function H(o,l,d){let T="";d=Math.min(o.length,d);for(let F=l;F<d;++F)T+=String.fromCharCode(o[F]);return T}function ae(o,l,d){let T=o.length;(!l||l<0)&&(l=0),(!d||d<0||d>T)&&(d=T);let F="";for(let K=l;K<d;++K)F+=ye[o[K]];return F}function A(o,l,d){let T=o.slice(l,d),F="";for(let K=0;K<T.length-1;K+=2)F+=String.fromCharCode(T[K]+T[K+1]*256);return F}c.prototype.slice=function(o,l){let d=this.length;o=~~o,l=l===void 0?d:~~l,o<0?(o+=d,o<0&&(o=0)):o>d&&(o=d),l<0?(l+=d,l<0&&(l=0)):l>d&&(l=d),l<o&&(l=o);let T=this.subarray(o,l);return Object.setPrototypeOf(T,c.prototype),T};function _(o,l,d){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+l>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(o,l,d){o=o>>>0,l=l>>>0,d||_(o,l,this.length);let T=this[o],F=1,K=0;for(;++K<l&&(F*=256);)T+=this[o+K]*F;return T},c.prototype.readUintBE=c.prototype.readUIntBE=function(o,l,d){o=o>>>0,l=l>>>0,d||_(o,l,this.length);let T=this[o+--l],F=1;for(;l>0&&(F*=256);)T+=this[o+--l]*F;return T},c.prototype.readUint8=c.prototype.readUInt8=function(o,l){return o=o>>>0,l||_(o,1,this.length),this[o]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(o,l){return o=o>>>0,l||_(o,2,this.length),this[o]|this[o+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(o,l){return o=o>>>0,l||_(o,2,this.length),this[o]<<8|this[o+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(o,l){return o=o>>>0,l||_(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(o,l){return o=o>>>0,l||_(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},c.prototype.readBigUInt64LE=we(function(o){o=o>>>0,E(o,"offset");let l=this[o],d=this[o+7];(l===void 0||d===void 0)&&R(o,this.length-8);let T=l+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,F=this[++o]+this[++o]*2**8+this[++o]*2**16+d*2**24;return BigInt(T)+(BigInt(F)<<BigInt(32))}),c.prototype.readBigUInt64BE=we(function(o){o=o>>>0,E(o,"offset");let l=this[o],d=this[o+7];(l===void 0||d===void 0)&&R(o,this.length-8);let T=l*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],F=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+d;return(BigInt(T)<<BigInt(32))+BigInt(F)}),c.prototype.readIntLE=function(o,l,d){o=o>>>0,l=l>>>0,d||_(o,l,this.length);let T=this[o],F=1,K=0;for(;++K<l&&(F*=256);)T+=this[o+K]*F;return F*=128,T>=F&&(T-=Math.pow(2,8*l)),T},c.prototype.readIntBE=function(o,l,d){o=o>>>0,l=l>>>0,d||_(o,l,this.length);let T=l,F=1,K=this[o+--T];for(;T>0&&(F*=256);)K+=this[o+--T]*F;return F*=128,K>=F&&(K-=Math.pow(2,8*l)),K},c.prototype.readInt8=function(o,l){return o=o>>>0,l||_(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},c.prototype.readInt16LE=function(o,l){o=o>>>0,l||_(o,2,this.length);let d=this[o]|this[o+1]<<8;return d&32768?d|4294901760:d},c.prototype.readInt16BE=function(o,l){o=o>>>0,l||_(o,2,this.length);let d=this[o+1]|this[o]<<8;return d&32768?d|4294901760:d},c.prototype.readInt32LE=function(o,l){return o=o>>>0,l||_(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},c.prototype.readInt32BE=function(o,l){return o=o>>>0,l||_(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},c.prototype.readBigInt64LE=we(function(o){o=o>>>0,E(o,"offset");let l=this[o],d=this[o+7];(l===void 0||d===void 0)&&R(o,this.length-8);let T=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(d<<24);return(BigInt(T)<<BigInt(32))+BigInt(l+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),c.prototype.readBigInt64BE=we(function(o){o=o>>>0,E(o,"offset");let l=this[o],d=this[o+7];(l===void 0||d===void 0)&&R(o,this.length-8);let T=(l<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(T)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+d)}),c.prototype.readFloatLE=function(o,l){return o=o>>>0,l||_(o,4,this.length),r.read(this,o,!0,23,4)},c.prototype.readFloatBE=function(o,l){return o=o>>>0,l||_(o,4,this.length),r.read(this,o,!1,23,4)},c.prototype.readDoubleLE=function(o,l){return o=o>>>0,l||_(o,8,this.length),r.read(this,o,!0,52,8)},c.prototype.readDoubleBE=function(o,l){return o=o>>>0,l||_(o,8,this.length),r.read(this,o,!1,52,8)};function W(o,l,d,T,F,K){if(!c.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>F||l<K)throw new RangeError('"value" argument is out of bounds');if(d+T>o.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(o,l,d,T){if(o=+o,l=l>>>0,d=d>>>0,!T){let ee=Math.pow(2,8*d)-1;W(this,o,l,d,ee,0)}let F=1,K=0;for(this[l]=o&255;++K<d&&(F*=256);)this[l+K]=o/F&255;return l+d},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(o,l,d,T){if(o=+o,l=l>>>0,d=d>>>0,!T){let ee=Math.pow(2,8*d)-1;W(this,o,l,d,ee,0)}let F=d-1,K=1;for(this[l+F]=o&255;--F>=0&&(K*=256);)this[l+F]=o/K&255;return l+d},c.prototype.writeUint8=c.prototype.writeUInt8=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,1,255,0),this[l]=o&255,l+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,2,65535,0),this[l]=o&255,this[l+1]=o>>>8,l+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,2,65535,0),this[l]=o>>>8,this[l+1]=o&255,l+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,4,4294967295,0),this[l+3]=o>>>24,this[l+2]=o>>>16,this[l+1]=o>>>8,this[l]=o&255,l+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,4,4294967295,0),this[l]=o>>>24,this[l+1]=o>>>16,this[l+2]=o>>>8,this[l+3]=o&255,l+4};function re(o,l,d,T,F){m(l,T,F,o,d,7);let K=Number(l&BigInt(4294967295));o[d++]=K,K=K>>8,o[d++]=K,K=K>>8,o[d++]=K,K=K>>8,o[d++]=K;let ee=Number(l>>BigInt(32)&BigInt(4294967295));return o[d++]=ee,ee=ee>>8,o[d++]=ee,ee=ee>>8,o[d++]=ee,ee=ee>>8,o[d++]=ee,d}function w(o,l,d,T,F){m(l,T,F,o,d,7);let K=Number(l&BigInt(4294967295));o[d+7]=K,K=K>>8,o[d+6]=K,K=K>>8,o[d+5]=K,K=K>>8,o[d+4]=K;let ee=Number(l>>BigInt(32)&BigInt(4294967295));return o[d+3]=ee,ee=ee>>8,o[d+2]=ee,ee=ee>>8,o[d+1]=ee,ee=ee>>8,o[d]=ee,d+8}c.prototype.writeBigUInt64LE=we(function(o,l=0){return re(this,o,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=we(function(o,l=0){return w(this,o,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(o,l,d,T){if(o=+o,l=l>>>0,!T){let Be=Math.pow(2,8*d-1);W(this,o,l,d,Be-1,-Be)}let F=0,K=1,ee=0;for(this[l]=o&255;++F<d&&(K*=256);)o<0&&ee===0&&this[l+F-1]!==0&&(ee=1),this[l+F]=(o/K>>0)-ee&255;return l+d},c.prototype.writeIntBE=function(o,l,d,T){if(o=+o,l=l>>>0,!T){let Be=Math.pow(2,8*d-1);W(this,o,l,d,Be-1,-Be)}let F=d-1,K=1,ee=0;for(this[l+F]=o&255;--F>=0&&(K*=256);)o<0&&ee===0&&this[l+F+1]!==0&&(ee=1),this[l+F]=(o/K>>0)-ee&255;return l+d},c.prototype.writeInt8=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,1,127,-128),o<0&&(o=255+o+1),this[l]=o&255,l+1},c.prototype.writeInt16LE=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,2,32767,-32768),this[l]=o&255,this[l+1]=o>>>8,l+2},c.prototype.writeInt16BE=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,2,32767,-32768),this[l]=o>>>8,this[l+1]=o&255,l+2},c.prototype.writeInt32LE=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,4,2147483647,-2147483648),this[l]=o&255,this[l+1]=o>>>8,this[l+2]=o>>>16,this[l+3]=o>>>24,l+4},c.prototype.writeInt32BE=function(o,l,d){return o=+o,l=l>>>0,d||W(this,o,l,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[l]=o>>>24,this[l+1]=o>>>16,this[l+2]=o>>>8,this[l+3]=o&255,l+4},c.prototype.writeBigInt64LE=we(function(o,l=0){return re(this,o,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=we(function(o,l=0){return w(this,o,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function L(o,l,d,T,F,K){if(d+T>o.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function fe(o,l,d,T,F){return l=+l,d=d>>>0,F||L(o,l,d,4),r.write(o,l,d,T,23,4),d+4}c.prototype.writeFloatLE=function(o,l,d){return fe(this,o,l,!0,d)},c.prototype.writeFloatBE=function(o,l,d){return fe(this,o,l,!1,d)};function de(o,l,d,T,F){return l=+l,d=d>>>0,F||L(o,l,d,8),r.write(o,l,d,T,52,8),d+8}c.prototype.writeDoubleLE=function(o,l,d){return de(this,o,l,!0,d)},c.prototype.writeDoubleBE=function(o,l,d){return de(this,o,l,!1,d)},c.prototype.copy=function(o,l,d,T){if(!c.isBuffer(o))throw new TypeError("argument should be a Buffer");if(d||(d=0),!T&&T!==0&&(T=this.length),l>=o.length&&(l=o.length),l||(l=0),T>0&&T<d&&(T=d),T===d||o.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),o.length-l<T-d&&(T=o.length-l+d);let F=T-d;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,d,T):Uint8Array.prototype.set.call(o,this.subarray(d,T),l),F},c.prototype.fill=function(o,l,d,T){if(typeof o=="string"){if(typeof l=="string"?(T=l,l=0,d=this.length):typeof d=="string"&&(T=d,d=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!c.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(o.length===1){let K=o.charCodeAt(0);(T==="utf8"&&K<128||T==="latin1")&&(o=K)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(l<0||this.length<l||this.length<d)throw new RangeError("Out of range index");if(d<=l)return this;l=l>>>0,d=d===void 0?this.length:d>>>0,o||(o=0);let F;if(typeof o=="number")for(F=l;F<d;++F)this[F]=o;else{let K=c.isBuffer(o)?o:c.from(o,T),ee=K.length;if(ee===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(F=0;F<d-l;++F)this[F+l]=K[F%ee]}return this};var ne={};function ce(o,l,d){ne[o]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name}get code(){return o}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${o}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(o,l){return`The "${o}" argument must be of type number. Received type ${typeof l}`},TypeError),ce("ERR_OUT_OF_RANGE",function(o,l,d){let T=`The value of "${o}" is out of range.`,F=d;return Number.isInteger(d)&&Math.abs(d)>2**32?F=me(String(d)):typeof d=="bigint"&&(F=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(F=me(F)),F+="n"),T+=` It must be ${l}. Received ${F}`,T},RangeError);function me(o){let l="",d=o.length,T=o[0]==="-"?1:0;for(;d>=T+4;d-=3)l=`_${o.slice(d-3,d)}${l}`;return`${o.slice(0,d)}${l}`}function b(o,l,d){E(l,"offset"),(o[l]===void 0||o[l+d]===void 0)&&R(l,o.length-(d+1))}function m(o,l,d,T,F,K){if(o>d||o<l){let ee=typeof l=="bigint"?"n":"",Be;throw l===0||l===BigInt(0)?Be=`>= 0${ee} and < 2${ee} ** ${(K+1)*8}${ee}`:Be=`>= -(2${ee} ** ${(K+1)*8-1}${ee}) and < 2 ** ${(K+1)*8-1}${ee}`,new ne.ERR_OUT_OF_RANGE("value",Be,o)}b(T,F,K)}function E(o,l){if(typeof o!="number")throw new ne.ERR_INVALID_ARG_TYPE(l,"number",o)}function R(o,l,d){throw Math.floor(o)!==o?(E(o,d),new ne.ERR_OUT_OF_RANGE("offset","an integer",o)):l<0?new ne.ERR_BUFFER_OUT_OF_BOUNDS:new ne.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,o)}var O=/[^+/0-9A-Za-z-_]/g;function N(o){if(o=o.split("=")[0],o=o.trim().replace(O,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function V(o,l){l=l||1/0;let d,T=o.length,F=null,K=[];for(let ee=0;ee<T;++ee){if(d=o.charCodeAt(ee),d>55295&&d<57344){if(!F){if(d>56319){(l-=3)>-1&&K.push(239,191,189);continue}else if(ee+1===T){(l-=3)>-1&&K.push(239,191,189);continue}F=d;continue}if(d<56320){(l-=3)>-1&&K.push(239,191,189),F=d;continue}d=(F-55296<<10|d-56320)+65536}else F&&(l-=3)>-1&&K.push(239,191,189);if(F=null,d<128){if((l-=1)<0)break;K.push(d)}else if(d<2048){if((l-=2)<0)break;K.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;K.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;K.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return K}function $(o){let l=[];for(let d=0;d<o.length;++d)l.push(o.charCodeAt(d)&255);return l}function M(o,l){let d,T,F,K=[];for(let ee=0;ee<o.length&&!((l-=2)<0);++ee)d=o.charCodeAt(ee),T=d>>8,F=d%256,K.push(F),K.push(T);return K}function j(o){return t.toByteArray(N(o))}function k(o,l,d,T){let F;for(F=0;F<T&&!(F+d>=l.length||F>=o.length);++F)l[F+d]=o[F];return F}function J(o,l){return o instanceof l||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===l.name}function ge(o){return o!==o}var ye=function(){let o="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){let T=d*16;for(let F=0;F<16;++F)l[T+F]=o[d]+o[F]}return l}();function we(o){return typeof BigInt>"u"?Oe:o}function Oe(){throw new Error("BigInt not supported")}}),ct=e=>e==null,ft=e=>!ct(e),Wd=class extends Error{},Hu=(e,t)=>{if(ct(e))throw new Wd(t)},Na="__bigint__",Oa="__principal__",$a="__uint8array__",Zd=(e,t)=>typeof t=="bigint"?{[Na]:`${t}`}:ft(t)&&t instanceof xe?{[Oa]:t.toText()}:ft(t)&&t instanceof Uint8Array?{[$a]:Array.from(t)}:t,Jd=(e,t)=>{let r=n=>t[n];return ft(t)&&typeof t=="object"&&Na in t?BigInt(r(Na)):ft(t)&&typeof t=="object"&&Oa in t?xe.fromText(r(Oa)):ft(t)&&typeof t=="object"&&$a in t?Uint8Array.from(r($a)):t},Pt=e=>ft(e)?[e]:[],gr=e=>e==null?void 0:e[0],Xd=async e=>{let t=new Blob([JSON.stringify(e,Zd)],{type:"application/json; charset=utf-8"});return new Uint8Array(await t.arrayBuffer())},Gu=async e=>{let t=new Blob([e instanceof Uint8Array?e:new Uint8Array(e)],{type:"application/json; charset=utf-8"});return JSON.parse(await t.text(),Jd)},Qd=()=>typeof window<"u",Ku=class{constructor(){_r(this,"callbacks",[])}populate(e){this.callbacks.forEach(({callback:t})=>t(e))}subscribe(e){let t=Symbol();return this.callbacks.push({id:t,callback:e}),()=>this.callbacks=this.callbacks.filter(({id:r})=>r!==t)}},Ot,Di=(Ot=class extends Ku{constructor(){super();_r(this,"authUser",null)}static getInstance(){return Ot.instance||(Ot.instance=new Ot),Ot.instance}set(r){this.authUser=r,this.populate(r)}get(){return this.authUser}subscribe(r){let n=super.subscribe(r);return r(this.authUser),n}reset(){this.authUser=null,this.populate(this.authUser)}},_r(Ot,"instance"),Ot),ho=({message:e,detail:t})=>{let r=new CustomEvent(e,{detail:t,bubbles:!0});document.dispatchEvent(r)},e0=BigInt(144e11),t0=!1,r0={width:576,height:576},n0={width:505,height:705},i0="internetcomputer.org",us="http://127.0.0.1:5987",a0="rdmx6-jaaaa-aaaaa-aaadq-cai",$t,ln=($t=class extends Ku{constructor(){super();_r(this,"env")}static getInstance(){return $t.instance||($t.instance=new $t),$t.instance}set(r){this.env=r,this.populate(r)}get(){return this.env}subscribe(r){let n=super.subscribe(r);return r(this.env),n}},_r($t,"instance"),$t),Yu=({width:e,height:t})=>{if(!Qd()||ct(window)||ct(window.top))return;let{top:{innerWidth:r,innerHeight:n}}=window,i=n/2+screenY-t/2,a=r/2+screenX-e/2;return`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=no, copyhistory=no, width=${e}, height=${t}, top=${i}, left=${a}`},dn,jo,s0=(jo=class{constructor({domain:e}){vn(this,dn);_n(this,dn,e)}get id(){return"internet_identity"}signInOptions({windowed:e}){let t=()=>{var c;let r=(c=ln.getInstance().get())==null?void 0:c.container;if(ct(r)||r===!1)return`https://identity.${wn(this,dn)??i0}`;let n=ln.getInstance().get(),i=ft(n)&&ft(n==null?void 0:n.internetIdentityId)?n.internetIdentityId:a0,{host:a,protocol:s}=new URL(r===!0?us:r);return/apple/i.test(navigator==null?void 0:navigator.vendor)?`${s}//${a}?canisterId=${i}`:`${s}//${i}.${a.replace("127.0.0.1","localhost")}`};return{...e!==!1&&{windowOpenerFeatures:Yu(r0)},identityProvider:t()}}},dn=new WeakMap,jo),pn,gn,Vo,o0=(Vo=class{constructor({appName:e,logoUrl:t}){vn(this,pn);vn(this,gn);_n(this,pn,e),_n(this,gn,t)}get id(){return"nfid"}signInOptions({windowed:e}){return{...e!==!1&&{windowOpenerFeatures:Yu(n0)},identityProvider:`https://nfid.one/authenticate/?applicationName=${encodeURI(wn(this,pn))}&applicationLogo=${encodeURI(wn(this,gn))}`}}},pn=new WeakMap,gn=new WeakMap,Vo),c0=ir(Yd()),Ra;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Ra||(Ra={}));var u0=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},l0=new TextEncoder().encode(`
ic-request`),ls=class{getPrincipal(){return this._principal||(this._principal=xe.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){let{body:t}=e,r=u0(e,["body"]),n=await on(t);return Object.assign(Object.assign({},r),{body:{content:t,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(vt(l0,n))}})}},_i=class{getPrincipal(){return xe.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}},f0=ir(Ri()),On=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){let e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)},Pa;(function(e){e.Call="call"})(Pa||(Pa={}));function Ua(){let e=new ArrayBuffer(16),t=new DataView(e),r=On(),n=On(),i=On(),a=On();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,i),t.setUint32(12,a),e}var h0=BigInt(1e6),d0=60*1e3,$n=class{constructor(e){let t=BigInt(Math.floor(Date.now()+e-d0))*h0/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=t}toCBOR(){return f0.value.u64(this._value.toString(16),16)}toHash(){return De(this._value)}};function po(e=Ua){return async t=>{let r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function zn(e){let t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}var go=class extends pt{constructor(e,t){super(e),this.response=t,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}},Rn=BigInt(4294967295),ka=BigInt(32);function Wu(e,t=!1){return t?{h:Number(e&Rn),l:Number(e>>ka&Rn)}:{h:Number(e>>ka&Rn)|0,l:Number(e&Rn)|0}}function p0(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=Wu(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}var g0=(e,t)=>BigInt(e>>>0)<<ka|BigInt(t>>>0),y0=(e,t,r)=>e>>>r,b0=(e,t,r)=>e<<32-r|t>>>r,m0=(e,t,r)=>e>>>r|t<<32-r,w0=(e,t,r)=>e<<32-r|t>>>r,v0=(e,t,r)=>e<<64-r|t>>>r-32,_0=(e,t,r)=>e>>>r-32|t<<64-r,E0=(e,t)=>t,x0=(e,t)=>e,T0=(e,t,r)=>e<<r|t>>>32-r,I0=(e,t,r)=>t<<r|e>>>32-r,A0=(e,t,r)=>t<<r-32|e>>>64-r,B0=(e,t,r)=>e<<r-32|t>>>64-r;function S0(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var N0=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),O0=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,$0=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),R0=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,P0=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),U0=(e,t,r,n,i,a)=>t+r+n+i+a+(e/2**32|0)|0,k0={fromBig:Wu,split:p0,toBig:g0,shrSH:y0,shrSL:b0,rotrSH:m0,rotrSL:w0,rotrBH:v0,rotrBL:_0,rotr32H:E0,rotr32L:x0,rotlSH:T0,rotlSL:I0,rotlBH:A0,rotlBL:B0,add:S0,add3L:N0,add3H:O0,add4L:$0,add4H:R0,add5H:U0,add5L:P0},Te=k0,[C0,M0]=Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ht=new Uint32Array(80),Gt=new Uint32Array(80),L0=class extends Ic{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:s,Dl:c,Eh:u,El:h,Fh:f,Fl:y,Gh:P,Gl:p,Hh:g,Hl:v}=this;return[e,t,r,n,i,a,s,c,u,h,f,y,P,p,g,v]}set(e,t,r,n,i,a,s,c,u,h,f,y,P,p,g,v){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=n|0,this.Ch=i|0,this.Cl=a|0,this.Dh=s|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=y|0,this.Gh=P|0,this.Gl=p|0,this.Hh=g|0,this.Hl=v|0}process(e,t){for(let D=0;D<16;D++,t+=4)Ht[D]=e.getUint32(t),Gt[D]=e.getUint32(t+=4);for(let D=16;D<80;D++){let q=Ht[D-15]|0,ie=Gt[D-15]|0,te=Te.rotrSH(q,ie,1)^Te.rotrSH(q,ie,8)^Te.shrSH(q,ie,7),se=Te.rotrSL(q,ie,1)^Te.rotrSL(q,ie,8)^Te.shrSL(q,ie,7),Y=Ht[D-2]|0,Z=Gt[D-2]|0,be=Te.rotrSH(Y,Z,19)^Te.rotrBH(Y,Z,61)^Te.shrSH(Y,Z,6),S=Te.rotrSL(Y,Z,19)^Te.rotrBL(Y,Z,61)^Te.shrSL(Y,Z,6),U=Te.add4L(se,S,Gt[D-7],Gt[D-16]),he=Te.add4H(U,te,be,Ht[D-7],Ht[D-16]);Ht[D]=he|0,Gt[D]=U|0}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:s,Cl:c,Dh:u,Dl:h,Eh:f,El:y,Fh:P,Fl:p,Gh:g,Gl:v,Hh:B,Hl:C}=this;for(let D=0;D<80;D++){let q=Te.rotrSH(f,y,14)^Te.rotrSH(f,y,18)^Te.rotrBH(f,y,41),ie=Te.rotrSL(f,y,14)^Te.rotrSL(f,y,18)^Te.rotrBL(f,y,41),te=f&P^~f&g,se=y&p^~y&v,Y=Te.add5L(C,ie,se,M0[D],Gt[D]),Z=Te.add5H(Y,B,q,te,C0[D],Ht[D]),be=Y|0,S=Te.rotrSH(r,n,28)^Te.rotrBH(r,n,34)^Te.rotrBH(r,n,39),U=Te.rotrSL(r,n,28)^Te.rotrBL(r,n,34)^Te.rotrBL(r,n,39),he=r&i^r&s^i&s,le=n&a^n&c^a&c;B=g|0,C=v|0,g=P|0,v=p|0,P=f|0,p=y|0,{h:f,l:y}=Te.add(u|0,h|0,Z|0,be|0),u=s|0,h=c|0,s=i|0,c=a|0,i=r|0,a=n|0;let I=Te.add3L(be,U,le);r=Te.add3H(I,Z,S,he),n=I|0}({h:r,l:n}=Te.add(this.Ah|0,this.Al|0,r|0,n|0)),{h:i,l:a}=Te.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:s,l:c}=Te.add(this.Ch|0,this.Cl|0,s|0,c|0),{h:u,l:h}=Te.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:y}=Te.add(this.Eh|0,this.El|0,f|0,y|0),{h:P,l:p}=Te.add(this.Fh|0,this.Fl|0,P|0,p|0),{h:g,l:v}=Te.add(this.Gh|0,this.Gl|0,g|0,v|0),{h:B,l:C}=Te.add(this.Hh|0,this.Hl|0,B|0,C|0),this.set(r,n,i,a,s,c,u,h,f,y,P,p,g,v,B,C)}roundClean(){Ht.fill(0),Gt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Zu=Ja(()=>new L0),yt=BigInt(0),ut=BigInt(1),Pn=BigInt(2),F0=BigInt(8),D0={zip215:!0};function j0(e){let t=Ru(e);return jr(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function fs(e){let t=j0(e),{Fp:r,n,prehash:i,hash:a,randomBytes:s,nByteLength:c,h:u}=t,h=Pn<<BigInt(c*8)-ut,f=r.create,y=t.uvRatio||((z,H)=>{try{return{isValid:!0,value:r.sqrt(z*r.inv(H))}}catch{return{isValid:!1,value:yt}}}),P=t.adjustScalarBytes||(z=>z),p=t.domain||((z,H,ae)=>{if(H.length||ae)throw new Error("Contexts/pre-hash are not supported");return z}),g=z=>typeof z=="bigint"&&yt<z,v=(z,H)=>g(z)&&g(H)&&z<H,B=z=>z===yt||v(z,h);function C(z,H){if(v(z,H))return z;throw new Error(`Expected valid scalar < ${H}, got ${typeof z} ${z}`)}function D(z){return z===yt?z:C(z,n)}let q=new Map;function ie(z){if(!(z instanceof te))throw new Error("ExtendedPoint expected")}class te{constructor(H,ae,A,_){if(this.ex=H,this.ey=ae,this.ez=A,this.et=_,!B(H))throw new Error("x required");if(!B(ae))throw new Error("y required");if(!B(A))throw new Error("z required");if(!B(_))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(H){if(H instanceof te)throw new Error("extended point not allowed");let{x:ae,y:A}=H||{};if(!B(ae)||!B(A))throw new Error("invalid affine point");return new te(ae,A,ut,f(ae*A))}static normalizeZ(H){let ae=r.invertBatch(H.map(A=>A.ez));return H.map((A,_)=>A.toAffine(ae[_])).map(te.fromAffine)}_setWindowSize(H){this._WINDOW_SIZE=H,q.delete(this)}assertValidity(){let{a:H,d:ae}=t;if(this.is0())throw new Error("bad point: ZERO");let{ex:A,ey:_,ez:W,et:re}=this,w=f(A*A),L=f(_*_),fe=f(W*W),de=f(fe*fe),ne=f(w*H),ce=f(fe*f(ne+L)),me=f(de+f(ae*f(w*L)));if(ce!==me)throw new Error("bad point: equation left != right (1)");let b=f(A*_),m=f(W*re);if(b!==m)throw new Error("bad point: equation left != right (2)")}equals(H){ie(H);let{ex:ae,ey:A,ez:_}=this,{ex:W,ey:re,ez:w}=H,L=f(ae*w),fe=f(W*_),de=f(A*w),ne=f(re*_);return L===fe&&de===ne}is0(){return this.equals(te.ZERO)}negate(){return new te(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){let{a:H}=t,{ex:ae,ey:A,ez:_}=this,W=f(ae*ae),re=f(A*A),w=f(Pn*f(_*_)),L=f(H*W),fe=ae+A,de=f(f(fe*fe)-W-re),ne=L+re,ce=ne-w,me=L-re,b=f(de*ce),m=f(ne*me),E=f(de*me),R=f(ce*ne);return new te(b,m,R,E)}add(H){ie(H);let{a:ae,d:A}=t,{ex:_,ey:W,ez:re,et:w}=this,{ex:L,ey:fe,ez:de,et:ne}=H;if(ae===BigInt(-1)){let k=f((W-_)*(fe+L)),J=f((W+_)*(fe-L)),ge=f(J-k);if(ge===yt)return this.double();let ye=f(re*Pn*ne),we=f(w*Pn*de),Oe=we+ye,o=J+k,l=we-ye,d=f(Oe*ge),T=f(o*l),F=f(Oe*l),K=f(ge*o);return new te(d,T,K,F)}let ce=f(_*L),me=f(W*fe),b=f(w*A*ne),m=f(re*de),E=f((_+W)*(L+fe)-ce-me),R=m-b,O=m+b,N=f(me-ae*ce),V=f(E*R),$=f(O*N),M=f(E*N),j=f(R*O);return new te(V,$,j,M)}subtract(H){return this.add(H.negate())}wNAF(H){return Z.wNAFCached(this,q,H,te.normalizeZ)}multiply(H){let{p:ae,f:A}=this.wNAF(C(H,n));return te.normalizeZ([ae,A])[0]}multiplyUnsafe(H){let ae=D(H);return ae===yt?Y:this.equals(Y)||ae===ut?this:this.equals(se)?this.wNAF(ae).p:Z.unsafeLadder(this,ae)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return Z.unsafeLadder(this,n).is0()}toAffine(H){let{ex:ae,ey:A,ez:_}=this,W=this.is0();H==null&&(H=W?F0:r.inv(_));let re=f(ae*H),w=f(A*H),L=f(_*H);if(W)return{x:yt,y:ut};if(L!==ut)throw new Error("invZ was invalid");return{x:re,y:w}}clearCofactor(){let{h:H}=t;return H===ut?this:this.multiplyUnsafe(H)}static fromHex(H,ae=!1){let{d:A,a:_}=t,W=r.BYTES;H=it("pointHex",H,W);let re=H.slice(),w=H[W-1];re[W-1]=w&-129;let L=$r(re);L===yt||(ae?C(L,h):C(L,r.ORDER));let fe=f(L*L),de=f(fe-ut),ne=f(A*fe-_),{isValid:ce,value:me}=y(de,ne);if(!ce)throw new Error("Point.fromHex: invalid y coordinate");let b=(me&ut)===ut,m=(w&128)!==0;if(!ae&&me===yt&&m)throw new Error("Point.fromHex: x=0 and x_0=1");return m!==b&&(me=f(-me)),te.fromAffine({x:me,y:L})}static fromPrivateKey(H){return U(H).point}toRawBytes(){let{x:H,y:ae}=this.toAffine(),A=cn(ae,r.BYTES);return A[A.length-1]|=H&ut?128:0,A}toHex(){return nr(this.toRawBytes())}}te.BASE=new te(t.Gx,t.Gy,ut,f(t.Gx*t.Gy)),te.ZERO=new te(yt,ut,ut,yt);let{BASE:se,ZERO:Y}=te,Z=$u(te,c*8);function be(z){return Le(z,n)}function S(z){return be($r(z))}function U(z){let H=c;z=it("private key",z,H);let ae=it("hashed private key",a(z),2*H),A=P(ae.slice(0,H)),_=ae.slice(H,2*H),W=S(A),re=se.multiply(W),w=re.toRawBytes();return{head:A,prefix:_,scalar:W,point:re,pointBytes:w}}function he(z){return U(z).pointBytes}function le(z=new Uint8Array,...H){let ae=Fe(...H);return S(a(p(ae,it("context",z),!!i)))}function I(z,H,ae={}){z=it("message",z),i&&(z=i(z));let{prefix:A,scalar:_,pointBytes:W}=U(H),re=le(ae.context,A,z),w=se.multiply(re).toRawBytes(),L=le(ae.context,w,W,z),fe=be(re+L*_);D(fe);let de=Fe(w,cn(fe,r.BYTES));return it("result",de,c*2)}let X=D0;function G(z,H,ae,A=X){let{context:_,zip215:W}=A,re=r.BYTES;z=it("signature",z,2*re),H=it("message",H),i&&(H=i(H));let w=$r(z.slice(re,2*re)),L,fe,de;try{L=te.fromHex(ae,W),fe=te.fromHex(z.slice(0,re),W),de=se.multiplyUnsafe(w)}catch{return!1}if(!W&&L.isSmallOrder())return!1;let ne=le(_,fe.toRawBytes(),L.toRawBytes(),H);return fe.add(L.multiplyUnsafe(ne)).subtract(de).clearCofactor().equals(te.ZERO)}return se._setWindowSize(8),{CURVE:t,getPublicKey:he,sign:I,verify:G,ExtendedPoint:te,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>s(r.BYTES),precompute(z=8,H=te.BASE){return H._setWindowSize(z),H.multiply(BigInt(3)),H}}}}var hs=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),yo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);var V0=BigInt(1),Ca=BigInt(2),q0=BigInt(5),bo=BigInt(10),z0=BigInt(20),H0=BigInt(40),mo=BigInt(80);function G0(e){let t=hs,r=e*e%t*e%t,n=Et(r,Ca,t)*r%t,i=Et(n,V0,t)*e%t,a=Et(i,q0,t)*i%t,s=Et(a,bo,t)*a%t,c=Et(s,z0,t)*s%t,u=Et(c,H0,t)*c%t,h=Et(u,mo,t)*u%t,f=Et(h,mo,t)*u%t,y=Et(f,bo,t)*a%t;return{pow_p_5_8:Et(y,Ca,t)*e%t,b2:r}}function K0(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Y0(e,t){let r=hs,n=Le(t*t*t,r),i=Le(n*n*t,r),a=G0(e*i).pow_p_5_8,s=Le(e*n*a,r),c=Le(t*s*s,r),u=s,h=Le(s*yo,r),f=c===e,y=c===Le(-e,r),P=c===Le(-e*yo,r);return f&&(s=u),(y||P)&&(s=h),ld(s,r)&&(s=Le(-s,r)),{isValid:f||y,value:s}}var Ft=as(hs,void 0,!0),ds={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ft,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Zu,randomBytes:Tc,adjustScalarBytes:K0,uvRatio:Y0},xr=fs(ds);function Ju(e,t,r){if(t.length>255)throw new Error("Context is too big");return xh(Ec("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}fs({...ds,domain:Ju});fs({...ds,domain:Ju,prehash:Zu});var W0=(Ft.ORDER+BigInt(3))/BigInt(8);Ft.pow(Ca,W0);Ft.sqrt(Ft.neg(Ft.ONE));(Ft.ORDER-BigInt(5))/BigInt(8);BigInt(486662);hd(Ft,Ft.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var wo=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},nt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},rt,Yr,Xu,Qu,Z0=class{constructor(e={}){rt.set(this,void 0),Yr.set(this,void 0),this[Xu]=this.entries.bind(this),this[Qu]="ExpirableMap";let{source:t=[],expirationTime:r=10*60*1e3}=e,n=Date.now();wo(this,rt,new Map([...t].map(([i,a])=>[i,{value:a,timestamp:n}]))),wo(this,Yr,r)}prune(){let e=Date.now();for(let[t,r]of nt(this,rt,"f").entries())e-r.timestamp>nt(this,Yr,"f")&&nt(this,rt,"f").delete(t);return this}set(e,t){this.prune();let r={value:t,timestamp:Date.now()};return nt(this,rt,"f").set(e,r),this}get(e){let t=nt(this,rt,"f").get(e);if(t!==void 0){if(Date.now()-t.timestamp>nt(this,Yr,"f")){nt(this,rt,"f").delete(e);return}return t.value}}clear(){nt(this,rt,"f").clear()}entries(){let e=nt(this,rt,"f").entries();return function*(){for(let[t,r]of e)yield[t,r.value]}()}values(){let e=nt(this,rt,"f").values();return function*(){for(let t of e)yield t.value}()}keys(){return nt(this,rt,"f").keys()}forEach(e,t){for(let[r,n]of nt(this,rt,"f").entries())e.call(t,n.value,r,this)}has(e){return nt(this,rt,"f").has(e)}delete(e){return nt(this,rt,"f").delete(e)}get size(){return nt(this,rt,"f").size}};rt=new WeakMap,Yr=new WeakMap,Xu=Symbol.iterator,Qu=Symbol.toStringTag;var vo=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},_o=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},Ma=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},J0=(e,t)=>{let r=Ma(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);var Ei=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function el(e,t){let r=2+vo(e.byteLength+1),n=t.byteLength+r+e.byteLength,i=0,a=new Uint8Array(1+vo(n)+n);return a[i++]=48,i+=_o(a,i,n),a.set(t,i),i+=t.byteLength,a[i++]=3,i+=_o(a,i,e.byteLength+1),a[i++]=0,a.set(new Uint8Array(e),i),a}var tl=(e,t)=>{let r=0,n=(c,u)=>{if(i[r++]!==c)throw new Error("Expected: "+u)},i=new Uint8Array(e);if(n(48,"sequence"),r+=Ma(i,r),!Nc(i.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");let a=J0(i,r)-1;r+=Ma(i,r),n(0,"0 padding");let s=i.slice(r);if(a!==s.length)throw new Error(`DER payload mismatch: Expected length ${a} actual length ${s.length}`);return s},Eo=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},xo=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Hn,Gn,rl=class Wr{constructor(t){if(Hn.set(this,void 0),Gn.set(this,void 0),t.byteLength!==Wr.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Eo(this,Hn,t),Eo(this,Gn,Wr.derEncode(t))}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new Wr(t)}static fromDer(t){return new Wr(this.derDecode(t))}static derEncode(t){return el(t,Ei).buffer}static derDecode(t){let r=tl(t,Ei);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return xo(this,Hn,"f")}get derKey(){return xo(this,Gn,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Hn=new WeakMap,Gn=new WeakMap;rl.RAW_KEY_LENGTH=32;var nl=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},La,il,Fa,al,X0=class extends Function{constructor(){return super(),La.add(this),this.observers=[],new Proxy(this,{apply:(e,t,r)=>nl(e,La,"m",il).call(e,r[0],...r.slice(1))})}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(t=>t!==e)}notify(e,...t){this.observers.forEach(r=>r(e,...t))}};La=new WeakSet,il=function(e,...t){this.notify(e,...t)};var Q0=class extends X0{constructor(){return super(),Fa.add(this),new Proxy(this,{apply:(e,t,r)=>nl(e,Fa,"m",al).call(e,r[0],...r.slice(1))})}log(e,...t){this.notify({message:e,level:"info"},...t)}warn(e,...t){this.notify({message:e,level:"warn"},...t)}error(e,t,...r){this.notify({message:e,level:"error",error:t},...r)}};Fa=new WeakSet,al=function(e,...t){this.log(e,...t)};var xt=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},tt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Tt,Kn,Yn,Wn,Zn,Jn,Xn,Qn,Tr,sl=class ol{constructor(t=ol.default){Tt.set(this,void 0),Kn.set(this,void 0),Yn.set(this,void 0),Wn.set(this,void 0),Zn.set(this,void 0),Jn.set(this,void 0),Xn.set(this,void 0),Qn.set(this,void 0),Tr.set(this,0);let{initialInterval:r=500,randomizationFactor:n=.5,multiplier:i=1.5,maxInterval:a=6e4,maxElapsedTime:s=9e5,maxIterations:c=10,date:u=Date}=t;xt(this,Tt,r),xt(this,Kn,n),xt(this,Yn,i),xt(this,Wn,a),xt(this,Qn,u),xt(this,Zn,u.now()),xt(this,Jn,s),xt(this,Xn,c)}get ellapsedTimeInMsec(){return tt(this,Qn,"f").now()-tt(this,Zn,"f")}get currentInterval(){return tt(this,Tt,"f")}get count(){return tt(this,Tr,"f")}get randomValueFromInterval(){let t=tt(this,Kn,"f")*tt(this,Tt,"f"),r=tt(this,Tt,"f")-t,n=tt(this,Tt,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return xt(this,Tt,Math.min(tt(this,Tt,"f")*tt(this,Yn,"f"),tt(this,Wn,"f"))),xt(this,Tr,(t=tt(this,Tr,"f"),t++,t)),tt(this,Tt,"f")}next(){return this.ellapsedTimeInMsec>=tt(this,Jn,"f")||tt(this,Tr,"f")>=tt(this,Xn,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}};Tt=new WeakMap,Kn=new WeakMap,Yn=new WeakMap,Wn=new WeakMap,Zn=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,Qn=new WeakMap,Tr=new WeakMap;sl.default={initialInterval:500,randomizationFactor:.5,multiplier:1.5,maxInterval:6e4,maxElapsedTime:9e5,maxIterations:10,date:Date};var Un=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},Ie=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Nt,bt,cr,ei,Ir,Ar,ur,hr,cl,ti,ri,Ut;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Ut||(Ut={}));var kn=5*60*1e3,ep="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",tp="ic0.app",rp=".ic0.app",np="icp0.io",ip=".icp0.io",ap="icp-api.io",sp=".icp-api.io",ia=class extends pt{constructor(e){super(e),this.message=e}},Cn=class extends pt{constructor(e){super(e),this.message=e}};function op(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new ia("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof globalThis<"u")if(globalThis.fetch)e=globalThis.fetch.bind(globalThis);else throw new ia("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new ia("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}var cp=class ul{constructor(t={}){var r;if(Nt.add(this),this.rootKey=Lt(ep),this._timeDiffMsecs=0,this._rootKeyFetched=!1,bt.set(this,void 0),cr.set(this,void 0),this._isAgent=!0,ei.set(this,0),this.log=new Q0,Ir.set(this,[]),Ar.set(this,[]),ur.set(this,new Z0({expirationTime:5*60*1e3})),hr.set(this,!0),ri.set(this,(i,a)=>{if(Ie(this,hr,"f")===!1)return i;if(!a)throw new At("Invalid signature from replica signed query: no matching node key found.");let{status:s,signatures:c=[],requestId:u}=i,h=new TextEncoder().encode("\vic-response");for(let f of c){let{timestamp:y,identity:P}=f,p=xe.fromUint8Array(P).toText(),g;if(s==="replied"){let{reply:D}=i;g=yi({status:s,reply:D,timestamp:BigInt(y),request_id:u})}else if(s==="rejected"){let{reject_code:D,reject_message:q,error_code:ie}=i;g=yi({status:s,reject_code:D,reject_message:q,error_code:ie,timestamp:BigInt(y),request_id:u})}else throw new Error(`Unknown status: ${s}`);let v=vt(h,new Uint8Array(g)),B=a==null?void 0:a.nodeKeys.get(p);if(!B)throw new At("Invalid signature from replica signed query: no matching node key found.");let C=rl.fromDer(B).rawKey;if(xr.verify(f.signature,new Uint8Array(v),new Uint8Array(C)))return i;throw new At(`Invalid signature from replica ${p} signed query.`)}return i}),t.source){if(!(t.source instanceof ul))throw new Error("An Agent's source can only be another HttpAgent");this._identity=t.source._identity,this._fetch=t.source._fetch,this._host=t.source._host,this._credentials=t.source._credentials}else this._fetch=t.fetch||op()||fetch.bind(globalThis),this._fetchOptions=t.fetchOptions,this._callOptions=t.callOptions;if(t.host!==void 0)!t.host.match(/^[a-z]+:/)&&typeof window<"u"?this._host=new URL(window.location.protocol+"//"+t.host):this._host=new URL(t.host);else if(t.source!==void 0)this._host=t.source._host;else{let i=typeof window<"u"?window.location:void 0;i||(this._host=new URL("https://icp-api.io"),this.log.warn("Could not infer host from window.location, defaulting to mainnet gateway of https://icp-api.io. Please provide a host to the HttpAgent constructor to avoid this warning."));let a=["ic0.app","icp0.io","127.0.0.1","localhost"],s=[".github.dev",".gitpod.io"],c=i==null?void 0:i.hostname,u;c&&typeof c=="string"&&(s.some(h=>c.endsWith(h))?u=c:u=a.find(h=>c.endsWith(h))),i&&u?this._host=new URL(`${i.protocol}//${u}${i.port?":"+i.port:""}`):(this._host=new URL("https://icp-api.io"),this.log.warn("Could not infer host from window.location, defaulting to mainnet gateway of https://icp-api.io. Please provide a host to the HttpAgent constructor to avoid this warning."))}t.verifyQuerySignatures!==void 0&&Un(this,hr,t.verifyQuerySignatures),Un(this,bt,(r=t.retryTimes)!==null&&r!==void 0?r:3);let n=()=>new sl({maxIterations:Ie(this,bt,"f")});if(Un(this,cr,t.backoffStrategy||n),this._host.hostname.endsWith(rp)?this._host.hostname=tp:this._host.hostname.endsWith(ip)?this._host.hostname=np:this._host.hostname.endsWith(sp)&&(this._host.hostname=ap),t.credentials){let{name:i,password:a}=t.credentials;this._credentials=`${i}${a?":"+a:""}`}this._identity=Promise.resolve(t.identity||new _i),this.addTransform("update",po(Ua)),t.useQueryNonces&&this.addTransform("query",po(Ua)),t.logToConsole&&this.log.subscribe(i=>{i.level==="error"?console.error(i.message):i.level==="warn"?console.warn(i.message):console.log(i.message)})}get waterMark(){return Ie(this,ei,"f")}isLocal(){let t=this._host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){let i=Ie(this,Ar,"f").findIndex(a=>(a.priority||0)<n);Ie(this,Ar,"f").splice(i>=0?i:Ie(this,Ar,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){let i=Ie(this,Ir,"f").findIndex(a=>(a.priority||0)<n);Ie(this,Ir,"f").splice(i>=0?i:Ie(this,Ir,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!this._identity)throw new Cn("This identity has expired due this application's security policy. Please refresh your authentication.");return(await this._identity).getPrincipal()}async call(t,r,n){let i=await(n!==void 0?await n:await this._identity);if(!i)throw new Cn("This identity has expired due this application's security policy. Please refresh your authentication.");let a=xe.from(t),s=r.effectiveCanisterId?xe.from(r.effectiveCanisterId):a,c=i.getPrincipal()||xe.anonymous(),u=new $n(kn);Math.abs(this._timeDiffMsecs)>1e3*30&&(u=new $n(kn+this._timeDiffMsecs));let h={request_type:Pa.Call,canister_id:a,method_name:r.methodName,arg:r.arg,sender:c,ingress_expiry:u},f=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},this._credentials?{Authorization:"Basic "+btoa(this._credentials)}:{})},endpoint:"call",body:h});f=await i.transformRequest(f);let y=Ji(f.body);this.log(`fetching "/api/v2/canister/${s.toText()}/call" with request:`,f);let P=Ie(this,cr,"f").call(this),p=Ie(this,Nt,"m",ti).call(this,{request:()=>this._fetch(""+new URL(`/api/v2/canister/${s.toText()}/call`,this._host),Object.assign(Object.assign(Object.assign({},this._callOptions),f.request),{body:y})),backoff:P,tries:0}),[g,v]=await Promise.all([p,on(h)]),B=await g.arrayBuffer(),C=g.status===200&&B.byteLength>0?Mt(B):null;return{requestId:v,response:{ok:g.ok,status:g.status,statusText:g.statusText,body:C,headers:zn(g.headers)}}}async query(t,r,n){let i=Ie(this,cr,"f").call(this),a=r.effectiveCanisterId?xe.from(r.effectiveCanisterId):xe.from(t);this.log(`ecid ${a.toString()}`),this.log(`canisterId ${t.toString()}`);let s=async()=>{let f=await(n!==void 0?await n:await this._identity);if(!f)throw new Cn("This identity has expired due this application's security policy. Please refresh your authentication.");let y=xe.from(t),P=(f==null?void 0:f.getPrincipal())||xe.anonymous(),p={request_type:"query",canister_id:y,method_name:r.methodName,arg:r.arg,sender:P,ingress_expiry:new $n(kn)},g=await on(p),v=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},this._credentials?{Authorization:"Basic "+btoa(this._credentials)}:{})},endpoint:"read",body:p});v=await(f==null?void 0:f.transformRequest(v));let B=Ji(v.body),C={canister:y.toText(),ecid:a,transformedRequest:v,body:B,requestId:g,backoff:i,tries:0};return await Ie(this,Nt,"m",cl).call(this,C)},c=async()=>Ie(this,hr,"f")?Ie(this,ur,"f").get(a.toString())||(await this.fetchSubnetKeys(a.toString()),Ie(this,ur,"f").get(a.toString())):void 0,[u,h]=await Promise.all([s(),c()]);if(this.log("Query response:",u),!Ie(this,hr,"f"))return u;try{return Ie(this,ri,"f").call(this,u,h)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),Ie(this,ur,"f").delete(t.toString()),await this.fetchSubnetKeys(a.toString());let f=Ie(this,ur,"f").get(t.toString());if(!f)throw new At("Invalid signature from replica signed query: no matching node key found.");return Ie(this,ri,"f").call(this,u,f)}}async createReadStateRequest(t,r){let n=await(r!==void 0?await r:await this._identity);if(!n)throw new Cn("This identity has expired due this application's security policy. Please refresh your authentication.");let i=(n==null?void 0:n.getPrincipal())||xe.anonymous(),a=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},this._credentials?{Authorization:"Basic "+btoa(this._credentials)}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new $n(kn)}});return n==null?void 0:n.transformRequest(a)}async readState(t,r,n,i){let a=typeof t=="string"?xe.fromText(t):t,s=i??await this.createReadStateRequest(r,n),c=Ji(s.body);this.log(`fetching "/api/v2/canister/${a}/read_state" with request:`,s);let u=Ie(this,cr,"f").call(this),h=await Ie(this,Nt,"m",ti).call(this,{request:()=>this._fetch(""+new URL(`/api/v2/canister/${a.toString()}/read_state`,this._host),Object.assign(Object.assign(Object.assign({},this._fetchOptions),s.request),{body:c})),backoff:u,tries:0});if(!h.ok)throw new Error(`Server returned an error:
  Code: ${h.status} (${h.statusText})
  Body: ${await h.text()}
`);let f=Mt(await h.arrayBuffer());this.log("Read state response:",f);let y=await this.parseTimeFromResponse(f);return y>0&&(this.log("Read state response time:",y),Un(this,ei,y)),f}async parseTimeFromResponse(t){let r;if(t.certificate){let n=Mt(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");let i=Mr(["time"],r);if(!i)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");let a=cs(Qa(i));return this.log("Time from response:",a),this.log("Time from response in milliseconds:",Number(a)),Number(a)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){let r=await Of(()=>Promise.resolve().then(()=>Mg),void 0),n=Date.now();try{t||this.log("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");let i=(await r.request({canisterId:t??xe.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:this,paths:["time"]})).get("time");i&&(this._timeDiffMsecs=Number(i)-Number(n))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){let t=this._credentials?{Authorization:"Basic "+btoa(this._credentials)}:{};this.log('fetching "/api/v2/status"');let r=Ie(this,cr,"f").call(this),n=await Ie(this,Nt,"m",ti).call(this,{backoff:r,request:()=>this._fetch(""+new URL("/api/v2/status",this._host),Object.assign({headers:t},this._fetchOptions)),tries:0});return Mt(await n.arrayBuffer())}async fetchRootKey(){return this._rootKeyFetched||(this.rootKey=(await this.status()).root_key,this._rootKeyFetched=!0),this.rootKey}invalidateIdentity(){this._identity=null}replaceIdentity(t){this._identity=Promise.resolve(t)}async fetchSubnetKeys(t){let r=xe.from(t),n=(await Vu({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(n&&typeof n=="object"&&"nodeKeys"in n)return Ie(this,ur,"f").set(r.toText(),n),n}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(let n of Ie(this,Ar,"f"))r=r.then(i=>n(i).then(a=>a||i));else for(let n of Ie(this,Ir,"f"))r=r.then(i=>n(i).then(a=>a||i));return r}};bt=new WeakMap,cr=new WeakMap,ei=new WeakMap,Ir=new WeakMap,Ar=new WeakMap,ur=new WeakMap,hr=new WeakMap,ri=new WeakMap,Nt=new WeakSet,cl=async function e(t){var r,n;let{ecid:i,transformedRequest:a,body:s,requestId:c,backoff:u,tries:h}=t,f=h===0?0:u.next();if(this.log(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:h,backoff:u,delay:f}),f===null)throw new pt(`Timestamp failed to pass the watermark after retrying the configured ${Ie(this,bt,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);f>0&&await new Promise(g=>setTimeout(g,f));let y;try{this.log(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,a);let g=await this._fetch(""+new URL(`/api/v2/canister/${i.toString()}/query`,this._host),Object.assign(Object.assign(Object.assign({},this._fetchOptions),a.request),{body:s}));if(g.status===200){let v=Mt(await g.arrayBuffer());y=Object.assign(Object.assign({},v),{httpDetails:{ok:g.ok,status:g.status,statusText:g.statusText,headers:zn(g.headers)},requestId:c})}else throw new go(`Server returned an error:
  Code: ${g.status} (${g.statusText})
  Body: ${await g.text()}
`,{ok:g.ok,status:g.status,statusText:g.statusText,headers:zn(g.headers)})}catch(g){if(h<Ie(this,bt,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${g}
  Retrying query.`),await Ie(this,Nt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:h+1}));throw g}let P=(n=(r=y.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!Ie(this,hr,"f"))return y;if(!P)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");let p=Number(BigInt(P)/BigInt(1e6));if(this.log("watermark and timestamp",{waterMark:this.waterMark,timestamp:p}),Number(this.waterMark)>p){let g=new pt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",g,{timestamp:P,waterMark:this.waterMark}),h<Ie(this,bt,"f"))return await Ie(this,Nt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:h+1}));throw new pt(`Timestamp failed to pass the watermark after retrying the configured ${Ie(this,bt,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return y},ti=async function e(t){let{request:r,backoff:n,tries:i}=t,a=i===0?0:n.next();if(a===null)throw new pt(`Timestamp failed to pass the watermark after retrying the configured ${Ie(this,bt,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);a>0&&await new Promise(h=>setTimeout(h,a));let s;try{s=await r()}catch(h){if(Ie(this,bt,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${h}
  Retrying request.`),await Ie(this,Nt,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw h}if(s.ok)return s;let c=await s.clone().text(),u=`Server returned an error:
  Code: ${s.status} (${s.statusText})
  Body: ${c}
`;if(i<Ie(this,bt,"f"))return await Ie(this,Nt,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw new go(u,{ok:s.ok,status:s.status,statusText:s.statusText,headers:zn(s.headers)})};var To;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(To||(To={}));function Io(){let e=typeof window>"u"?typeof globalThis>"u"?typeof self>"u"?void 0:self.ic.agent:globalThis.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}var ll={};Ai(ll,{backoff:()=>pl,chain:()=>gl,conditionalDelay:()=>hl,defaultStrategy:()=>lp,maxAttempts:()=>fp,once:()=>fl,throttle:()=>hp,timeout:()=>dl});var up=5*60*1e3;function lp(){return gl(hl(fl(),1e3),pl(1e3,1.2),dl(up))}function fl(){let e=!0;return async()=>e?(e=!1,!0):!1}function hl(e,t){return async(r,n,i)=>{if(await e(r,n,i))return new Promise(a=>setTimeout(a,t))}}function fp(e){let t=e;return async(r,n,i)=>{if(--t<=0)throw new Error(`Failed to retrieve a reply for request after ${e} attempts:
  Request ID: ${Qe(n)}
  Request status: ${i}
`)}}function hp(e){return()=>new Promise(t=>setTimeout(t,e))}function dl(e){let t=Date.now()+e;return async(r,n,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${Qe(n)}
  Request status: ${i}
`)}}function pl(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function gl(...e){return async(t,r,n)=>{for(let i of e)await i(t,r,n)}}async function yl(e,t,r,n,i,a){var s;let c=[new TextEncoder().encode("request_status"),r],u=i??await((s=e.createReadStateRequest)===null||s===void 0?void 0:s.call(e,{paths:[c]})),h=await e.readState(t,{paths:[c]},void 0,u);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");let f=await Fu.create({certificate:h.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:a}),y=f.lookup([...c,new TextEncoder().encode("status")]),P;switch(typeof y>"u"?P=Ut.Unknown:P=new TextDecoder().decode(y),P){case Ut.Replied:return f.lookup([...c,"reply"]);case Ut.Received:case Ut.Unknown:case Ut.Processing:return await n(t,r,P),yl(e,t,r,n,u);case Ut.Rejected:{let p=new Uint8Array(f.lookup([...c,"reject_code"]))[0],g=new TextDecoder().decode(f.lookup([...c,"reject_message"]));throw new Error(`Call was rejected:
  Request ID: ${Qe(r)}
  Reject code: ${p}
  Reject text: ${g}
`)}case Ut.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Qe(r)}
`)}throw new Error("unreachable")}var dp=({IDL:e})=>{let t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,a=i,s=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),c=i,u=e.Record({network:t}),h=e.Nat64,f=e.Vec(h),y=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),P=e.Vec(e.Nat8),p=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),g=e.Record({height:e.Nat32,value:i,outpoint:p}),v=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:e.Nat32,tip_block_hash:P,utxos:e.Vec(g)}),B=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),C=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:e.Nat32,tip_block_hash:P,utxos:e.Vec(g)}),D=e.Record({transaction:e.Vec(e.Nat8),network:t}),q=e.Principal,ie=e.Record({canister_id:q,num_requested_changes:e.Opt(e.Nat64)}),te=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),se=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),Y=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:te,details:se}),Z=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(Y),total_num_changes:e.Nat64}),be=e.Record({canister_id:q}),S=e.Variant({controllers:e.Null,public:e.Null}),U=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:S,memory_allocation:e.Nat,compute_allocation:e.Nat}),he=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:U,idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),le=e.Record({canister_id:q}),I=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(S),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),X=e.Record({settings:e.Opt(I),sender_canister_version:e.Opt(e.Nat64)}),G=e.Record({canister_id:q}),z=e.Record({canister_id:q}),H=e.Record({canister_id:q}),ae=e.Variant({secp256k1:e.Null}),A=e.Record({key_id:e.Record({name:e.Text,curve:ae}),canister_id:e.Opt(q),derivation_path:e.Vec(e.Vec(e.Nat8))}),_=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),W=e.Record({canister_id:q}),re=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),w=e.Record({canister_log_records:e.Vec(re)}),L=e.Record({value:e.Text,name:e.Text}),fe=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(L)}),de=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:fe})],[fe],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(L)}),ne=e.Vec(e.Nat8),ce=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),chunk_hashes_list:e.Vec(ne),target_canister:q,sender_canister_version:e.Opt(e.Nat64),storage_canister:e.Opt(q)}),me=e.Vec(e.Nat8),b=e.Record({arg:e.Vec(e.Nat8),wasm_module:me,mode:e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),canister_id:q,sender_canister_version:e.Opt(e.Nat64)}),m=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),E=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_total:e.Nat64}),R=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(E)})),O=e.Record({settings:e.Opt(I),specified_id:e.Opt(q),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),N=e.Record({canister_id:q}),V=e.Record({canister_id:q,amount:e.Nat}),$=e.Vec(e.Nat8),M=e.Record({key_id:e.Record({name:e.Text,curve:ae}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),j=e.Record({signature:e.Vec(e.Nat8)}),k=e.Record({canister_id:q}),J=e.Record({canister_id:q}),ge=e.Record({canister_id:q}),ye=e.Vec(ne),we=e.Record({canister_id:q,sender_canister_version:e.Opt(e.Nat64)}),Oe=e.Record({canister_id:e.Principal,settings:I,sender_canister_version:e.Opt(e.Nat64)}),o=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),l=ne;return e.Service({bitcoin_get_balance:e.Func([n],[a],[]),bitcoin_get_balance_query:e.Func([s],[c],["query"]),bitcoin_get_current_fee_percentiles:e.Func([u],[f],[]),bitcoin_get_utxos:e.Func([y],[v],[]),bitcoin_get_utxos_query:e.Func([B],[C],["query"]),bitcoin_send_transaction:e.Func([D],[],[]),canister_info:e.Func([ie],[Z],[]),canister_status:e.Func([be],[he],[]),clear_chunk_store:e.Func([le],[],[]),create_canister:e.Func([X],[G],[]),delete_canister:e.Func([z],[],[]),deposit_cycles:e.Func([H],[],[]),ecdsa_public_key:e.Func([A],[_],[]),fetch_canister_logs:e.Func([W],[w],["query"]),http_request:e.Func([de],[fe],[]),install_chunked_code:e.Func([ce],[],[]),install_code:e.Func([b],[],[]),node_metrics_history:e.Func([m],[R],[]),provisional_create_canister_with_cycles:e.Func([O],[N],[]),provisional_top_up_canister:e.Func([V],[],[]),raw_rand:e.Func([],[$],[]),sign_with_ecdsa:e.Func([M],[j],[]),start_canister:e.Func([k],[],[]),stop_canister:e.Func([J],[],[]),stored_chunks:e.Func([ge],[ye],[]),uninstall_code:e.Func([we],[],[]),update_settings:e.Func([Oe],[],[]),upload_chunk:e.Func([o],[l],[])})},bl=class extends pt{constructor(e,t,r,n){super(["Call failed:",`  Canister: ${e.toText()}`,`  Method: ${t} (${r})`,...Object.getOwnPropertyNames(n).map(i=>`  "${i}": ${JSON.stringify(n[i])}`)].join(`
`)),this.canisterId=e,this.methodName=t,this.type=r,this.props=n}},pp=class extends bl{constructor(e,t,r){var n;super(e,t,"query",{Status:r.status,Code:(n=Ra[r.reject_code])!==null&&n!==void 0?n:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}},gp=class extends bl{constructor(e,t,r,n){super(e,t,"update",Object.assign({"Request ID":Qe(r)},n.body?Object.assign(Object.assign({},n.body.error_code?{"Error code":n.body.error_code}:{}),{"Reject code":String(n.body.reject_code),"Reject message":n.body.reject_message}):{"HTTP status code":n.status.toString(),"HTTP status text":n.statusText})),this.requestId=r,this.response=n}},ht=Symbol.for("ic-agent-metadata"),ml=class wl{constructor(t){this[ht]=Object.freeze(t)}static agentOf(t){return t[ht].config.agent}static interfaceOf(t){return t[ht].service}static canisterIdOf(t){return xe.from(t[ht].config.canisterId)}static async install(t,r){let n=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],a=[...new Uint8Array(t.module)],s=typeof r.canisterId=="string"?xe.fromText(r.canisterId):r.canisterId;await Ao(r).install_code({mode:n,arg:i,wasm_module:a,canister_id:s,sender_canister_version:[]})}static async createCanister(t,r){function n(a){return[{controllers:a.controllers?[a.controllers]:[],compute_allocation:a.compute_allocation?[a.compute_allocation]:[],freezing_threshold:a.freezing_threshold?[a.freezing_threshold]:[],memory_allocation:a.memory_allocation?[a.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[]}]}let{canister_id:i}=await Ao(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,r,n){let i=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:i}))}static createActorClass(t,r){let n=t({IDL:an});class i extends wl{constructor(s){if(!s.canisterId)throw new pt(`Canister ID is required, but received ${typeof s.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);let c=typeof s.canisterId=="string"?xe.fromText(s.canisterId):s.canisterId;super({config:Object.assign(Object.assign(Object.assign({},vl),s),{canisterId:c}),service:n});for(let[u,h]of n._fields)r!=null&&r.httpDetails&&h.annotations.push(Da),this[u]=yp(this,u,h,s.blsVerify)}}return i}static createActor(t,r){if(!r.canisterId)throw new pt(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}};function Mn(e,t){let r=an.decode(e,c0.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}var vl={pollingStrategyFactory:ll.defaultStrategy},Da="http-details";function yp(e,t,r,n){let i;r.annotations.includes("query")||r.annotations.includes("composite_query")?i=async(s,...c)=>{var u,h;s=Object.assign(Object.assign({},s),(h=(u=e[ht].config).queryTransform)===null||h===void 0?void 0:h.call(u,t,c,Object.assign(Object.assign({},e[ht].config),s)));let f=s.agent||e[ht].config.agent||Io(),y=xe.from(s.canisterId||e[ht].config.canisterId),P=an.encode(r.argTypes,c),p=await f.query(y,{methodName:t,arg:P,effectiveCanisterId:s.effectiveCanisterId});switch(p.status){case"rejected":throw new pp(y,t,p);case"replied":return r.annotations.includes(Da)?{httpDetails:p.httpDetails,result:Mn(r.retTypes,p.reply.arg)}:Mn(r.retTypes,p.reply.arg)}}:i=async(s,...c)=>{var u,h;s=Object.assign(Object.assign({},s),(h=(u=e[ht].config).callTransform)===null||h===void 0?void 0:h.call(u,t,c,Object.assign(Object.assign({},e[ht].config),s)));let f=s.agent||e[ht].config.agent||Io(),{canisterId:y,effectiveCanisterId:P,pollingStrategyFactory:p}=Object.assign(Object.assign(Object.assign({},vl),e[ht].config),s),g=xe.from(y),v=P!==void 0?xe.from(P):g,B=an.encode(r.argTypes,c),{requestId:C,response:D}=await f.call(g,{methodName:t,arg:B,effectiveCanisterId:v});if(!D.ok||D.body)throw new gp(g,t,C,D);let q=p(),ie=await yl(f,v,C,q,n),te=r.annotations.includes(Da);if(ie!==void 0)return te?{httpDetails:D,result:Mn(r.retTypes,ie)}:Mn(r.retTypes,ie);if(r.retTypes.length===0)return te?{httpDetails:D,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};let a=(...s)=>i({},...s);return a.withOptions=s=>(...c)=>i(s,...c),a}function Ao(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:xe.from(e.effectiveCanisterId)};let i=n[0],a=xe.fromHex("");return i&&typeof i=="object"&&i.canister_id&&(a=xe.from(i.canister_id)),{effectiveCanisterId:a}}return ml.createActor(dp,Object.assign(Object.assign(Object.assign({},e),{canisterId:xe.fromHex("")}),{callTransform:t,queryTransform:t}))}var xi=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},Zt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ni,ii,Br,Sr;function Bo(e){return e!==null&&typeof e=="object"}var ai=class Zr{constructor(t){if(ni.set(this,void 0),ii.set(this,void 0),t.byteLength!==Zr.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");xi(this,ni,t),xi(this,ii,Zr.derEncode(t))}static from(t){if(typeof t=="string"){let r=Lt(t);return this.fromRaw(r)}else if(Bo(t)){let r=t;if(Bo(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){let n=r;return this.fromRaw(Qa(n.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new Zr(t)}static fromDer(t){return new Zr(this.derDecode(t))}static derEncode(t){let r=el(t,Ei).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){let r=tl(t,Ei);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return Zt(this,ni,"f")}get derKey(){return Zt(this,ii,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};ni=new WeakMap,ii=new WeakMap;ai.RAW_KEY_LENGTH=32;var aa=class Jr extends ls{constructor(t,r){super(),Br.set(this,void 0),Sr.set(this,void 0),xi(this,Br,ai.from(t)),xi(this,Sr,new Uint8Array(r))}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=xr.utils.randomPrivateKey()),Nc(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");let r=new Uint8Array(32);for(let i=0;i<32;i++)r[i]=new Uint8Array(t)[i];let n=xr.getPublicKey(r);return Jr.fromKeyPair(n,r)}static fromParsedJson(t){let[r,n]=t;return new Jr(ai.fromDer(Lt(r)),Lt(n))}static fromJSON(t){let r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Jr(ai.fromRaw(t),r)}static fromSecretKey(t){let r=xr.getPublicKey(new Uint8Array(t));return Jr.fromKeyPair(r,t)}toJSON(){return[Qe(Zt(this,Br,"f").toDer()),Qe(Zt(this,Sr,"f"))]}getKeyPair(){return{secretKey:Zt(this,Sr,"f"),publicKey:Zt(this,Br,"f")}}getPublicKey(){return Zt(this,Br,"f")}async sign(t){let r=new Uint8Array(t),n=en(xr.sign(r,Zt(this,Sr,"f").slice(0,32)));return Object.defineProperty(n,"__signature__",{enumerable:!1,value:void 0}),n}static verify(t,r,n){let[i,a,s]=[t,r,n].map(c=>(typeof c=="string"&&(c=Lt(c)),c instanceof Uint8Array&&(c=c.buffer),new Uint8Array(c)));return xr.verify(a,i,s)}};Br=new WeakMap,Sr=new WeakMap;var bp=class _l extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,_l.prototype)}};function So(e){if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.subtle)return globalThis.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new bp("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}var No=class El extends ls{constructor(t,r,n){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=n}static async generate(t){let{extractable:r=!1,keyUsages:n=["sign","verify"],subtleCrypto:i}=t??{},a=So(i),s=await a.generateKey({name:"ECDSA",namedCurve:"P-256"},r,n),c=await a.exportKey("spki",s.publicKey);return new this(s,c,a)}static async fromKeyPair(t,r){let n=So(r),i=await n.exportKey("spki",t.publicKey);return new El(t,i,n)}getKeyPair(){return this._keyPair}getPublicKey(){let t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){let r={name:"ECDSA",hash:{name:"SHA-256"}};return this._keyPair.privateKey,await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}},Hr=ir(Ri()),mp=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},Gr=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Yt,wp=class{constructor(e){Yt.set(this,void 0),mp(this,Yt,e)}get rawKey(){return Gr(this,Yt,"f").rawKey}get derKey(){return Gr(this,Yt,"f").derKey}toDer(){return Gr(this,Yt,"f").toDer()}getPublicKey(){return Gr(this,Yt,"f")}getPrincipal(){return xe.from(Gr(this,Yt,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}};Yt=new WeakMap;var vp=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},_p=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ep=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},si,xp=new TextEncoder().encode("ic-request-auth-delegation"),Tp=new TextEncoder().encode(`
ic-request`);function sa(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Lt(e)}var ps=class{constructor(e,t,r){this.pubkey=e,this.expiration=t,this.targets=r}toCBOR(){return Hr.value.map(Object.assign({pubkey:Hr.value.bytes(this.pubkey),expiration:Hr.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:Hr.value.array(this.targets.map(e=>Hr.value.bytes(e.toUint8Array())))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Qe(this.pubkey)},this.targets&&{targets:this.targets.map(e=>e.toHex())})}};async function Ip(e,t,r,n){let i=new ps(t.toDer(),BigInt(+r)*BigInt(1e6),n),a=new Uint8Array([...xp,...new Uint8Array(on(i))]),s=await e.sign(a);return{delegation:i,signature:s}}var Oo=class xl{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,n=new Date(Date.now()+15*60*1e3),i={}){var a,s;let c=await Ip(t,r,n,i.targets);return new xl([...((a=i.previous)===null||a===void 0?void 0:a.delegations)||[],c],((s=i.previous)===null||s===void 0?void 0:s.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){let{publicKey:r,delegations:n}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(n))throw new Error("Invalid delegations.");let i=n.map(a=>{let{delegation:s,signature:c}=a,{pubkey:u,expiration:h,targets:f}=s;if(f!==void 0&&!Array.isArray(f))throw new Error("Invalid targets.");return{delegation:new ps(sa(u),BigInt("0x"+h),f&&f.map(y=>{if(typeof y!="string")throw new Error("Invalid target.");return xe.fromHex(y)})),signature:sa(c)}});return new this(i,sa(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{let{delegation:r,signature:n}=t,{targets:i}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:Qe(r.pubkey)},i&&{targets:i.map(a=>a.toHex())}),signature:Qe(n)}}),publicKey:Qe(this.publicKey)}}},$o=class extends ls{constructor(e,t){super(),this._inner=e,this._delegation=t}static fromDelegation(e,t){return new this(e,t)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){let{body:t}=e,r=Ep(e,["body"]),n=await on(t);return Object.assign(Object.assign({},r),{body:{content:t,sender_sig:await this.sign(new Uint8Array([...Tp,...new Uint8Array(n)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}},Ro=class Tl extends wp{constructor(t,r){super(t),si.set(this,void 0),vp(this,si,r)}get delegation(){return _p(this,si,"f")}static fromDelegation(t,r){return new Tl(t,r)}};si=new WeakMap;function Ap(e,t){for(let{delegation:n}of e.delegations)if(+new Date(Number(n.expiration/BigInt(1e6)))<=+Date.now())return!1;let r=[];for(let n of r){let i=n.toText();for(let{delegation:a}of e.delegations){if(a.targets===void 0)continue;let s=!0;for(let c of a.targets)if(c.toText()===i){s=!1;break}if(s)return!1}}return!0}ir(Wa());var Po;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Po||(Po={}));var Uo=["mousedown","mousemove","keydown","touchstart","wheel"],ko=class{constructor(e={}){var t;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;let{onIdle:r,idleTimeout:n=10*60*1e3}=e||{};this.callbacks=r?[r]:[],this.idleTimeout=n;let i=this._resetTimer.bind(this);window.addEventListener("load",i,!0),Uo.forEach(function(s){document.addEventListener(s,i,!0)});let a=(s,c)=>{let u;return(...h)=>{let f=this,y=function(){u=void 0,s.apply(f,h)};clearTimeout(u),u=window.setTimeout(y,c)}};if(e!=null&&e.captureScroll){let s=a(i,(t=e==null?void 0:e.scrollDebounce)!==null&&t!==void 0?t:100);window.addEventListener("scroll",s,!0)}i()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);let e=this._resetTimer.bind(this);Uo.forEach(function(t){document.removeEventListener(t,e,!0)}),this.callbacks.forEach(t=>t())}_resetTimer(){let e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}},Bp=(e,t)=>t.some(r=>e instanceof r),Co,Mo;function Sp(){return Co||(Co=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Np(){return Mo||(Mo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Il=new WeakMap,ja=new WeakMap,Al=new WeakMap,oa=new WeakMap,gs=new WeakMap;function Op(e){let t=new Promise((r,n)=>{let i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(rr(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&Il.set(r,e)}).catch(()=>{}),gs.set(t,e),t}function $p(e){if(ja.has(e))return;let t=new Promise((r,n)=>{let i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});ja.set(e,t)}var Va={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return ja.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Al.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return rr(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rp(e){Va=e(Va)}function Pp(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){let n=e.call(ca(this),t,...r);return Al.set(n,t.sort?t.sort():[t]),rr(n)}:Np().includes(e)?function(...t){return e.apply(ca(this),t),rr(Il.get(this))}:function(...t){return rr(e.apply(ca(this),t))}}function Up(e){return typeof e=="function"?Pp(e):(e instanceof IDBTransaction&&$p(e),Bp(e,Sp())?new Proxy(e,Va):e)}function rr(e){if(e instanceof IDBRequest)return Op(e);if(oa.has(e))return oa.get(e);let t=Up(e);return t!==e&&(oa.set(e,t),gs.set(t,e)),t}var ca=e=>gs.get(e);function kp(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){let s=indexedDB.open(e,t),c=rr(s);return n&&s.addEventListener("upgradeneeded",u=>{n(rr(s.result),u.oldVersion,u.newVersion,rr(s.transaction),u)}),r&&s.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var Cp=["get","getKey","getAll","getAllKeys","count"],Mp=["put","add","delete","clear"],ua=new Map;function Lo(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ua.get(t))return ua.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=Mp.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Cp.includes(r)))return;let a=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),h=u.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),i&&u.done]))[0]};return ua.set(t,a),a}Rp(e=>({...e,get:(t,r,n)=>Lo(t,r)||e.get(t,r,n),has:(t,r)=>!!Lo(t,r)||e.has(t,r)}));var Bl="auth-client-db",Sl="ic-keyval",Lp=async(e=Bl,t=Sl,r)=>(Ol&&localStorage!=null&&localStorage.getItem(Qt)&&(localStorage.removeItem(Qt),localStorage.removeItem(Jt)),await kp(e,r,{upgrade:n=>{n.objectStoreNames,n.objectStoreNames.contains(t)&&n.clear(t),n.createObjectStore(t)}}));async function Fp(e,t,r){return await e.get(t,r)}async function Dp(e,t,r,n){return await e.put(t,n,r)}async function jp(e,t,r){return await e.delete(t,r)}var Vp=class Nl{constructor(t,r){this._db=t,this._storeName=r}static async create(t){let{dbName:r=Bl,storeName:n=Sl,version:i=Gp}=t??{},a=await Lp(r,n,i);return new Nl(a,n)}async set(t,r){return await Dp(this._db,this._storeName,t,r)}async get(t){var r;return(r=await Fp(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await jp(this._db,this._storeName,t)}},qp=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},zp=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):t.get(e)},oi,Jt="identity",Qt="delegation",Hp="iv",Gp=1,Ol=typeof window<"u",Kp=class{constructor(e="ic-",t){this.prefix=e,this._localStorage=t}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,t){return this._getLocalStorage().setItem(this.prefix+e,t),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;let e=typeof window>"u"?typeof globalThis>"u"?typeof self>"u"?void 0:self.localStorage:globalThis.localStorage:window.localStorage;if(!e)throw new Error("Could not find local storage.");return e}},Yp=class{constructor(e){oi.set(this,void 0),qp(this,oi,e??{})}get _db(){return new Promise(e=>{if(this.initializedDb){e(this.initializedDb);return}Vp.create(zp(this,oi,"f")).then(t=>{this.initializedDb=t,e(t)})})}async get(e){return await(await this._db).get(e)}async set(e,t){await(await this._db).set(e,t)}async remove(e){await(await this._db).remove(e)}};oi=new WeakMap;var Wp="https://identity.ic0.app",Zp="#authorize",la="ECDSA",fa="Ed25519",Jp=500,Xp="UserInterrupt",Qp=class{constructor(e,t,r,n,i,a,s,c){this._identity=e,this._key=t,this._chain=r,this._storage=n,this.idleManager=i,this._createOptions=a,this._idpWindow=s,this._eventHandler=c,this._registerDefaultIdleCallback()}static async create(e={}){var t,r,n;let i=(t=e.storage)!==null&&t!==void 0?t:new Yp,a=(r=e.keyType)!==null&&r!==void 0?r:la,s=null;if(e.identity)s=e.identity;else{let f=await i.get(Jt);if(!f&&Ol)try{let y=new Kp,P=await y.get(Qt),p=await y.get(Jt);P&&p&&a===la&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await i.set(Qt,P),await i.set(Jt,p),f=P,await y.remove(Qt),await y.remove(Jt))}catch(y){console.error("error while attempting to recover localstorage: "+y)}if(f)try{typeof f=="object"?a===fa&&typeof f=="string"?s=await aa.fromJSON(f):s=await No.fromKeyPair(f):typeof f=="string"&&(s=aa.fromJSON(f))}catch{}}let c=new _i,u=null;if(s)try{let f=await i.get(Qt);if(typeof f=="object"&&f!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?c=e.identity:f&&(u=Oo.fromJSON(f),Ap(u)?"toDer"in s?c=Ro.fromDelegation(s,u):c=$o.fromDelegation(s,u):(await ha(i),s=null))}catch(f){console.error(f),await ha(i),s=null}let h;return!((n=e.idleOptions)===null||n===void 0)&&n.disableIdle?h=void 0:(u||e.identity)&&(h=ko.create(e.idleOptions)),s||(a===fa?(s=await aa.generate(),await i.set(Jt,JSON.stringify(s.toJSON()))):(e.storage&&a===la&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${fa}' as the key type, as it can serialize to a string`),s=await No.generate(),await i.set(Jt,s.getKeyPair()))),new this(c,s,u,i,h,e)}_registerDefaultIdleCallback(){var e,t;let r=(e=this._createOptions)===null||e===void 0?void 0:e.idleOptions;!(r!=null&&r.onIdle)&&!(r!=null&&r.disableDefaultIdleCallback)&&((t=this.idleManager)===null||t===void 0||t.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(e,t){var r,n;let i=e.delegations.map(u=>({delegation:new ps(u.delegation.pubkey,u.delegation.expiration,u.delegation.targets),signature:u.signature.buffer})),a=Oo.fromDelegations(i,e.userPublicKey.buffer),s=this._key;if(!s)return;this._chain=a,"toDer"in s?this._identity=Ro.fromDelegation(s,this._chain):this._identity=$o.fromDelegation(s,this._chain),(r=this._idpWindow)===null||r===void 0||r.close();let c=(n=this._createOptions)===null||n===void 0?void 0:n.idleOptions;!this.idleManager&&!(c!=null&&c.disableIdle)&&(this.idleManager=ko.create(c),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Qt,JSON.stringify(this._chain.toJSON())),t==null||t(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(e){var t,r,n,i;let a=BigInt(8)*BigInt(36e11),s=new URL(((t=e==null?void 0:e.identityProvider)===null||t===void 0?void 0:t.toString())||Wp);s.hash=Zp,(r=this._idpWindow)===null||r===void 0||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(s,Object.assign({maxTimeToLive:(n=e==null?void 0:e.maxTimeToLive)!==null&&n!==void 0?n:a},e)),window.addEventListener("message",this._eventHandler),this._idpWindow=(i=window.open(s.toString(),"idpWindow",e==null?void 0:e.windowOpenerFeatures))!==null&&i!==void 0?i:void 0;let c=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(Xp,e==null?void 0:e.onError):setTimeout(c,Jp))};c()}_getEventHandler(e,t){return async r=>{var n,i,a;if(r.origin!==e.origin){console.warn(`WARNING: expected origin '${e.origin}', got '${r.origin}' (ignoring)`);return}let s=r.data;switch(s.kind){case"authorize-ready":{let c=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((n=this._key)===null||n===void 0?void 0:n.getPublicKey().toDer()),maxTimeToLive:t==null?void 0:t.maxTimeToLive,allowPinAuthentication:t==null?void 0:t.allowPinAuthentication,derivationOrigin:(i=t==null?void 0:t.derivationOrigin)===null||i===void 0?void 0:i.toString()},t==null?void 0:t.customValues);(a=this._idpWindow)===null||a===void 0||a.postMessage(c,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(s,t==null?void 0:t.onSuccess)}catch(c){this._handleFailure(c.message,t==null?void 0:t.onError)}break;case"authorize-client-failure":this._handleFailure(s.text,t==null?void 0:t.onError);break}}}_handleFailure(e,t){var r;(r=this._idpWindow)===null||r===void 0||r.close(),t==null||t(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await ha(this._storage),this._identity=new _i,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch{window.location.href=e.returnTo}}};async function ha(e){await e.remove(Jt),await e.remove(Qt),await e.remove(Hp)}var $l=()=>Qp.create({idleOptions:{disableIdle:!0,disableDefaultIdleCallback:!0}}),eg=async({data:e})=>{try{return await Gu(e)}catch(t){console.error("The data parsing has failed, mapping to undefined as a fallback.",t);return}},tg=async e=>{let{data:t,version:r,description:n}=e;return{description:Pt(n),data:await Xd(t),version:Pt(r)}},Rl=async({doc:e,key:t})=>{let{owner:r,version:n,description:i,data:a,...s}=e;return{key:t,description:gr(i),owner:r.toText(),data:await Gu(a),version:gr(n),...s}},rg=({matcher:e,paginate:t,order:r,owner:n})=>({matcher:ct(e)?[]:[{key:Pt(e.key),description:Pt(e.description)}],paginate:Pt(ct(t)?void 0:{start_after:Pt(t.startAfter),limit:Pt(ct(t.limit)?void 0:BigInt(t.limit))}),order:Pt(ct(r)?void 0:{desc:r.desc,field:r.field==="created_at"?{CreatedAt:null}:r.field==="updated_at"?{UpdatedAt:null}:{Keys:null}}),owner:Pt(ct(n)?void 0:typeof n=="string"?xe.fromText(n):n)}),ng=({IDL:e})=>{let t=e.Record({batch_id:e.Nat,headers:e.Vec(e.Tuple(e.Text,e.Text)),chunk_ids:e.Vec(e.Nat)}),r=e.Record({controllers:e.Vec(e.Principal)}),n=e.Variant({Write:e.Null,Admin:e.Null}),i=e.Record({updated_at:e.Nat64,metadata:e.Vec(e.Tuple(e.Text,e.Text)),created_at:e.Nat64,scope:n,expires_at:e.Opt(e.Nat64)}),a=e.Record({version:e.Opt(e.Nat64)}),s=e.Variant({Db:e.Null,Storage:e.Null}),c=e.Record({cycles:e.Nat,destination_id:e.Principal}),u=e.Record({token:e.Opt(e.Text),collection:e.Text,owner:e.Principal,name:e.Text,description:e.Opt(e.Text),full_path:e.Text}),h=e.Record({modified:e.Nat64,sha256:e.Vec(e.Nat8),total_length:e.Nat}),f=e.Record({key:u,updated_at:e.Nat64,encodings:e.Vec(e.Tuple(e.Text,h)),headers:e.Vec(e.Tuple(e.Text,e.Text)),created_at:e.Nat64,version:e.Opt(e.Nat64)}),y=e.Record({derivation_origin:e.Opt(e.Text)}),P=e.Record({internet_identity:e.Opt(y)}),p=e.Variant({Deny:e.Null,AllowAny:e.Null,SameOrigin:e.Null}),g=e.Variant({Deny:e.Null,Allow:e.Null}),v=e.Record({status_code:e.Nat16,location:e.Text}),B=e.Record({iframe:e.Opt(p),rewrites:e.Vec(e.Tuple(e.Text,e.Text)),headers:e.Vec(e.Tuple(e.Text,e.Vec(e.Tuple(e.Text,e.Text)))),raw_access:e.Opt(g),redirects:e.Opt(e.Vec(e.Tuple(e.Text,v)))}),C=e.Record({storage:B}),D=e.Record({updated_at:e.Nat64,owner:e.Principal,data:e.Vec(e.Nat8),description:e.Opt(e.Text),created_at:e.Nat64,version:e.Opt(e.Nat64)}),q=e.Record({url:e.Text,method:e.Text,body:e.Vec(e.Nat8),headers:e.Vec(e.Tuple(e.Text,e.Text)),certificate_version:e.Opt(e.Nat16)}),ie=e.Variant({Heap:e.Null,Stable:e.Null}),te=e.Record({memory:ie,token:e.Opt(e.Text),sha256:e.Opt(e.Vec(e.Nat8)),headers:e.Vec(e.Tuple(e.Text,e.Text)),index:e.Nat64,encoding_type:e.Text,full_path:e.Text}),se=e.Variant({Callback:e.Record({token:te,callback:e.Func([],[],["query"])})}),Y=e.Record({body:e.Vec(e.Nat8),headers:e.Vec(e.Tuple(e.Text,e.Text)),streaming_strategy:e.Opt(se),status_code:e.Nat16}),Z=e.Record({token:e.Opt(te),body:e.Vec(e.Nat8)}),be=e.Record({token:e.Opt(e.Text),collection:e.Text,name:e.Text,description:e.Opt(e.Text),encoding_type:e.Opt(e.Text),full_path:e.Text}),S=e.Record({batch_id:e.Nat}),U=e.Variant({UpdatedAt:e.Null,Keys:e.Null,CreatedAt:e.Null}),he=e.Record({field:U,desc:e.Bool}),le=e.Record({key:e.Opt(e.Text),description:e.Opt(e.Text)}),I=e.Record({start_after:e.Opt(e.Text),limit:e.Opt(e.Nat64)}),X=e.Record({order:e.Opt(he),owner:e.Opt(e.Principal),matcher:e.Opt(le),paginate:e.Opt(I)}),G=e.Record({matches_pages:e.Opt(e.Nat64),matches_length:e.Nat64,items_page:e.Opt(e.Nat64),items:e.Vec(e.Tuple(e.Text,f)),items_length:e.Nat64}),z=e.Record({updated_at:e.Nat64,created_at:e.Nat64,version:e.Opt(e.Nat64),bn_id:e.Opt(e.Text)}),H=e.Record({matches_pages:e.Opt(e.Nat64),matches_length:e.Nat64,items_page:e.Opt(e.Nat64),items:e.Vec(e.Tuple(e.Text,D)),items_length:e.Nat64}),ae=e.Variant({Controllers:e.Null,Private:e.Null,Public:e.Null,Managed:e.Null}),A=e.Record({max_capacity:e.Opt(e.Nat32),memory:e.Opt(ie),updated_at:e.Nat64,max_size:e.Opt(e.Nat),read:ae,created_at:e.Nat64,version:e.Opt(e.Nat64),mutable_permissions:e.Opt(e.Bool),write:ae}),_=e.Record({stable:e.Nat64,heap:e.Nat64}),W=e.Record({metadata:e.Vec(e.Tuple(e.Text,e.Text)),scope:n,expires_at:e.Opt(e.Nat64)}),re=e.Record({controller:W,controllers:e.Vec(e.Principal)}),w=e.Record({data:e.Vec(e.Nat8),description:e.Opt(e.Text),version:e.Opt(e.Nat64)}),L=e.Record({max_capacity:e.Opt(e.Nat32),memory:e.Opt(ie),max_size:e.Opt(e.Nat),read:ae,version:e.Opt(e.Nat64),mutable_permissions:e.Opt(e.Bool),write:ae}),fe=e.Record({content:e.Vec(e.Nat8),batch_id:e.Nat,order_id:e.Opt(e.Nat)}),de=e.Record({chunk_id:e.Nat});return e.Service({build_version:e.Func([],[e.Text],["query"]),commit_asset_upload:e.Func([t],[],[]),count_assets:e.Func([e.Text],[e.Nat64],["query"]),count_docs:e.Func([e.Text],[e.Nat64],["query"]),del_asset:e.Func([e.Text,e.Text],[],[]),del_assets:e.Func([e.Text],[],[]),del_controllers:e.Func([r],[e.Vec(e.Tuple(e.Principal,i))],[]),del_custom_domain:e.Func([e.Text],[],[]),del_doc:e.Func([e.Text,e.Text,a],[],[]),del_docs:e.Func([e.Text],[],[]),del_many_assets:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[],[]),del_many_docs:e.Func([e.Vec(e.Tuple(e.Text,e.Text,a))],[],[]),del_rule:e.Func([s,e.Text,a],[],[]),deposit_cycles:e.Func([c],[],[]),get_asset:e.Func([e.Text,e.Text],[e.Opt(f)],["query"]),get_auth_config:e.Func([],[e.Opt(P)],["query"]),get_config:e.Func([],[C],[]),get_doc:e.Func([e.Text,e.Text],[e.Opt(D)],["query"]),get_many_assets:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[e.Vec(e.Tuple(e.Text,e.Opt(f)))],["query"]),get_many_docs:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[e.Vec(e.Tuple(e.Text,e.Opt(D)))],["query"]),http_request:e.Func([q],[Y],["query"]),http_request_streaming_callback:e.Func([te],[Z],["query"]),init_asset_upload:e.Func([be],[S],[]),list_assets:e.Func([e.Text,X],[G],["query"]),list_controllers:e.Func([],[e.Vec(e.Tuple(e.Principal,i))],["query"]),list_custom_domains:e.Func([],[e.Vec(e.Tuple(e.Text,z))],["query"]),list_docs:e.Func([e.Text,X],[H],["query"]),list_rules:e.Func([s],[e.Vec(e.Tuple(e.Text,A))],["query"]),memory_size:e.Func([],[_],["query"]),set_auth_config:e.Func([P],[],[]),set_config:e.Func([C],[],[]),set_controllers:e.Func([re],[e.Vec(e.Tuple(e.Principal,i))],[]),set_custom_domain:e.Func([e.Text,e.Opt(e.Text)],[],[]),set_doc:e.Func([e.Text,e.Text,w],[D],[]),set_many_docs:e.Func([e.Vec(e.Tuple(e.Text,e.Text,w))],[e.Vec(e.Tuple(e.Text,D))],[]),set_rule:e.Func([s,e.Text,L],[],[]),upload_asset_chunk:e.Func([fe],[de],[]),version:e.Func([],[e.Text],["query"])})},ig=async({satelliteId:e,idlFactory:t,identity:r,fetch:n,container:i})=>{let a=ft(i)&&i!==!1?i===!0?us:i:"https://icp-api.io",s=new cp({identity:r,host:a,...n&&{fetch:n}});return ft(i)&&await s.fetchRootKey(),ml.createActor(t,{agent:s,canisterId:e})},ag=({satelliteId:e,container:t})=>{let{satelliteId:r}=Pl({satelliteId:e}),{container:n}=Ul({container:t});if(ft(n)&&n!==!1){let{host:i,protocol:a}=new URL(n===!0?us:n);return`${a}//${r??"unknown"}.${i.replace("127.0.0.1","localhost")}`}return`https://${r??"unknown"}.icp0.io`},Pl=({satelliteId:e})=>ft(e)?{satelliteId:e}:ln.getInstance().get()??{satelliteId:void 0},Ul=({container:e})=>ft(e)?{container:e}:ln.getInstance().get()??{container:void 0},ji=async({satelliteId:e,container:t,...r})=>{let{satelliteId:n}=Pl({satelliteId:e});Hu(n,"No satellite ID defined. Did you initialize Juno?");let{container:i}=Ul({container:t});return ig({satelliteId:n,container:i,idlFactory:ng,...r})},sg=async({collection:e,key:t,satellite:r})=>{let n=await ji(r),i=gr(await n.get_doc(e,t));if(!ct(i))return Rl({doc:i,key:t})},og=async({collection:e,doc:t,satellite:r})=>{let{set_doc:n}=await ji(r),{key:i}=t,a=await tg(t),s=await n(e,i,a);return await Rl({key:i,doc:s})},cg=async({collection:e,filter:t,satellite:r})=>{let n=await ji(r),{items:i,items_page:a,items_length:s,matches_length:c,matches_pages:u}=await n.list_docs(e,rg(t)),h=[];for(let[f,y]of i){let{data:P,owner:p,description:g,version:v,...B}=y;h.push({key:f,description:gr(g),owner:p.toText(),data:await eg({data:P}),version:gr(v),...B})}return{items:h,items_length:s,items_page:gr(a),matches_length:c,matches_pages:gr(u)}},Vi=e=>e!==void 0?e:Ml()??new _i,ug=async({satellite:e,...t})=>{let r=Vi(e==null?void 0:e.identity);return sg({...t,satellite:{...e,identity:r}})},qa=async({satellite:e,...t})=>{let r=Vi(e==null?void 0:e.identity);return og({...t,satellite:{...e,identity:r}})},lg=async({satellite:e,filter:t,...r})=>{let n=Vi(e==null?void 0:e.identity);return cg({...r,filter:t??{},satellite:{...e,identity:n}})},fg=async e=>{let t=Ml();if(ct(t))throw new Error("No identity to initialize the user. Have you initialized Juno?");let r=t.getPrincipal().toText(),n=await ug({collection:"#user",key:r});return ct(n)?await hg({userId:r,provider:e}):n},hg=async({userId:e,...t})=>qa({collection:"#user",doc:{key:e,data:t}}),at,kl=async e=>{if(at=at??await $l(),!(await(at==null?void 0:at.isAuthenticated())??!1))return;let t=await fg(e);Di.getInstance().set(t)},dg=async e=>new Promise(async(t,r)=>{at=at??await $l();let n=(e==null?void 0:e.provider)??new s0({});await at.login({onSuccess:async()=>{await kl(n.id),t()},onError:i=>r(i),maxTimeToLive:(e==null?void 0:e.maxTimeToLive)??e0,allowPinAuthentication:(e==null?void 0:e.allowPin)??t0,...(e==null?void 0:e.derivationOrigin)!==void 0&&{derivationOrigin:e.derivationOrigin},...n.signInOptions({windowed:e==null?void 0:e.windowed})})}),Cl=async()=>{await(at==null?void 0:at.logout()),at=void 0,Di.getInstance().reset()},Ml=()=>at==null?void 0:at.getIdentity(),pg=e=>{let t=e===!0?"./workers/auth.worker.js":e,r=new Worker(t),n=async()=>{ho({message:"junoSignOutAuthTimer"}),await Cl()};return r.onmessage=async({data:i})=>{let{msg:a,data:s}=i;switch(a){case"junoSignOutAuthTimer":await n();return;case"junoDelegationRemainingTime":ho({message:"junoDelegationRemainingTime",detail:s==null?void 0:s.authRemainingTime});return}},Di.getInstance().subscribe(i=>{if(ct(i)){r.postMessage({msg:"junoStopAuthTimer"});return}r.postMessage({msg:"junoStartAuthTimer"})})},gg=()=>{let e=()=>typeof import.meta<"u"&&typeof ot<"u"?(ot==null?void 0:ot.VITE_SATELLITE_ID)??(ot==null?void 0:ot.PUBLIC_SATELLITE_ID):void 0;return typeof process<"u"?(Pr==null?void 0:Pr.NEXT_PUBLIC_SATELLITE_ID)??e():e()},yg=()=>{let e=()=>typeof import.meta<"u"&&typeof ot<"u"?(ot==null?void 0:ot.VITE_CONTAINER)??(ot==null?void 0:ot.PUBLIC_CONTAINER):void 0;return typeof process<"u"?(Pr==null?void 0:Pr.NEXT_PUBLIC_CONTAINER)??e():e()},bg=e=>e==null,mg=e=>!bg(e),ci=e=>mg(e)?[e]:[],wg=()=>typeof window<"u",vg=async({asset:{data:e,filename:t,collection:r,headers:n,token:i,fullPath:a,encoding:s,description:c},actor:u,init_asset_upload:h})=>{let{batch_id:f}=await h({collection:r,full_path:a,name:t,token:ci(i),encoding_type:ci(s),description:ci(c)}),y=19e5,P=[],p=wg()?new Blob([await e.arrayBuffer()]):e,g=0n;for(let C=0;C<p.size;C+=y){let D=p.slice(C,C+y);P.push({batchId:f,chunk:D,actor:u,orderId:g}),g++}let v=[];for await(let C of _g({uploadChunks:P}))v=[...v,...C];let B=n.find(([C,D])=>C.toLowerCase()==="content-type")===void 0&&e.type!==void 0&&e.type!==""?[["Content-Type",e.type]]:void 0;await u.commit_asset_upload({batch_id:f,chunk_ids:v.map(({chunk_id:C})=>C),headers:[...n,...B||[]]})};async function*_g({uploadChunks:e,limit:t=12}){for(let r=0;r<e.length;r=r+t){let n=e.slice(r,r+t);yield await Promise.all(n.map(i=>Eg(i)))}}var Eg=async({batchId:e,chunk:t,actor:r,orderId:n})=>r.upload_asset_chunk({batch_id:e,content:new Uint8Array(await t.arrayBuffer()),order_id:ci(n)}),xg=async({satellite:e,...t})=>{let r=await ji(e);await vg({actor:r,asset:t,init_asset_upload:async n=>await r.init_asset_upload(n)})},Tg=async e=>Ig({filename:e.data.name,...e}),Ig=async({filename:e,data:t,collection:r,headers:n=[],fullPath:i,token:a,satellite:s,encoding:c,description:u})=>{let h=Vi(s==null?void 0:s.identity),f=decodeURI(e),y=i??`/${r}/${f}`,P={...s,identity:h};return await xg({data:t,filename:f,collection:r,token:a,headers:n,fullPath:y,encoding:c,satellite:P,description:u}),{downloadUrl:`${ag(P)}${y}${a!==void 0?`?token=${a}`:""}`,fullPath:y,name:f}},Ag=e=>{let t=(e==null?void 0:e.satelliteId)??gg();Hu(t,"Satellite ID is not configured. Juno cannot be initialized.");let r=(e==null?void 0:e.container)??yg();return{satelliteId:t,internetIdentityId:e==null?void 0:e.internetIdentityId,workers:e==null?void 0:e.workers,container:r}},Bg=async e=>{var n;let t=Ag(e);ln.getInstance().set(t),await kl();let r=((n=t.workers)==null?void 0:n.auth)!==void 0?pg(t.workers.auth):void 0;return[...r?[r]:[]]},Sg=e=>Di.getInstance().subscribe(e);/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/const Ng="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Fo=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=Ng[r[e]&63];return t};var ys={};(function e(t,r,n,i){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=function(){if(!t.OffscreenCanvas)return!1;var A=new OffscreenCanvas(1,1),_=A.getContext("2d");_.fillRect(0,0,1,1);var W=A.transferToImageBitmap();try{_.createPattern(W,"no-repeat")}catch{return!1}return!0}();function u(){}function h(A){var _=r.exports.Promise,W=_!==void 0?_:t.Promise;return typeof W=="function"?new W(A):(A(u,u),null)}var f=function(A,_){return{transform:function(W){if(A)return W;if(_.has(W))return _.get(W);var re=new OffscreenCanvas(W.width,W.height),w=re.getContext("2d");return w.drawImage(W,0,0),_.set(W,re),re},clear:function(){_.clear()}}}(c,new Map),y=function(){var A=Math.floor(16.666666666666668),_,W,re={},w=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(L){var fe=Math.random();return re[fe]=requestAnimationFrame(function de(ne){w===ne||w+A-1<ne?(w=ne,delete re[fe],L()):re[fe]=requestAnimationFrame(de)}),fe},W=function(L){re[L]&&cancelAnimationFrame(re[L])}):(_=function(L){return setTimeout(L,A)},W=function(L){return clearTimeout(L)}),{frame:_,cancel:W}}(),P=function(){var A,_,W={};function re(w){function L(fe,de){w.postMessage({options:fe||{},callback:de})}w.init=function(de){var ne=de.transferControlToOffscreen();w.postMessage({canvas:ne},[ne])},w.fire=function(de,ne,ce){if(_)return L(de,null),_;var me=Math.random().toString(36).slice(2);return _=h(function(b){function m(E){E.data.callback===me&&(delete W[me],w.removeEventListener("message",m),_=null,f.clear(),ce(),b())}w.addEventListener("message",m),L(de,me),W[me]=m.bind(null,{data:{callback:me}})}),_},w.reset=function(){w.postMessage({reset:!0});for(var de in W)W[de](),delete W[de]}}return function(){if(A)return A;if(!n&&a){var w=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{A=new Worker(URL.createObjectURL(new Blob([w])))}catch(L){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",L),null}re(A)}return A}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(A,_){return _?_(A):A}function v(A){return A!=null}function B(A,_,W){return g(A&&v(A[_])?A[_]:p[_],W)}function C(A){return A<0?0:Math.floor(A)}function D(A,_){return Math.floor(Math.random()*(_-A))+A}function q(A){return parseInt(A,16)}function ie(A){return A.map(te)}function te(A){var _=String(A).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:q(_.substring(0,2)),g:q(_.substring(2,4)),b:q(_.substring(4,6))}}function se(A){var _=B(A,"origin",Object);return _.x=B(_,"x",Number),_.y=B(_,"y",Number),_}function Y(A){A.width=document.documentElement.clientWidth,A.height=document.documentElement.clientHeight}function Z(A){var _=A.getBoundingClientRect();A.width=_.width,A.height=_.height}function be(A){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=A,_}function S(A,_,W,re,w,L,fe,de,ne){A.save(),A.translate(_,W),A.rotate(L),A.scale(re,w),A.arc(0,0,1,fe,de,ne),A.restore()}function U(A){var _=A.angle*(Math.PI/180),W=A.spread*(Math.PI/180);return{x:A.x,y:A.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:A.startVelocity*.5+Math.random()*A.startVelocity,angle2D:-_+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:A.color,shape:A.shape,tick:0,totalTicks:A.ticks,decay:A.decay,drift:A.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:A.gravity*3,ovalScalar:.6,scalar:A.scalar,flat:A.flat}}function he(A,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var W=_.tick++/_.totalTicks,re=_.x+_.random*_.tiltCos,w=_.y+_.random*_.tiltSin,L=_.wobbleX+_.random*_.tiltCos,fe=_.wobbleY+_.random*_.tiltSin;if(A.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-W)+")",A.beginPath(),s&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))A.fill(z(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(L-re)*.1,Math.abs(fe-w)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var de=Math.PI/10*_.wobble,ne=Math.abs(L-re)*.1,ce=Math.abs(fe-w)*.1,me=_.shape.bitmap.width*_.scalar,b=_.shape.bitmap.height*_.scalar,m=new DOMMatrix([Math.cos(de)*ne,Math.sin(de)*ne,-Math.sin(de)*ce,Math.cos(de)*ce,_.x,_.y]);m.multiplySelf(new DOMMatrix(_.shape.matrix));var E=A.createPattern(f.transform(_.shape.bitmap),"no-repeat");E.setTransform(m),A.globalAlpha=1-W,A.fillStyle=E,A.fillRect(_.x-me/2,_.y-b/2,me,b),A.globalAlpha=1}else if(_.shape==="circle")A.ellipse?A.ellipse(_.x,_.y,Math.abs(L-re)*_.ovalScalar,Math.abs(fe-w)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):S(A,_.x,_.y,Math.abs(L-re)*_.ovalScalar,Math.abs(fe-w)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var R=Math.PI/2*3,O=4*_.scalar,N=8*_.scalar,V=_.x,$=_.y,M=5,j=Math.PI/M;M--;)V=_.x+Math.cos(R)*N,$=_.y+Math.sin(R)*N,A.lineTo(V,$),R+=j,V=_.x+Math.cos(R)*O,$=_.y+Math.sin(R)*O,A.lineTo(V,$),R+=j;else A.moveTo(Math.floor(_.x),Math.floor(_.y)),A.lineTo(Math.floor(_.wobbleX),Math.floor(w)),A.lineTo(Math.floor(L),Math.floor(fe)),A.lineTo(Math.floor(re),Math.floor(_.wobbleY));return A.closePath(),A.fill(),_.tick<_.totalTicks}function le(A,_,W,re,w){var L=_.slice(),fe=A.getContext("2d"),de,ne,ce=h(function(me){function b(){de=ne=null,fe.clearRect(0,0,re.width,re.height),f.clear(),w(),me()}function m(){n&&!(re.width===i.width&&re.height===i.height)&&(re.width=A.width=i.width,re.height=A.height=i.height),!re.width&&!re.height&&(W(A),re.width=A.width,re.height=A.height),fe.clearRect(0,0,re.width,re.height),L=L.filter(function(E){return he(fe,E)}),L.length?de=y.frame(m):b()}de=y.frame(m),ne=b});return{addFettis:function(me){return L=L.concat(me),ce},canvas:A,promise:ce,reset:function(){de&&y.cancel(de),ne&&ne()}}}function I(A,_){var W=!A,re=!!B(_||{},"resize"),w=!1,L=B(_,"disableForReducedMotion",Boolean),fe=a&&!!B(_||{},"useWorker"),de=fe?P():null,ne=W?Y:Z,ce=A&&de?!!A.__confetti_initialized:!1,me=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,b;function m(R,O,N){for(var V=B(R,"particleCount",C),$=B(R,"angle",Number),M=B(R,"spread",Number),j=B(R,"startVelocity",Number),k=B(R,"decay",Number),J=B(R,"gravity",Number),ge=B(R,"drift",Number),ye=B(R,"colors",ie),we=B(R,"ticks",Number),Oe=B(R,"shapes"),o=B(R,"scalar"),l=!!B(R,"flat"),d=se(R),T=V,F=[],K=A.width*d.x,ee=A.height*d.y;T--;)F.push(U({x:K,y:ee,angle:$,spread:M,startVelocity:j,color:ye[T%ye.length],shape:Oe[D(0,Oe.length)],ticks:we,decay:k,gravity:J,drift:ge,scalar:o,flat:l}));return b?b.addFettis(F):(b=le(A,F,ne,O,N),b.promise)}function E(R){var O=L||B(R,"disableForReducedMotion",Boolean),N=B(R,"zIndex",Number);if(O&&me)return h(function(j){j()});W&&b?A=b.canvas:W&&!A&&(A=be(N),document.body.appendChild(A)),re&&!ce&&ne(A);var V={width:A.width,height:A.height};de&&!ce&&de.init(A),ce=!0,de&&(A.__confetti_initialized=!0);function $(){if(de){var j={getBoundingClientRect:function(){if(!W)return A.getBoundingClientRect()}};ne(j),de.postMessage({resize:{width:j.width,height:j.height}});return}V.width=V.height=null}function M(){b=null,re&&(w=!1,t.removeEventListener("resize",$)),W&&A&&(document.body.contains(A)&&document.body.removeChild(A),A=null,ce=!1)}return re&&!w&&(w=!0,t.addEventListener("resize",$,!1)),de?de.fire(R,V,M):m(R,V,M)}return E.reset=function(){de&&de.reset(),b&&b.reset()},E}var X;function G(){return X||(X=I(null,{useWorker:!0,resize:!0})),X}function z(A,_,W,re,w,L,fe){var de=new Path2D(A),ne=new Path2D;ne.addPath(de,new DOMMatrix(_));var ce=new Path2D;return ce.addPath(ne,new DOMMatrix([Math.cos(fe)*w,Math.sin(fe)*w,-Math.sin(fe)*L,Math.cos(fe)*L,W,re])),ce}function H(A){if(!s)throw new Error("path confetti are not supported in this browser");var _,W;typeof A=="string"?_=A:(_=A.path,W=A.matrix);var re=new Path2D(_),w=document.createElement("canvas"),L=w.getContext("2d");if(!W){for(var fe=1e3,de=fe,ne=fe,ce=0,me=0,b,m,E=0;E<fe;E+=2)for(var R=0;R<fe;R+=2)L.isPointInPath(re,E,R,"nonzero")&&(de=Math.min(de,E),ne=Math.min(ne,R),ce=Math.max(ce,E),me=Math.max(me,R));b=ce-de,m=me-ne;var O=10,N=Math.min(O/b,O/m);W=[N,0,0,N,-Math.round(b/2+de)*N,-Math.round(m/2+ne)*N]}return{type:"path",path:_,matrix:W}}function ae(A){var _,W=1,re="#000000",w='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof A=="string"?_=A:(_=A.text,W="scalar"in A?A.scalar:W,w="fontFamily"in A?A.fontFamily:w,re="color"in A?A.color:re);var L=10*W,fe=""+L+"px "+w,de=new OffscreenCanvas(L,L),ne=de.getContext("2d");ne.font=fe;var ce=ne.measureText(_),me=Math.ceil(ce.actualBoundingBoxRight+ce.actualBoundingBoxLeft),b=Math.ceil(ce.actualBoundingBoxAscent+ce.actualBoundingBoxDescent),m=2,E=ce.actualBoundingBoxLeft+m,R=ce.actualBoundingBoxAscent+m;me+=m+m,b+=m+m,de=new OffscreenCanvas(me,b),ne=de.getContext("2d"),ne.font=fe,ne.fillStyle=re,ne.fillText(_,E,R);var O=1/W;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[O,0,0,O,-me*O/2,-b*O/2]}}r.exports=function(){return G().apply(this,arguments)},r.exports.reset=function(){G().reset()},r.exports.create=I,r.exports.shapeFromPath=H,r.exports.shapeFromText=ae})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ys,!1);const Og=ys.exports;ys.exports.create;var $g={VITE_CANISTER_ORIGIN:"http://by6od-j4aaa-aaaaa-qaadq-cai.localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Rg=Object.defineProperty,Pg=Object.getOwnPropertyDescriptor,qi=(e,t,r,n)=>{for(var i=n>1?void 0:n?Pg(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(n?s(t,r,i):s(i))||i);return n&&i&&Rg(t,r,i),i};let fn=class extends Or{constructor(){super(...arguments),this.loading=!1,this.textButton="Create my nft 😄",this.user=null,this.imgSrcToArrayBuffer=async e=>{const t=await new Promise(r=>{const n=new FileReader;n.onloadend=()=>{r(n.result)},n.readAsArrayBuffer(e)});return new Uint8Array(t)},this.sendRequestForCreateNft=async e=>{var c;const{VITE_CANISTER_ORIGIN:t}=$g,n=[{data:(await Tg({data:e.img,collection:"evntz_nfts",token:crypto.randomUUID()})).downloadUrl,purpose:{Rendered:null},key_val_data:[{key:"name",val:{TextContent:e.name}},{key:"description",val:{TextContent:e.description}}]}],i={minter:(c=this.user)==null?void 0:c.key,metadata:n};return await(await fetch(`${t}/v1/nft/mint`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json()},this.handleSubmitCreateNft=async e=>{e.preventDefault();const t=new FormData(e.target),r=Object.fromEntries(t.entries());this.loading=!0;try{if((await this.sendRequestForCreateNft(r)).Ok){Og(),this._createEvent("add-nfts-total");const i=this.textButton;this.textButton="Nft created 🥳🥳",setTimeout(()=>{this.textButton=i},1e3)}}catch{const i=this.textButton;this.textButton="There was a mistake 😢😥",setTimeout(()=>{this.textButton=i},1e3)}this.loading=!1},this.render=()=>kt`
  <section data-bs-version="5.1" class="list1 cid-ugXsidhq15" id="list02-1i">	  
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-12 col-md-12 col-lg-10 m-auto">
					<div class="content">
						<div class="row justify-content-center mb-5">
							<div class="col-12 content-head">
								<div class="mbr-section-head">
									<h4 class="mbr-section-title mbr-fonts-style align-center mb-0 display-2">
										<strong>Create NFT</strong></h4>
								</div>
							</div>
						</div>
						<form @submit=${this.handleSubmitCreateNft}>
							<div class="mb-3">
								<label for="nft-name" class="form-label">NFT's name</label>
								<input required type="text" name="name" class="form-control" id="nft-name" aria-describedby="nftNameHelp">
								<div id="nftNameHelp" class="form-text">Write a funny and unique name.</div>
							</div>
							<div class="mb-3">
								<label for="nft-description" class="form-label">Description</label>
								<input required type="text" name="description" class="form-control" id="nft-description" aria-describedby="nftNameHelp">
								<div id="nftNameHelp" class="form-text">You're creative and make a description for your NFT.</div>
							</div>
							<div class="mb-3">
								<label for="nft" class="form-label">Upload a image of your NFT (up to 25kb)</label>
								<input required name="img" class="form-control" type="file" id="formFile">
							</div>
							<div class="d-flex align-items-center gap-2">
								<button type="submit" class="btn ms-0 btn-primary">${this.textButton}</button>
                ${this.loading?kt`<div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>`:kt``}
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</section>`}createRenderRoot(){return this}_createEvent(e,t){const r=new CustomEvent(e,{bubbles:!0,composed:!0,detail:t});this.dispatchEvent(r)}};qi([Lr()],fn.prototype,"loading",2);qi([Lr()],fn.prototype,"textButton",2);qi([Lr()],fn.prototype,"user",2);fn=qi([Jo("nft-form")],fn);var Ug=Object.defineProperty,kg=Object.getOwnPropertyDescriptor,zi=(e,t,r,n)=>{for(var i=n>1?void 0:n?kg(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(n?s(t,r,i):s(i))||i);return n&&i&&Ug(t,r,i),i};async function Cg(){await Bg({satelliteId:"reahh-3qaaa-aaaal-ajmkq-cai"})}Cg();let hn=class extends Or{constructor(){super(),this.sortedTransactions={},this.transactions=[],this.nftsTotal=0,this.unsubscribeAuth=()=>{},this.user=null,this.getNftsTotal=async()=>{const t=await(await fetch("http://by6od-j4aaa-aaaaa-qaadq-cai.localhost:8000/v1/nft/total")).text();this.nftsTotal=+t},this.handleAddNftsTotal=()=>{this.nftsTotal++},this.signInAsync=async()=>{await dg({provider:new o0({appName:"EVNTZ",logoUrl:"dist/website/assets/images/evntz.png"})})},this.signOutAsync=async()=>{await Cl()},this.getAllTransaction(),this.getNftsTotal()}async createCompany(){const e=Fo(),t=await qa({collection:"company",doc:{key:e,data:{company_id:e,company_status:"Active",company_name:"EVNTZ",company_description:"Emergente LLC",company_address:"Guaynabo",company_country:"Puerto Rico",company_city:"Guaynabo",company_state:"PR",company_zip:"00971",company_gps:"123456`",company_documents:"List of assets"}}});console.log("Company created: ",t)}async createCompanyConfigs(){const e=Fo(),t=await qa({collection:"company_configs",doc:{key:e,data:{company_config_id:e,company_id:"company id here",access_token_secret:"Bearer b59bde1a-f5f6-457f-8ad9-29b4c32e0b2r",vendor_id:"353767e3-b069-47a3-92c9-3be4bbafda85",vendor_password:"H$&5m*CaKY7$4@O129V*q3%vH@yL#T",ip_whitelist:"127.0.0.1, http://be2us-64aaa-aaaaa-qaabq-cai.localhost:8000"}}});console.log("Company Configs created:",t)}async setupCompany(){try{await this.createCompany(),await this.createCompanyConfigs()}catch(e){console.error("Error creating company:",e)}}async getAllTransaction(){const t=await(await fetch("http://be2us-64aaa-aaaaa-qaabq-cai.localhost:8000/v1/tickets/all/sorted")).json(),r=await lg({collection:"orders"});console.log(r),this.sortedTransactions=t,this.transactions=t}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),window.addEventListener("add-nfts-total",this.handleAddNftsTotal),this.unsubscribeAuth=Sg(e=>{this.user=e})}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("add-nfts-total",this.handleAddNftsTotal),this.unsubscribeAuth()}render(){return kt`

        <section data-bs-version="5.1" class="counter1 counters cid-ugXs5vm9Vt pt-3" id="counter1-1h">
          <div class="container">
            <div class="row justify-content-center">
              <div class="col-12 content-head">
                <div class="card-wrapper mb-5">
                  <div class="card-box align-center">
                    <button type="button" class="btn btn-warning" @click=${this.setupCompany}>
                      Set Company Setups
                    </button>

                    <button type="button" class="btn btn-primary" @click=${this.getAllTransaction}>
                      Fetch all transactions
                    </button>
                    
                    ${this.user?kt`<button type="button" class="btn btn-warning" @click=${this.signOutAsync}>
                      Sign out with NFID
                    </button>`:kt`<button type="button" class="btn btn-info" @click=${this.signInAsync}>
                      Sign in with NFID
                    </button>`}

                    ${this.user?kt`Login User: ${this.user.key}`:""}

                    <h5 class="mbr-section-title mbr-fonts-style mb-4 display-1" style="font-weight: 700; font-size: 64px; font-family: Inter Tight, sans-serif; text-align: center;">
                      Transactions
                    </h5>
                  </div>
                </div>
              </div>
            </div>
            <div class="row content-row mt-4">
              <div class="item features-without-image col-12 col-md-6 col-lg-3 item-mb" style="text-align: center;">
                <div class="item-wrapper">
                  <div class="title mb-3">
                    <h3 class="count mbr-fonts-style display-1">
                      <span style="color: #9fe870; font-weight: 700; text-align: center;" class="align-center">
                        ${Object.keys(this.sortedTransactions).length}
                      </span>
                    </h3>
                  </div>
                  <h4 class="card-title mbr-fonts-style display-5">
                    <span style="font-weight: 700; font-size: 31.168px; text-align: center;">
                      <strong>Received</strong>
                    </span>
                  </h4>
                </div>
              </div>
              <div class="item features-without-image col-12 col-md-6 col-lg-3 item-mb" style="text-align: center;">
                <div class="item-wrapper">
                  <div class="title mb-3">
                    <h3 class="count mbr-fonts-style display-1">
                      <span style="color: #9fe870; font-weight: 700; text-align: center;" class="align-center">
                        ${Object.keys(this.sortedTransactions).length}
                      </span>
                    </h3>
                  </div>
                  <h4 class="card-title mbr-fonts-style display-5">
                    <span style="font-weight: 700; font-size: 31.168px; text-align: center;">
                      <strong>Processed</strong>
                    </span>
                  </h4>
                </div>
              </div>
              <div class="item features-without-image col-12 col-md-6 col-lg-3 item-mb" style="text-align: center;">
                <div class="item-wrapper">
                  <div class="title mb-3">
                    <h3 class="count mbr-fonts-style display-1">
                      <span style="color: #9fe870; font-weight: 700; text-align: center;" class="align-center">
                        ${this.nftsTotal}
                      </span>
                    </h3>
                  </div>
                  <h4 class="card-title mbr-fonts-style display-5">
                    <span style="font-weight: 700; font-size: 31.168px; text-align: center;">
                      <strong>NFTs Created</strong>
                    </span>
                  </h4>
                </div>
              </div>
              <div class="item features-without-image col-12 col-md-6 col-lg-3 item-mb" style="text-align: center;">
                <div class="item-wrapper">
                  <div class="title mb-3">
                    <h3 class="count mbr-fonts-style display-1">
                      <span style="color: #9fe870; font-weight: 700; text-align: center;" class="align-center">
                        ${this.nftsTotal}
                      </span>
                    </h3>
                  </div>
                  <h4 class="card-title mbr-fonts-style display-5">
                    <span style="font-weight: 700; font-size: 31.168px; text-align: center;">
                      <strong>Active NFTs</strong>
                    </span>
                  </h4>
                </div>
              </div>
            </div>
          </div>
        </section>

        <br><br>
            
        <div class="container">
          ${this.transactions.map(e=>kt`
            <div class="card my-3">
              <div class="card-header">
                <strong>Order ID:</strong> <span class="badge bg-primary">${e.order_id}</span>
              </div>
              <div class="card-body">
                <h5 class="card-title">
                  <span style="color: #52007D">
                    Event: ${e.event_id}
                  </span>
                </h5>
                <p class="card-text">
                  <strong>Status:</strong> <span class="badge bg-success">${e.status}</span><br>
                  <strong>Operation:</strong> ${e.operation}<br>
                  <strong>Company ID:</strong> ${e.company_id}<br>
                  <strong>Email:</strong> ${e.user.email}<br>
                  <strong>Phone:</strong> ${e.user.phone}
                </p>
                <h5>Event Details</h5>
                <p>
                  <strong>Event ID:</strong> ${e.event_id}<br>
                </p>
                <h5>Seats</h5>
                <table class="table table-bordered">
                  <thead>
                    <tr>
                      <th>Ticket ID</th>
                      <th>Status</th>
                      <th>Section</th>
                      <th>Row</th>
                      <th>Seat</th>
                      <th>Description</th>
                      <th>Qty</th>
                      <th>Price</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${e.sale.map(t=>kt`
                      <tr>
                        <td>${t.ticket.ticket_id}</td>
                        <td>${t.ticket.ticket_status}</td>
                        <td>${t.ticket.ticket_section}</td>
                        <td>${t.ticket.ticket_row}</td>
                        <td>${t.ticket.ticket_seat}</td>
                        <td>${t.ticket.ticket_description}</td>
                        <td>${t.ticket.ticket_qty}</td>
                        <td>${t.ticket.ticket_price}</td>
                      </tr>
                    `)}
                  </tbody>
                </table>
              </div>
            </div>
          `)}
        </div>

        <nft-form .user=${this.user}></nft-form>
    `}};zi([Lr()],hn.prototype,"sortedTransactions",2);zi([Lr()],hn.prototype,"nftsTotal",2);zi([Lr()],hn.prototype,"user",2);hn=zi([Jo("azle-app")],hn);const Mg=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:zd,encodePath:Sa,fetchNodeKeys:qu,request:Vu},Symbol.toStringTag,{value:"Module"}));
