var Wl=Object.defineProperty;var aa=e=>{throw TypeError(e)};var Zl=(e,t,r)=>t in e?Wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var mr=(e,t,r)=>Zl(e,typeof t!="symbol"?t+"":t,r),oa=(e,t,r)=>t.has(e)||aa("Cannot "+r);var dn=(e,t,r)=>(oa(e,t,"read from private field"),r?r.call(e):t.get(e)),pn=(e,t,r)=>t.has(e)?aa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),gn=(e,t,r,n)=>(oa(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Rn=globalThis,Ls=Rn.ShadowRoot&&(Rn.ShadyCSS===void 0||Rn.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Po=Symbol(),ca=new WeakMap;let Jl=class{constructor(t,r,n){if(this._$cssResult$=!0,n!==Po)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(Ls&&t===void 0){const n=r!==void 0&&r.length===1;n&&(t=ca.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&ca.set(r,t))}return t}toString(){return this.cssText}};const Xl=e=>new Jl(typeof e=="string"?e:e+"",void 0,Po),Ql=(e,t)=>{if(Ls)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of t){const n=document.createElement("style"),i=Rn.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,e.appendChild(n)}},ua=Ls?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const n of t.cssRules)r+=n.cssText;return Xl(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:ef,defineProperty:tf,getOwnPropertyDescriptor:rf,getOwnPropertyNames:nf,getOwnPropertySymbols:sf,getPrototypeOf:af}=Object,Xt=globalThis,la=Xt.trustedTypes,of=la?la.emptyScript:"",Pi=Xt.reactiveElementPolyfillSupport,Kr=(e,t)=>e,ri={toAttribute(e,t){switch(t){case Boolean:e=e?of:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},ks=(e,t)=>!ef(e,t),fa={attribute:!0,type:String,converter:ri,reflect:!1,hasChanged:ks};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Xt.litPropertyMetadata??(Xt.litPropertyMetadata=new WeakMap);class wr extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=fa){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(t,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(t,n,r);i!==void 0&&tf(this.prototype,t,i)}}static getPropertyDescriptor(t,r,n){const{get:i,set:s}=rf(this.prototype,t)??{get(){return this[r]},set(a){this[r]=a}};return{get(){return i==null?void 0:i.call(this)},set(a){const c=i==null?void 0:i.call(this);s.call(this,a),this.requestUpdate(t,c,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??fa}static _$Ei(){if(this.hasOwnProperty(Kr("elementProperties")))return;const t=af(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Kr("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Kr("properties"))){const r=this.properties,n=[...nf(r),...sf(r)];for(const i of n)this.createProperty(i,r[i])}const t=this[Symbol.metadata];if(t!==null){const r=litPropertyMetadata.get(t);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const i of n)r.unshift(ua(i))}else t!==void 0&&r.push(ua(t));return r}static _$Eu(t,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(r=>r(this))}addController(t){var r;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)==null||r.call(t))}removeController(t){var r;(r=this._$EO)==null||r.delete(t)}_$E_(){const t=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Ql(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(t,r,n){this._$AK(t,n)}_$EC(t,r){var s;const n=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,n);if(i!==void 0&&n.reflect===!0){const a=(((s=n.converter)==null?void 0:s.toAttribute)!==void 0?n.converter:ri).toAttribute(r,n.type);this._$Em=t,a==null?this.removeAttribute(i):this.setAttribute(i,a),this._$Em=null}}_$AK(t,r){var s;const n=this.constructor,i=n._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const a=n.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:ri;this._$Em=i,this[i]=c.fromAttribute(r,a.type),this._$Em=null}}requestUpdate(t,r,n){if(t!==void 0){if(n??(n=this.constructor.getPropertyOptions(t)),!(n.hasChanged??ks)(this[t],r))return;this.P(t,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,r,n){this._$AL.has(t)||this._$AL.set(t,r),n.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,a]of this._$Ep)this[s]=a;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,a]of i)a.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],a)}let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(r)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(r)}willUpdate(t){}_$AE(t){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(t){}firstUpdated(t){}}wr.elementStyles=[],wr.shadowRootOptions={mode:"open"},wr[Kr("elementProperties")]=new Map,wr[Kr("finalized")]=new Map,Pi==null||Pi({ReactiveElement:wr}),(Xt.reactiveElementVersions??(Xt.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Yr=globalThis,ni=Yr.trustedTypes,ha=ni?ni.createPolicy("lit-html",{createHTML:e=>e}):void 0,Lo="$lit$",Zt=`lit$${(Math.random()+"").slice(9)}$`,ko="?"+Zt,cf=`<${ko}>`,dr=document,Xr=()=>dr.createComment(""),Qr=e=>e===null||typeof e!="object"&&typeof e!="function",Co=Array.isArray,uf=e=>Co(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Li=`[ 	
\f\r]`,Fr=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,da=/-->/g,pa=/>/g,ir=RegExp(`>|${Li}(?:([^\\s"'>=/]+)(${Li}*=${Li}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),ga=/'/g,ya=/"/g,Fo=/^(?:script|style|textarea|title)$/i,lf=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),ki=lf(1),Or=Symbol.for("lit-noChange"),Je=Symbol.for("lit-nothing"),ba=new WeakMap,fr=dr.createTreeWalker(dr,129);function Do(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return ha!==void 0?ha.createHTML(t):t}const ff=(e,t)=>{const r=e.length-1,n=[];let i,s=t===2?"<svg>":"",a=Fr;for(let c=0;c<r;c++){const u=e[c];let d,f,y=-1,O=0;for(;O<u.length&&(a.lastIndex=O,f=a.exec(u),f!==null);)O=a.lastIndex,a===Fr?f[1]==="!--"?a=da:f[1]!==void 0?a=pa:f[2]!==void 0?(Fo.test(f[2])&&(i=RegExp("</"+f[2],"g")),a=ir):f[3]!==void 0&&(a=ir):a===ir?f[0]===">"?(a=i??Fr,y=-1):f[1]===void 0?y=-2:(y=a.lastIndex-f[2].length,d=f[1],a=f[3]===void 0?ir:f[3]==='"'?ya:ga):a===ya||a===ga?a=ir:a===da||a===pa?a=Fr:(a=ir,i=void 0);const p=a===ir&&e[c+1].startsWith("/>")?" ":"";s+=a===Fr?u+cf:y>=0?(n.push(d),u.slice(0,y)+Lo+u.slice(y)+Zt+p):u+Zt+(y===-2?c:p)}return[Do(e,s+(e[r]||"<?>")+(t===2?"</svg>":"")),n]};let ns=class jo{constructor({strings:t,_$litType$:r},n){let i;this.parts=[];let s=0,a=0;const c=t.length-1,u=this.parts,[d,f]=ff(t,r);if(this.el=jo.createElement(d,n),fr.currentNode=this.el.content,r===2){const y=this.el.content.firstChild;y.replaceWith(...y.childNodes)}for(;(i=fr.nextNode())!==null&&u.length<c;){if(i.nodeType===1){if(i.hasAttributes())for(const y of i.getAttributeNames())if(y.endsWith(Lo)){const O=f[a++],p=i.getAttribute(y).split(Zt),g=/([.?@])?(.*)/.exec(O);u.push({type:1,index:s,name:g[2],strings:p,ctor:g[1]==="."?df:g[1]==="?"?pf:g[1]==="@"?gf:bi}),i.removeAttribute(y)}else y.startsWith(Zt)&&(u.push({type:6,index:s}),i.removeAttribute(y));if(Fo.test(i.tagName)){const y=i.textContent.split(Zt),O=y.length-1;if(O>0){i.textContent=ni?ni.emptyScript:"";for(let p=0;p<O;p++)i.append(y[p],Xr()),fr.nextNode(),u.push({type:2,index:++s});i.append(y[O],Xr())}}}else if(i.nodeType===8)if(i.data===ko)u.push({type:2,index:s});else{let y=-1;for(;(y=i.data.indexOf(Zt,y+1))!==-1;)u.push({type:7,index:s}),y+=Zt.length-1}s++}}static createElement(t,r){const n=dr.createElement("template");return n.innerHTML=t,n}};function $r(e,t,r=e,n){var a,c;if(t===Or)return t;let i=n!==void 0?(a=r._$Co)==null?void 0:a[n]:r._$Cl;const s=Qr(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((c=i==null?void 0:i._$AO)==null||c.call(i,!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(t=$r(e,i._$AS(e,t.values),i,n)),t}class hf{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:r},parts:n}=this._$AD,i=((t==null?void 0:t.creationScope)??dr).importNode(r,!0);fr.currentNode=i;let s=fr.nextNode(),a=0,c=0,u=n[0];for(;u!==void 0;){if(a===u.index){let d;u.type===2?d=new Cs(s,s.nextSibling,this,t):u.type===1?d=new u.ctor(s,u.name,u.strings,this,t):u.type===6&&(d=new yf(s,this,t)),this._$AV.push(d),u=n[++c]}a!==(u==null?void 0:u.index)&&(s=fr.nextNode(),a++)}return fr.currentNode=dr,i}p(t){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,r),r+=n.strings.length-2):n._$AI(t[r])),r++}}let Cs=class Mo{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,r,n,i){this.type=2,this._$AH=Je,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=$r(this,t,r),Qr(t)?t===Je||t==null||t===""?(this._$AH!==Je&&this._$AR(),this._$AH=Je):t!==this._$AH&&t!==Or&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):uf(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==Je&&Qr(this._$AH)?this._$AA.nextSibling.data=t:this.T(dr.createTextNode(t)),this._$AH=t}$(t){var s;const{values:r,_$litType$:n}=t,i=typeof n=="number"?this._$AC(t):(n.el===void 0&&(n.el=ns.createElement(Do(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(r);else{const a=new hf(i,this),c=a.u(this.options);a.p(r),this.T(c),this._$AH=a}}_$AC(t){let r=ba.get(t.strings);return r===void 0&&ba.set(t.strings,r=new ns(t)),r}k(t){Co(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of t)i===r.length?r.push(n=new Mo(this.S(Xr()),this.S(Xr()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(t=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var r;this._$AM===void 0&&(this._$Cv=t,(r=this._$AP)==null||r.call(this,t))}};class bi{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,n,i,s){this.type=1,this._$AH=Je,this._$AN=void 0,this.element=t,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Je}_$AI(t,r=this,n,i){const s=this.strings;let a=!1;if(s===void 0)t=$r(this,t,r,0),a=!Qr(t)||t!==this._$AH&&t!==Or,a&&(this._$AH=t);else{const c=t;let u,d;for(t=s[0],u=0;u<s.length-1;u++)d=$r(this,c[n+u],r,u),d===Or&&(d=this._$AH[u]),a||(a=!Qr(d)||d!==this._$AH[u]),d===Je?t=Je:t!==Je&&(t+=(d??"")+s[u+1]),this._$AH[u]=d}a&&!i&&this.j(t)}j(t){t===Je?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class df extends bi{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Je?void 0:t}}class pf extends bi{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Je)}}let gf=class extends bi{constructor(t,r,n,i,s){super(t,r,n,i,s),this.type=5}_$AI(t,r=this){if((t=$r(this,t,r,0)??Je)===Or)return;const n=this._$AH,i=t===Je&&n!==Je||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,s=t!==Je&&(n===Je||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,t):this._$AH.handleEvent(t)}};class yf{constructor(t,r,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){$r(this,t)}}const Ci=Yr.litHtmlPolyfillSupport;Ci==null||Ci(ns,Cs),(Yr.litHtmlVersions??(Yr.litHtmlVersions=[])).push("3.1.2");const bf=(e,t,r)=>{const n=(r==null?void 0:r.renderBefore)??t;let i=n._$litPart$;if(i===void 0){const s=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new Cs(t.insertBefore(Xr(),s),s,void 0,r??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Wr extends wr{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const t=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=t.firstChild),t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=bf(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Or}}var $o;Wr._$litElement$=!0,Wr.finalized=!0,($o=globalThis.litElementHydrateSupport)==null||$o.call(globalThis,{LitElement:Wr});const Fi=globalThis.litElementPolyfillSupport;Fi==null||Fi({LitElement:Wr});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mf=e=>(t,r)=>{r!==void 0?r.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wf={attribute:!0,type:String,converter:ri,reflect:!1,hasChanged:ks},vf=(e=wf,t,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(r.name,e),n==="accessor"){const{name:a}=r;return{set(c){const u=t.get.call(this);t.set.call(this,c),this.requestUpdate(a,u,e)},init(c){return c!==void 0&&this.P(a,void 0,e),c}}}if(n==="setter"){const{name:a}=r;return function(c){const u=this[a];t.call(this,c),this.requestUpdate(a,u,e)}}throw Error("Unsupported decorator location: "+n)};function _f(e){return(t,r)=>typeof r=="object"?vf(e,t,r):((n,i,s)=>{const a=i.hasOwnProperty(s);return i.constructor.createProperty(s,a?{...n,wrapped:!0}:n),a?Object.getOwnPropertyDescriptor(i,s):void 0})(e,t,r)}const Ef="modulepreload",Af=function(e){return"/"+e},ma={},xf=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(r.map(c=>{if(c=Af(c),c in ma)return;ma[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ef,u||(f.as="script",f.crossOrigin=""),f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((y,O)=>{f.addEventListener("load",y),f.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var If=Object.create,mi=Object.defineProperty,Tf=Object.getOwnPropertyDescriptor,Bf=Object.getOwnPropertyNames,Sf=Object.getPrototypeOf,Nf=Object.prototype.hasOwnProperty,Of=(e,t)=>()=>(e&&(t=e(e=0)),t),ze=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),wi=(e,t)=>{for(var r in t)mi(e,r,{get:t[r],enumerable:!0})},Vo=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Bf(t))!Nf.call(e,i)&&i!==r&&mi(e,i,{get:()=>t[i],enumerable:!(n=Tf(t,i))||n.enumerable});return e},rr=(e,t,r)=>(r=e!=null?If(Sf(e)):{},Vo(!e||!e.__esModule?mi(r,"default",{value:e,enumerable:!0}):r,e)),$f=e=>Vo(mi({},"__esModule",{value:!0}),e),qo={};wi(qo,{Buffer:()=>re,INSPECT_MAX_BYTES:()=>os,SlowBuffer:()=>Df,isBuffer:()=>Qo,kMaxLength:()=>rc});function zo(){_i=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)bt[t]=e[t],ut[e.charCodeAt(t)]=t;ut[45]=62,ut[95]=63}function Rf(e){_i||zo();var t,r,n,i,s,a,c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[c-2]==="="?2:e[c-1]==="="?1:0,a=new tc(c*3/4-s),n=s>0?c-4:c;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=ut[e.charCodeAt(t)]<<18|ut[e.charCodeAt(t+1)]<<12|ut[e.charCodeAt(t+2)]<<6|ut[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=i&255;return s===2?(i=ut[e.charCodeAt(t)]<<2|ut[e.charCodeAt(t+1)]>>4,a[u++]=i&255):s===1&&(i=ut[e.charCodeAt(t)]<<10|ut[e.charCodeAt(t+1)]<<4|ut[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=i&255),a}function Uf(e){return bt[e>>18&63]+bt[e>>12&63]+bt[e>>6&63]+bt[e&63]}function Pf(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(Uf(n));return i.join("")}function wa(e){_i||zo();for(var t,r=e.length,n=r%3,i="",s=[],a=16383,c=0,u=r-n;c<u;c+=a)s.push(Pf(e,c,c+a>u?u:c+a));return n===1?(t=e[r-1],i+=bt[t>>2],i+=bt[t<<4&63],i+="=="):n===2&&(t=(e[r-2]<<8)+e[r-1],i+=bt[t>>10],i+=bt[t>>4&63],i+=bt[t<<2&63],i+="="),s.push(i),s.join("")}function yn(e,t,r,n,i){var s,a,c=i*8-n-1,u=(1<<c)-1,d=u>>1,f=-7,y=r?i-1:0,O=r?-1:1,p=e[t+y];for(y+=O,s=p&(1<<-f)-1,p>>=-f,f+=c;f>0;s=s*256+e[t+y],y+=O,f-=8);for(a=s&(1<<-f)-1,s>>=-f,f+=n;f>0;a=a*256+e[t+y],y+=O,f-=8);if(s===0)s=1-d;else{if(s===u)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-d}return(p?-1:1)*a*Math.pow(2,s-n)}function Ho(e,t,r,n,i,s){var a,c,u,d=s*8-i-1,f=(1<<d)-1,y=f>>1,O=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,g=n?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+y>=1?t+=O/u:t+=O*Math.pow(2,1-y),t*u>=2&&(a++,u/=2),a+y>=f?(c=0,a=f):a+y>=1?(c=(t*u-1)*Math.pow(2,i),a=a+y):(c=t*Math.pow(2,y-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=c&255,p+=g,c/=256,i-=8);for(a=a<<i|c,d+=i;d>0;e[r+p]=a&255,p+=g,a/=256,d-=8);e[r+p-g]|=w*128}function ii(){return re.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ut(e,t){if(ii()<t)throw new RangeError("Invalid typed array length");return re.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=re.prototype):(e===null&&(e=new re(t)),e.length=t),e}function re(e,t,r){if(!re.TYPED_ARRAY_SUPPORT&&!(this instanceof re))return new re(e,t,r);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return is(this,e)}return Go(this,e,t,r)}function Go(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?Cf(e,t,r,n):typeof t=="string"?kf(e,t,r):Ff(e,t)}function Ko(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Lf(e,t,r,n){return Ko(t),t<=0?Ut(e,t):r!==void 0?typeof n=="string"?Ut(e,t).fill(r,n):Ut(e,t).fill(r):Ut(e,t)}function is(e,t){if(Ko(t),e=Ut(e,t<0?0:Fs(t)|0),!re.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function kf(e,t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!re.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=Yo(t,r)|0;e=Ut(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function ss(e,t){var r=t.length<0?0:Fs(t.length)|0;e=Ut(e,r);for(var n=0;n<r;n+=1)e[n]=t[n]&255;return e}function Cf(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,r):t=new Uint8Array(t,r,n),re.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=re.prototype):e=ss(e,t),e}function Ff(e,t){if(xt(t)){var r=Fs(t.length)|0;return e=Ut(e,r),e.length===0||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||nh(t.length)?Ut(e,0):ss(e,t);if(t.type==="Buffer"&&as(t.data))return ss(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Fs(e){if(e>=ii())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ii().toString(16)+" bytes");return e|0}function Df(e){return+e!=e&&(e=0),re.alloc(+e)}function xt(e){return!!(e!=null&&e._isBuffer)}function Yo(e,t){if(xt(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return si(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Xo(e).length;default:if(n)return si(e).length;t=(""+t).toLowerCase(),n=!0}}function jf(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Zf(this,t,r);case"utf8":case"utf-8":return Zo(this,t,r);case"ascii":return Yf(this,t,r);case"latin1":case"binary":return Wf(this,t,r);case"base64":return Gf(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jf(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function sr(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function va(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=re.from(t,n)),xt(t))return t.length===0?-1:_a(e,t,r,n,i);if(typeof t=="number")return t=t&255,re.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_a(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _a(e,t,r,n,i){var s=1,a=e.length,c=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(p,g){return s===1?p[g]:p.readUInt16BE(g*s)}var d;if(i){var f=-1;for(d=r;d<a;d++)if(u(e,d)===u(t,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===c)return f*s}else f!==-1&&(d-=d-f),f=-1}else for(r+c>a&&(r=a-c),d=r;d>=0;d--){for(var y=!0,O=0;O<c;O++)if(u(e,d+O)!==u(t,O)){y=!1;break}if(y)return d}return-1}function Mf(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var a=0;a<n;++a){var c=parseInt(t.substr(a*2,2),16);if(isNaN(c))return a;e[r+a]=c}return a}function Vf(e,t,r,n){return vi(si(t,e.length-r),e,r,n)}function Wo(e,t,r,n){return vi(th(t),e,r,n)}function qf(e,t,r,n){return Wo(e,t,r,n)}function zf(e,t,r,n){return vi(Xo(t),e,r,n)}function Hf(e,t,r,n){return vi(rh(t,e.length-r),e,r,n)}function Gf(e,t,r){return t===0&&r===e.length?wa(e):wa(e.slice(t,r))}function Zo(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s=e[i],a=null,c=s>239?4:s>223?3:s>191?2:1;if(i+c<=r){var u,d,f,y;switch(c){case 1:s<128&&(a=s);break;case 2:u=e[i+1],(u&192)===128&&(y=(s&31)<<6|u&63,y>127&&(a=y));break;case 3:u=e[i+1],d=e[i+2],(u&192)===128&&(d&192)===128&&(y=(s&15)<<12|(u&63)<<6|d&63,y>2047&&(y<55296||y>57343)&&(a=y));break;case 4:u=e[i+1],d=e[i+2],f=e[i+3],(u&192)===128&&(d&192)===128&&(f&192)===128&&(y=(s&15)<<18|(u&63)<<12|(d&63)<<6|f&63,y>65535&&y<1114112&&(a=y))}}a===null?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=c}return Kf(n)}function Kf(e){var t=e.length;if(t<=cs)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=cs));return r}function Yf(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function Wf(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Zf(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=eh(e[s]);return i}function Jf(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}function Ke(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function at(e,t,r,n,i,s){if(!xt(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function bn(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function mn(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>(n?i:3-i)*8&255}function Jo(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ea(e,t,r,n,i){return i||Jo(e,t,r,4),Ho(e,t,r,n,23,4),r+4}function Aa(e,t,r,n,i){return i||Jo(e,t,r,8),Ho(e,t,r,n,52,8),r+8}function Xf(e){if(e=Qf(e).replace(nc,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Qf(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function eh(e){return e<16?"0"+e.toString(16):e.toString(16)}function si(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function th(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function rh(e,t){for(var r,n,i,s=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Xo(e){return Rf(Xf(e))}function vi(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function nh(e){return e!==e}function Qo(e){return e!=null&&(!!e._isBuffer||ec(e)||ih(e))}function ec(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function ih(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&ec(e.slice(0,0))}var bt,ut,tc,_i,xa,as,os,rc,cs,nc,sh=Of(()=>{bt=[],ut=[],tc=typeof Uint8Array<"u"?Uint8Array:Array,_i=!1,xa={}.toString,as=Array.isArray||function(e){return xa.call(e)=="[object Array]"},os=50,re.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0,rc=ii(),re.poolSize=8192,re._augment=function(e){return e.__proto__=re.prototype,e},re.from=function(e,t,r){return Go(null,e,t,r)},re.TYPED_ARRAY_SUPPORT&&(re.prototype.__proto__=Uint8Array.prototype,re.__proto__=Uint8Array),re.alloc=function(e,t,r){return Lf(null,e,t,r)},re.allocUnsafe=function(e){return is(null,e)},re.allocUnsafeSlow=function(e){return is(null,e)},re.isBuffer=Qo,re.compare=function(e,t){if(!xt(e)||!xt(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},re.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},re.concat=function(e,t){if(!as(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return re.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=re.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!xt(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},re.byteLength=Yo,re.prototype._isBuffer=!0,re.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)sr(this,t,t+1);return this},re.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)sr(this,t,t+3),sr(this,t+1,t+2);return this},re.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)sr(this,t,t+7),sr(this,t+1,t+6),sr(this,t+2,t+5),sr(this,t+3,t+4);return this},re.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Zo(this,0,e):jf.apply(this,arguments)},re.prototype.equals=function(e){if(!xt(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:re.compare(this,e)===0},re.prototype.inspect=function(){var e="",t=os;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},re.prototype.compare=function(e,t,r,n,i){if(!xt(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var s=i-n,a=r-t,c=Math.min(s,a),u=this.slice(n,i),d=e.slice(t,r),f=0;f<c;++f)if(u[f]!==d[f]){s=u[f],a=d[f];break}return s<a?-1:a<s?1:0},re.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},re.prototype.indexOf=function(e,t,r){return va(this,e,t,r,!0)},re.prototype.lastIndexOf=function(e,t,r){return va(this,e,t,r,!1)},re.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(r)?(r=r|0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return Mf(this,e,t,r);case"utf8":case"utf-8":return Vf(this,e,t,r);case"ascii":return Wo(this,e,t,r);case"latin1":case"binary":return qf(this,e,t,r);case"base64":return zf(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hf(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},re.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},cs=4096,re.prototype.slice=function(e,t){var r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var n;if(re.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=re.prototype;else{var i=t-e;n=new re(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},re.prototype.readUIntLE=function(e,t,r){e=e|0,t=t|0,r||Ke(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},re.prototype.readUIntBE=function(e,t,r){e=e|0,t=t|0,r||Ke(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},re.prototype.readUInt8=function(e,t){return t||Ke(e,1,this.length),this[e]},re.prototype.readUInt16LE=function(e,t){return t||Ke(e,2,this.length),this[e]|this[e+1]<<8},re.prototype.readUInt16BE=function(e,t){return t||Ke(e,2,this.length),this[e]<<8|this[e+1]},re.prototype.readUInt32LE=function(e,t){return t||Ke(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},re.prototype.readUInt32BE=function(e,t){return t||Ke(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},re.prototype.readIntLE=function(e,t,r){e=e|0,t=t|0,r||Ke(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},re.prototype.readIntBE=function(e,t,r){e=e|0,t=t|0,r||Ke(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},re.prototype.readInt8=function(e,t){return t||Ke(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},re.prototype.readInt16LE=function(e,t){t||Ke(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r},re.prototype.readInt16BE=function(e,t){t||Ke(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r},re.prototype.readInt32LE=function(e,t){return t||Ke(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},re.prototype.readInt32BE=function(e,t){return t||Ke(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},re.prototype.readFloatLE=function(e,t){return t||Ke(e,4,this.length),yn(this,e,!0,23,4)},re.prototype.readFloatBE=function(e,t){return t||Ke(e,4,this.length),yn(this,e,!1,23,4)},re.prototype.readDoubleLE=function(e,t){return t||Ke(e,8,this.length),yn(this,e,!0,52,8)},re.prototype.readDoubleBE=function(e,t){return t||Ke(e,8,this.length),yn(this,e,!1,52,8)},re.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t=t|0,r=r|0,!n){var i=Math.pow(2,8*r)-1;at(this,e,t,r,i,0)}var s=1,a=0;for(this[t]=e&255;++a<r&&(s*=256);)this[t+a]=e/s&255;return t+r},re.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t=t|0,r=r|0,!n){var i=Math.pow(2,8*r)-1;at(this,e,t,r,i,0)}var s=r-1,a=1;for(this[t+s]=e&255;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+r},re.prototype.writeUInt8=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,1,255,0),re.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1},re.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,2,65535,0),re.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):bn(this,e,t,!0),t+2},re.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,2,65535,0),re.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):bn(this,e,t,!1),t+2},re.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,4,4294967295,0),re.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):mn(this,e,t,!0),t+4},re.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,4,4294967295,0),re.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):mn(this,e,t,!1),t+4},re.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=t|0,!n){var i=Math.pow(2,8*r-1);at(this,e,t,r,i-1,-i)}var s=0,a=1,c=0;for(this[t]=e&255;++s<r&&(a*=256);)e<0&&c===0&&this[t+s-1]!==0&&(c=1),this[t+s]=(e/a>>0)-c&255;return t+r},re.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=t|0,!n){var i=Math.pow(2,8*r-1);at(this,e,t,r,i-1,-i)}var s=r-1,a=1,c=0;for(this[t+s]=e&255;--s>=0&&(a*=256);)e<0&&c===0&&this[t+s+1]!==0&&(c=1),this[t+s]=(e/a>>0)-c&255;return t+r},re.prototype.writeInt8=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,1,127,-128),re.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1},re.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,2,32767,-32768),re.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):bn(this,e,t,!0),t+2},re.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,2,32767,-32768),re.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):bn(this,e,t,!1),t+2},re.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,4,2147483647,-2147483648),re.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):mn(this,e,t,!0),t+4},re.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t|0,r||at(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),re.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):mn(this,e,t,!1),t+4},re.prototype.writeFloatLE=function(e,t,r){return Ea(this,e,t,!0,r)},re.prototype.writeFloatBE=function(e,t,r){return Ea(this,e,t,!1,r)},re.prototype.writeDoubleLE=function(e,t,r){return Aa(this,e,t,!0,r)},re.prototype.writeDoubleBE=function(e,t,r){return Aa(this,e,t,!1,r)},re.prototype.copy=function(e,t,r,n){if(r||(r=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r,s;if(this===e&&r<t&&t<n)for(s=i-1;s>=0;--s)e[s+t]=this[s+r];else if(i<1e3||!re.TYPED_ARRAY_SUPPORT)for(s=0;s<i;++s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},re.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}if(n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!re.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var s;if(typeof e=="number")for(s=t;s<r;++s)this[s]=e;else{var a=xt(e)?e:si(new re(e,n).toString()),c=a.length;for(s=0;s<r-t;++s)this[s+t]=a[s%c]}return this},nc=/[^+\/0-9A-Za-z-_]/g}),Ei=ze((e,t)=>{var r=(sh(),$f(qo));if(r&&r.default){t.exports=r.default;for(let n in r)t.exports[n]=r[n]}else r&&(t.exports=r)}),ic=ze(e=>{e.read=function(t,r,n,i,s){var a,c,u=s*8-i-1,d=(1<<u)-1,f=d>>1,y=-7,O=n?s-1:0,p=n?-1:1,g=t[r+O];for(O+=p,a=g&(1<<-y)-1,g>>=-y,y+=u;y>0;a=a*256+t[r+O],O+=p,y-=8);for(c=a&(1<<-y)-1,a>>=-y,y+=i;y>0;c=c*256+t[r+O],O+=p,y-=8);if(a===0)a=1-f;else{if(a===d)return c?NaN:(g?-1:1)*(1/0);c=c+Math.pow(2,i),a=a-f}return(g?-1:1)*c*Math.pow(2,a-i)},e.write=function(t,r,n,i,s,a){var c,u,d,f=a*8-s-1,y=(1<<f)-1,O=y>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:a-1,w=i?1:-1,B=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,c=y):(c=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+O>=1?r+=p/d:r+=p*Math.pow(2,1-O),r*d>=2&&(c++,d/=2),c+O>=y?(u=0,c=y):c+O>=1?(u=(r*d-1)*Math.pow(2,s),c=c+O):(u=r*Math.pow(2,O-1)*Math.pow(2,s),c=0));s>=8;t[n+g]=u&255,g+=w,u/=256,s-=8);for(c=c<<s|u,f+=s;f>0;t[n+g]=c&255,g+=w,c/=256,f-=8);t[n+g-w]|=B*128}}),Ai=ze((e,t)=>{(function(r){var n,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,a=Math.floor,c="[BigNumber Error] ",u=c+"Number primitive has more than 15 significant digits: ",d=1e14,f=14,y=9007199254740991,O=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,g=1e9;function w(G){var K,ge,I,N=q.prototype={constructor:q,toString:null,valueOf:null},se=new q(1),ie=20,x=4,Z=-7,z=21,M=-1e7,V=1e7,ee=!1,oe=1,ae=0,le={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},de="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function q(b,m){var v,C,$,T,j,S,U,D,R=this;if(!(R instanceof q))return new q(b,m);if(m==null){if(b&&b._isBigNumber===!0){R.s=b.s,!b.c||b.e>V?R.c=R.e=null:b.e<M?R.c=[R.e=0]:(R.e=b.e,R.c=b.c.slice());return}if((S=typeof b=="number")&&b*0==0){if(R.s=1/b<0?(b=-b,-1):1,b===~~b){for(T=0,j=b;j>=10;j/=10,T++);T>V?R.c=R.e=null:(R.e=T,R.c=[b]);return}D=String(b)}else{if(!i.test(D=String(b)))return I(R,D,S);R.s=D.charCodeAt(0)==45?(D=D.slice(1),-1):1}(T=D.indexOf("."))>-1&&(D=D.replace(".","")),(j=D.search(/e/i))>0?(T<0&&(T=j),T+=+D.slice(j+1),D=D.substring(0,j)):T<0&&(T=D.length)}else{if(F(m,2,de.length,"Base"),m==10&&E)return R=new q(b),fe(R,ie+R.e+1,x);if(D=String(b),S=typeof b=="number"){if(b*0!=0)return I(R,D,S,m);if(R.s=1/b<0?(D=D.slice(1),-1):1,q.DEBUG&&D.replace(/^0\.0*|\./,"").length>15)throw Error(u+b)}else R.s=D.charCodeAt(0)===45?(D=D.slice(1),-1):1;for(v=de.slice(0,m),T=j=0,U=D.length;j<U;j++)if(v.indexOf(C=D.charAt(j))<0){if(C=="."){if(j>T){T=U;continue}}else if(!$&&(D==D.toUpperCase()&&(D=D.toLowerCase())||D==D.toLowerCase()&&(D=D.toUpperCase()))){$=!0,j=-1,T=0;continue}return I(R,String(b),S,m)}S=!1,D=ge(D,m,10,R.s),(T=D.indexOf("."))>-1?D=D.replace(".",""):T=D.length}for(j=0;D.charCodeAt(j)===48;j++);for(U=D.length;D.charCodeAt(--U)===48;);if(D=D.slice(j,++U)){if(U-=j,S&&q.DEBUG&&U>15&&(b>y||b!==a(b)))throw Error(u+R.s*b);if((T=T-j-1)>V)R.c=R.e=null;else if(T<M)R.c=[R.e=0];else{if(R.e=T,R.c=[],j=(T+1)%f,T<0&&(j+=f),j<U){for(j&&R.c.push(+D.slice(0,j)),U-=f;j<U;)R.c.push(+D.slice(j,j+=f));j=f-(D=D.slice(j)).length}else j-=U;for(;j--;D+="0");R.c.push(+D)}}else R.c=[R.e=0]}q.clone=w,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(b){var m,v;if(b!=null)if(typeof b=="object"){if(b.hasOwnProperty(m="DECIMAL_PLACES")&&(v=b[m],F(v,0,g,m),ie=v),b.hasOwnProperty(m="ROUNDING_MODE")&&(v=b[m],F(v,0,8,m),x=v),b.hasOwnProperty(m="EXPONENTIAL_AT")&&(v=b[m],v&&v.pop?(F(v[0],-g,0,m),F(v[1],0,g,m),Z=v[0],z=v[1]):(F(v,-g,g,m),Z=-(z=v<0?-v:v))),b.hasOwnProperty(m="RANGE"))if(v=b[m],v&&v.pop)F(v[0],-g,-1,m),F(v[1],1,g,m),M=v[0],V=v[1];else if(F(v,-g,g,m),v)M=-(V=v<0?-v:v);else throw Error(c+m+" cannot be zero: "+v);if(b.hasOwnProperty(m="CRYPTO"))if(v=b[m],v===!!v)if(v)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ee=v;else throw ee=!v,Error(c+"crypto unavailable");else ee=v;else throw Error(c+m+" not true or false: "+v);if(b.hasOwnProperty(m="MODULO_MODE")&&(v=b[m],F(v,0,9,m),oe=v),b.hasOwnProperty(m="POW_PRECISION")&&(v=b[m],F(v,0,g,m),ae=v),b.hasOwnProperty(m="FORMAT"))if(v=b[m],typeof v=="object")le=v;else throw Error(c+m+" not an object: "+v);if(b.hasOwnProperty(m="ALPHABET"))if(v=b[m],typeof v=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(v))E=v.slice(0,10)=="0123456789",de=v;else throw Error(c+m+" invalid: "+v)}else throw Error(c+"Object expected: "+b);return{DECIMAL_PLACES:ie,ROUNDING_MODE:x,EXPONENTIAL_AT:[Z,z],RANGE:[M,V],CRYPTO:ee,MODULO_MODE:oe,POW_PRECISION:ae,FORMAT:le,ALPHABET:de}},q.isBigNumber=function(b){if(!b||b._isBigNumber!==!0)return!1;if(!q.DEBUG)return!0;var m,v,C=b.c,$=b.e,T=b.s;e:if({}.toString.call(C)=="[object Array]"){if((T===1||T===-1)&&$>=-g&&$<=g&&$===a($)){if(C[0]===0){if($===0&&C.length===1)return!0;break e}if(m=($+1)%f,m<1&&(m+=f),String(C[0]).length==m){for(m=0;m<C.length;m++)if(v=C[m],v<0||v>=d||v!==a(v))break e;if(v!==0)return!0}}}else if(C===null&&$===null&&(T===null||T===1||T===-1))return!0;throw Error(c+"Invalid BigNumber: "+b)},q.maximum=q.max=function(){return Ie(arguments,-1)},q.minimum=q.min=function(){return Ie(arguments,1)},q.random=function(){var b=9007199254740992,m=Math.random()*b&2097151?function(){return a(Math.random()*b)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(v){var C,$,T,j,S,U=0,D=[],R=new q(se);if(v==null?v=ie:F(v,0,g),j=s(v/f),ee)if(crypto.getRandomValues){for(C=crypto.getRandomValues(new Uint32Array(j*=2));U<j;)S=C[U]*131072+(C[U+1]>>>11),S>=9e15?($=crypto.getRandomValues(new Uint32Array(2)),C[U]=$[0],C[U+1]=$[1]):(D.push(S%1e14),U+=2);U=j/2}else if(crypto.randomBytes){for(C=crypto.randomBytes(j*=7);U<j;)S=(C[U]&31)*281474976710656+C[U+1]*1099511627776+C[U+2]*4294967296+C[U+3]*16777216+(C[U+4]<<16)+(C[U+5]<<8)+C[U+6],S>=9e15?crypto.randomBytes(7).copy(C,U):(D.push(S%1e14),U+=7);U=j/7}else throw ee=!1,Error(c+"crypto unavailable");if(!ee)for(;U<j;)S=m(),S<9e15&&(D[U++]=S%1e14);for(j=D[--U],v%=f,j&&v&&(S=O[f-v],D[U]=a(j/S)*S);D[U]===0;D.pop(),U--);if(U<0)D=[T=0];else{for(T=-1;D[0]===0;D.splice(0,1),T-=f);for(U=1,S=D[0];S>=10;S/=10,U++);U<f&&(T-=f-U)}return R.e=T,R.c=D,R}}(),q.sum=function(){for(var b=1,m=arguments,v=new q(m[0]);b<m.length;)v=v.plus(m[b++]);return v},ge=function(){var b="0123456789";function m(v,C,$,T){for(var j,S=[0],U,D=0,R=v.length;D<R;){for(U=S.length;U--;S[U]*=C);for(S[0]+=T.indexOf(v.charAt(D++)),j=0;j<S.length;j++)S[j]>$-1&&(S[j+1]==null&&(S[j+1]=0),S[j+1]+=S[j]/$|0,S[j]%=$)}return S.reverse()}return function(v,C,$,T,j){var S,U,D,R,Y,he,pe,me,$e=v.indexOf("."),o=ie,l=x;for($e>=0&&(R=ae,ae=0,v=v.replace(".",""),me=new q(C),he=me.pow(v.length-$e),ae=R,me.c=m(te(L(he.c),he.e,"0"),10,$,b),me.e=me.c.length),pe=m(v,C,$,j?(S=de,b):(S=b,de)),D=R=pe.length;pe[--R]==0;pe.pop());if(!pe[0])return S.charAt(0);if($e<0?--D:(he.c=pe,he.e=D,he.s=T,he=K(he,me,o,l,$),pe=he.c,Y=he.r,D=he.e),U=D+o+1,$e=pe[U],R=$/2,Y=Y||U<0||pe[U+1]!=null,Y=l<4?($e!=null||Y)&&(l==0||l==(he.s<0?3:2)):$e>R||$e==R&&(l==4||Y||l==6&&pe[U-1]&1||l==(he.s<0?8:7)),U<1||!pe[0])v=Y?te(S.charAt(1),-o,S.charAt(0)):S.charAt(0);else{if(pe.length=U,Y)for(--$;++pe[--U]>$;)pe[U]=0,U||(++D,pe=[1].concat(pe));for(R=pe.length;!pe[--R];);for($e=0,v="";$e<=R;v+=S.charAt(pe[$e++]));v=te(v,D,S.charAt(0))}return v}}(),K=function(){function b(C,$,T){var j,S,U,D,R=0,Y=C.length,he=$%p,pe=$/p|0;for(C=C.slice();Y--;)U=C[Y]%p,D=C[Y]/p|0,j=pe*U+D*he,S=he*U+j%p*p+R,R=(S/T|0)+(j/p|0)+pe*D,C[Y]=S%T;return R&&(C=[R].concat(C)),C}function m(C,$,T,j){var S,U;if(T!=j)U=T>j?1:-1;else for(S=U=0;S<T;S++)if(C[S]!=$[S]){U=C[S]>$[S]?1:-1;break}return U}function v(C,$,T,j){for(var S=0;T--;)C[T]-=S,S=C[T]<$[T]?1:0,C[T]=S*j+C[T]-$[T];for(;!C[0]&&C.length>1;C.splice(0,1));}return function(C,$,T,j,S){var U,D,R,Y,he,pe,me,$e,o,l,h,A,P,H,J,Te,Pe,xe=C.s==$.s?1:-1,ve=C.c,we=$.c;if(!ve||!ve[0]||!we||!we[0])return new q(!C.s||!$.s||(ve?we&&ve[0]==we[0]:!we)?NaN:ve&&ve[0]==0||!we?xe*0:xe/0);for($e=new q(xe),o=$e.c=[],D=C.e-$.e,xe=T+D+1,S||(S=d,D=B(C.e/f)-B($.e/f),xe=xe/f|0),R=0;we[R]==(ve[R]||0);R++);if(we[R]>(ve[R]||0)&&D--,xe<0)o.push(1),Y=!0;else{for(H=ve.length,Te=we.length,R=0,xe+=2,he=a(S/(we[0]+1)),he>1&&(we=b(we,he,S),ve=b(ve,he,S),Te=we.length,H=ve.length),P=Te,l=ve.slice(0,Te),h=l.length;h<Te;l[h++]=0);Pe=we.slice(),Pe=[0].concat(Pe),J=we[0],we[1]>=S/2&&J++;do{if(he=0,U=m(we,l,Te,h),U<0){if(A=l[0],Te!=h&&(A=A*S+(l[1]||0)),he=a(A/J),he>1)for(he>=S&&(he=S-1),pe=b(we,he,S),me=pe.length,h=l.length;m(pe,l,me,h)==1;)he--,v(pe,Te<me?Pe:we,me,S),me=pe.length,U=1;else he==0&&(U=he=1),pe=we.slice(),me=pe.length;if(me<h&&(pe=[0].concat(pe)),v(l,pe,h,S),h=l.length,U==-1)for(;m(we,l,Te,h)<1;)he++,v(l,Te<h?Pe:we,h,S),h=l.length}else U===0&&(he++,l=[0]);o[R++]=he,l[0]?l[h++]=ve[P]||0:(l=[ve[P]],h=1)}while((P++<H||l[0]!=null)&&xe--);Y=l[0]!=null,o[0]||o.splice(0,1)}if(S==d){for(R=1,xe=o[0];xe>=10;xe/=10,R++);fe($e,T+($e.e=R+D*f-1)+1,j,Y)}else $e.e=D,$e.r=+Y;return $e}}();function ye(b,m,v,C){var $,T,j,S,U;if(v==null?v=x:F(v,0,8),!b.c)return b.toString();if($=b.c[0],j=b.e,m==null)U=L(b.c),U=C==1||C==2&&(j<=Z||j>=z)?X(U,j):te(U,j,"0");else if(b=fe(new q(b),m,v),T=b.e,U=L(b.c),S=U.length,C==1||C==2&&(m<=T||T<=Z)){for(;S<m;U+="0",S++);U=X(U,T)}else if(m-=j,U=te(U,T,"0"),T+1>S){if(--m>0)for(U+=".";m--;U+="0");}else if(m+=T-S,m>0)for(T+1==S&&(U+=".");m--;U+="0");return b.s<0&&$?"-"+U:U}function Ie(b,m){for(var v,C,$=1,T=new q(b[0]);$<b.length;$++)C=new q(b[$]),(!C.s||(v=k(T,C))===m||v===0&&T.s===m)&&(T=C);return T}function ue(b,m,v){for(var C=1,$=m.length;!m[--$];m.pop());for($=m[0];$>=10;$/=10,C++);return(v=C+v*f-1)>V?b.c=b.e=null:v<M?b.c=[b.e=0]:(b.e=v,b.c=m),b}I=function(){var b=/^(-?)0([xbo])(?=\w[\w.]*$)/i,m=/^([^.]+)\.$/,v=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,$=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(T,j,S,U){var D,R=S?j:j.replace($,"");if(C.test(R))T.s=isNaN(R)?null:R<0?-1:1;else{if(!S&&(R=R.replace(b,function(Y,he,pe){return D=(pe=pe.toLowerCase())=="x"?16:pe=="b"?2:8,!U||U==D?he:Y}),U&&(D=U,R=R.replace(m,"$1").replace(v,"0.$1")),j!=R))return new q(R,D);if(q.DEBUG)throw Error(c+"Not a"+(U?" base "+U:"")+" number: "+j);T.s=null}T.c=T.e=null}}();function fe(b,m,v,C){var $,T,j,S,U,D,R,Y=b.c,he=O;if(Y){e:{for($=1,S=Y[0];S>=10;S/=10,$++);if(T=m-$,T<0)T+=f,j=m,U=Y[D=0],R=a(U/he[$-j-1]%10);else if(D=s((T+1)/f),D>=Y.length)if(C){for(;Y.length<=D;Y.push(0));U=R=0,$=1,T%=f,j=T-f+1}else break e;else{for(U=S=Y[D],$=1;S>=10;S/=10,$++);T%=f,j=T-f+$,R=j<0?0:a(U/he[$-j-1]%10)}if(C=C||m<0||Y[D+1]!=null||(j<0?U:U%he[$-j-1]),C=v<4?(R||C)&&(v==0||v==(b.s<0?3:2)):R>5||R==5&&(v==4||C||v==6&&(T>0?j>0?U/he[$-j]:0:Y[D-1])%10&1||v==(b.s<0?8:7)),m<1||!Y[0])return Y.length=0,C?(m-=b.e+1,Y[0]=he[(f-m%f)%f],b.e=-m||0):Y[0]=b.e=0,b;if(T==0?(Y.length=D,S=1,D--):(Y.length=D+1,S=he[f-T],Y[D]=j>0?a(U/he[$-j]%he[j])*S:0),C)for(;;)if(D==0){for(T=1,j=Y[0];j>=10;j/=10,T++);for(j=Y[0]+=S,S=1;j>=10;j/=10,S++);T!=S&&(b.e++,Y[0]==d&&(Y[0]=1));break}else{if(Y[D]+=S,Y[D]!=d)break;Y[D--]=0,S=1}for(T=Y.length;Y[--T]===0;Y.pop());}b.e>V?b.c=b.e=null:b.e<M&&(b.c=[b.e=0])}return b}function Be(b){var m,v=b.e;return v===null?b.toString():(m=L(b.c),m=v<=Z||v>=z?X(m,v):te(m,v,"0"),b.s<0?"-"+m:m)}return N.absoluteValue=N.abs=function(){var b=new q(this);return b.s<0&&(b.s=1),b},N.comparedTo=function(b,m){return k(this,new q(b,m))},N.decimalPlaces=N.dp=function(b,m){var v,C,$,T=this;if(b!=null)return F(b,0,g),m==null?m=x:F(m,0,8),fe(new q(T),b+T.e+1,m);if(!(v=T.c))return null;if(C=(($=v.length-1)-B(this.e/f))*f,$=v[$])for(;$%10==0;$/=10,C--);return C<0&&(C=0),C},N.dividedBy=N.div=function(b,m){return K(this,new q(b,m),ie,x)},N.dividedToIntegerBy=N.idiv=function(b,m){return K(this,new q(b,m),0,1)},N.exponentiatedBy=N.pow=function(b,m){var v,C,$,T,j,S,U,D,R,Y=this;if(b=new q(b),b.c&&!b.isInteger())throw Error(c+"Exponent not an integer: "+Be(b));if(m!=null&&(m=new q(m)),S=b.e>14,!Y.c||!Y.c[0]||Y.c[0]==1&&!Y.e&&Y.c.length==1||!b.c||!b.c[0])return R=new q(Math.pow(+Be(Y),S?b.s*(2-Q(b)):+Be(b))),m?R.mod(m):R;if(U=b.s<0,m){if(m.c?!m.c[0]:!m.s)return new q(NaN);C=!U&&Y.isInteger()&&m.isInteger(),C&&(Y=Y.mod(m))}else{if(b.e>9&&(Y.e>0||Y.e<-1||(Y.e==0?Y.c[0]>1||S&&Y.c[1]>=24e7:Y.c[0]<8e13||S&&Y.c[0]<=9999975e7)))return T=Y.s<0&&Q(b)?-0:0,Y.e>-1&&(T=1/T),new q(U?1/T:T);ae&&(T=s(ae/f+2))}for(S?(v=new q(.5),U&&(b.s=1),D=Q(b)):($=Math.abs(+Be(b)),D=$%2),R=new q(se);;){if(D){if(R=R.times(Y),!R.c)break;T?R.c.length>T&&(R.c.length=T):C&&(R=R.mod(m))}if($){if($=a($/2),$===0)break;D=$%2}else if(b=b.times(v),fe(b,b.e+1,1),b.e>14)D=Q(b);else{if($=+Be(b),$===0)break;D=$%2}Y=Y.times(Y),T?Y.c&&Y.c.length>T&&(Y.c.length=T):C&&(Y=Y.mod(m))}return C?R:(U&&(R=se.div(R)),m?R.mod(m):T?fe(R,ae,x,j):R)},N.integerValue=function(b){var m=new q(this);return b==null?b=x:F(b,0,8),fe(m,m.e+1,b)},N.isEqualTo=N.eq=function(b,m){return k(this,new q(b,m))===0},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(b,m){return k(this,new q(b,m))>0},N.isGreaterThanOrEqualTo=N.gte=function(b,m){return(m=k(this,new q(b,m)))===1||m===0},N.isInteger=function(){return!!this.c&&B(this.e/f)>this.c.length-2},N.isLessThan=N.lt=function(b,m){return k(this,new q(b,m))<0},N.isLessThanOrEqualTo=N.lte=function(b,m){return(m=k(this,new q(b,m)))===-1||m===0},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return this.s>0},N.isZero=function(){return!!this.c&&this.c[0]==0},N.minus=function(b,m){var v,C,$,T,j=this,S=j.s;if(b=new q(b,m),m=b.s,!S||!m)return new q(NaN);if(S!=m)return b.s=-m,j.plus(b);var U=j.e/f,D=b.e/f,R=j.c,Y=b.c;if(!U||!D){if(!R||!Y)return R?(b.s=-m,b):new q(Y?j:NaN);if(!R[0]||!Y[0])return Y[0]?(b.s=-m,b):new q(R[0]?j:x==3?-0:0)}if(U=B(U),D=B(D),R=R.slice(),S=U-D){for((T=S<0)?(S=-S,$=R):(D=U,$=Y),$.reverse(),m=S;m--;$.push(0));$.reverse()}else for(C=(T=(S=R.length)<(m=Y.length))?S:m,S=m=0;m<C;m++)if(R[m]!=Y[m]){T=R[m]<Y[m];break}if(T&&($=R,R=Y,Y=$,b.s=-b.s),m=(C=Y.length)-(v=R.length),m>0)for(;m--;R[v++]=0);for(m=d-1;C>S;){if(R[--C]<Y[C]){for(v=C;v&&!R[--v];R[v]=m);--R[v],R[C]+=d}R[C]-=Y[C]}for(;R[0]==0;R.splice(0,1),--D);return R[0]?ue(b,R,D):(b.s=x==3?-1:1,b.c=[b.e=0],b)},N.modulo=N.mod=function(b,m){var v,C,$=this;return b=new q(b,m),!$.c||!b.s||b.c&&!b.c[0]?new q(NaN):!b.c||$.c&&!$.c[0]?new q($):(oe==9?(C=b.s,b.s=1,v=K($,b,0,3),b.s=C,v.s*=C):v=K($,b,0,oe),b=$.minus(v.times(b)),!b.c[0]&&oe==1&&(b.s=$.s),b)},N.multipliedBy=N.times=function(b,m){var v,C,$,T,j,S,U,D,R,Y,he,pe,me,$e,o,l=this,h=l.c,A=(b=new q(b,m)).c;if(!h||!A||!h[0]||!A[0])return!l.s||!b.s||h&&!h[0]&&!A||A&&!A[0]&&!h?b.c=b.e=b.s=null:(b.s*=l.s,!h||!A?b.c=b.e=null:(b.c=[0],b.e=0)),b;for(C=B(l.e/f)+B(b.e/f),b.s*=l.s,U=h.length,Y=A.length,U<Y&&(me=h,h=A,A=me,$=U,U=Y,Y=$),$=U+Y,me=[];$--;me.push(0));for($e=d,o=p,$=Y;--$>=0;){for(v=0,he=A[$]%o,pe=A[$]/o|0,j=U,T=$+j;T>$;)D=h[--j]%o,R=h[j]/o|0,S=pe*D+R*he,D=he*D+S%o*o+me[T]+v,v=(D/$e|0)+(S/o|0)+pe*R,me[T--]=D%$e;me[T]=v}return v?++C:me.splice(0,1),ue(b,me,C)},N.negated=function(){var b=new q(this);return b.s=-b.s||null,b},N.plus=function(b,m){var v,C=this,$=C.s;if(b=new q(b,m),m=b.s,!$||!m)return new q(NaN);if($!=m)return b.s=-m,C.minus(b);var T=C.e/f,j=b.e/f,S=C.c,U=b.c;if(!T||!j){if(!S||!U)return new q($/0);if(!S[0]||!U[0])return U[0]?b:new q(S[0]?C:$*0)}if(T=B(T),j=B(j),S=S.slice(),$=T-j){for($>0?(j=T,v=U):($=-$,v=S),v.reverse();$--;v.push(0));v.reverse()}for($=S.length,m=U.length,$-m<0&&(v=U,U=S,S=v,m=$),$=0;m;)$=(S[--m]=S[m]+U[m]+$)/d|0,S[m]=d===S[m]?0:S[m]%d;return $&&(S=[$].concat(S),++j),ue(b,S,j)},N.precision=N.sd=function(b,m){var v,C,$,T=this;if(b!=null&&b!==!!b)return F(b,1,g),m==null?m=x:F(m,0,8),fe(new q(T),b,m);if(!(v=T.c))return null;if($=v.length-1,C=$*f+1,$=v[$]){for(;$%10==0;$/=10,C--);for($=v[0];$>=10;$/=10,C++);}return b&&T.e+1>C&&(C=T.e+1),C},N.shiftedBy=function(b){return F(b,-y,y),this.times("1e"+b)},N.squareRoot=N.sqrt=function(){var b,m,v,C,$,T=this,j=T.c,S=T.s,U=T.e,D=ie+4,R=new q("0.5");if(S!==1||!j||!j[0])return new q(!S||S<0&&(!j||j[0])?NaN:j?T:1/0);if(S=Math.sqrt(+Be(T)),S==0||S==1/0?(m=L(j),(m.length+U)%2==0&&(m+="0"),S=Math.sqrt(+m),U=B((U+1)/2)-(U<0||U%2),S==1/0?m="5e"+U:(m=S.toExponential(),m=m.slice(0,m.indexOf("e")+1)+U),v=new q(m)):v=new q(S+""),v.c[0]){for(U=v.e,S=U+D,S<3&&(S=0);;)if($=v,v=R.times($.plus(K(T,$,D,1))),L($.c).slice(0,S)===(m=L(v.c)).slice(0,S))if(v.e<U&&--S,m=m.slice(S-3,S+1),m=="9999"||!C&&m=="4999"){if(!C&&(fe($,$.e+ie+2,0),$.times($).eq(T))){v=$;break}D+=4,S+=4,C=1}else{(!+m||!+m.slice(1)&&m.charAt(0)=="5")&&(fe(v,v.e+ie+2,1),b=!v.times(v).eq(T));break}}return fe(v,v.e+ie+1,x,b)},N.toExponential=function(b,m){return b!=null&&(F(b,0,g),b++),ye(this,b,m,1)},N.toFixed=function(b,m){return b!=null&&(F(b,0,g),b=b+this.e+1),ye(this,b,m)},N.toFormat=function(b,m,v){var C,$=this;if(v==null)b!=null&&m&&typeof m=="object"?(v=m,m=null):b&&typeof b=="object"?(v=b,b=m=null):v=le;else if(typeof v!="object")throw Error(c+"Argument not an object: "+v);if(C=$.toFixed(b,m),$.c){var T,j=C.split("."),S=+v.groupSize,U=+v.secondaryGroupSize,D=v.groupSeparator||"",R=j[0],Y=j[1],he=$.s<0,pe=he?R.slice(1):R,me=pe.length;if(U&&(T=S,S=U,U=T,me-=T),S>0&&me>0){for(T=me%S||S,R=pe.substr(0,T);T<me;T+=S)R+=D+pe.substr(T,S);U>0&&(R+=D+pe.slice(T)),he&&(R="-"+R)}C=Y?R+(v.decimalSeparator||"")+((U=+v.fractionGroupSize)?Y.replace(new RegExp("\\d{"+U+"}\\B","g"),"$&"+(v.fractionGroupSeparator||"")):Y):R}return(v.prefix||"")+C+(v.suffix||"")},N.toFraction=function(b){var m,v,C,$,T,j,S,U,D,R,Y,he,pe=this,me=pe.c;if(b!=null&&(S=new q(b),!S.isInteger()&&(S.c||S.s!==1)||S.lt(se)))throw Error(c+"Argument "+(S.isInteger()?"out of range: ":"not an integer: ")+Be(S));if(!me)return new q(pe);for(m=new q(se),D=v=new q(se),C=U=new q(se),he=L(me),T=m.e=he.length-pe.e-1,m.c[0]=O[(j=T%f)<0?f+j:j],b=!b||S.comparedTo(m)>0?T>0?m:D:S,j=V,V=1/0,S=new q(he),U.c[0]=0;R=K(S,m,0,1),$=v.plus(R.times(C)),$.comparedTo(b)!=1;)v=C,C=$,D=U.plus(R.times($=D)),U=$,m=S.minus(R.times($=m)),S=$;return $=K(b.minus(v),C,0,1),U=U.plus($.times(D)),v=v.plus($.times(C)),U.s=D.s=pe.s,T=T*2,Y=K(D,C,T,x).minus(pe).abs().comparedTo(K(U,v,T,x).minus(pe).abs())<1?[D,C]:[U,v],V=j,Y},N.toNumber=function(){return+Be(this)},N.toPrecision=function(b,m){return b!=null&&F(b,1,g),ye(this,b,m,2)},N.toString=function(b){var m,v=this,C=v.s,$=v.e;return $===null?C?(m="Infinity",C<0&&(m="-"+m)):m="NaN":(b==null?m=$<=Z||$>=z?X(L(v.c),$):te(L(v.c),$,"0"):b===10&&E?(v=fe(new q(v),ie+$+1,x),m=te(L(v.c),v.e,"0")):(F(b,2,de.length,"Base"),m=ge(te(L(v.c),$,"0"),10,b,C,!0)),C<0&&v.c[0]&&(m="-"+m)),m},N.valueOf=N.toJSON=function(){return Be(this)},N._isBigNumber=!0,G!=null&&q.set(G),q}function B(G){var K=G|0;return G>0||G===K?K:K-1}function L(G){for(var K,ge,I=1,N=G.length,se=G[0]+"";I<N;){for(K=G[I++]+"",ge=f-K.length;ge--;K="0"+K);se+=K}for(N=se.length;se.charCodeAt(--N)===48;);return se.slice(0,N+1||1)}function k(G,K){var ge,I,N=G.c,se=K.c,ie=G.s,x=K.s,Z=G.e,z=K.e;if(!ie||!x)return null;if(ge=N&&!N[0],I=se&&!se[0],ge||I)return ge?I?0:-x:ie;if(ie!=x)return ie;if(ge=ie<0,I=Z==z,!N||!se)return I?0:!N^ge?1:-1;if(!I)return Z>z^ge?1:-1;for(x=(Z=N.length)<(z=se.length)?Z:z,ie=0;ie<x;ie++)if(N[ie]!=se[ie])return N[ie]>se[ie]^ge?1:-1;return Z==z?0:Z>z^ge?1:-1}function F(G,K,ge,I){if(G<K||G>ge||G!==a(G))throw Error(c+(I||"Argument")+(typeof G=="number"?G<K||G>ge?" out of range: ":" not an integer: ":" not a primitive number: ")+String(G))}function Q(G){var K=G.c.length-1;return B(G.e/f)==K&&G.c[K]%2!=0}function X(G,K){return(G.length>1?G.charAt(0)+"."+G.slice(1):G)+(K<0?"e":"e+")+K}function te(G,K,ge){var I,N;if(K<0){for(N=ge+".";++K;N+=ge);G=N+G}else if(I=G.length,++K>I){for(N=ge,K-=I;--K;N+=ge);G+=N}else K<I&&(G=G.slice(0,K)+"."+G.slice(K));return G}n=w(),n.default=n.BigNumber=n,typeof define=="function"&&define.amd?define(function(){return n}):typeof t<"u"&&t.exports?t.exports=n:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=n)})(e)}),ah=ze((e,t)=>{t.exports=function(r,n,i){var s=new r.Uint8Array(i),a=n.pushInt,c=n.pushInt32,u=n.pushInt32Neg,d=n.pushInt64,f=n.pushInt64Neg,y=n.pushFloat,O=n.pushFloatSingle,p=n.pushFloatDouble,g=n.pushTrue,w=n.pushFalse,B=n.pushUndefined,L=n.pushNull,k=n.pushInfinity,F=n.pushInfinityNeg,Q=n.pushNaN,X=n.pushNaNNeg,te=n.pushArrayStart,G=n.pushArrayStartFixed,K=n.pushArrayStartFixed32,ge=n.pushArrayStartFixed64,I=n.pushObjectStart,N=n.pushObjectStartFixed,se=n.pushObjectStartFixed32,ie=n.pushObjectStartFixed64,x=n.pushByteString,Z=n.pushByteStringStart,z=n.pushUtf8String,M=n.pushUtf8StringStart,V=n.pushSimpleUnassigned,ee=n.pushTagStart,oe=n.pushTagStart4,ae=n.pushTagStart8;n.pushTagUnassigned;var le=n.pushBreak,de=r.Math.pow,E=0,q=0,ye=0;function Ie(ne){for(ne=ne|0,E=0,q=ne;(E|0)<(q|0)&&(ye=Yl[s[E]&255](s[E]|0)|0,!((ye|0)>0)););return ye|0}function ue(ne){return ne=ne|0,((E|0)+(ne|0)|0)<(q|0)?0:1}function fe(ne){return ne=ne|0,s[ne|0]<<8|s[ne+1|0]|0}function Be(ne){return ne=ne|0,s[ne|0]<<24|s[ne+1|0]<<16|s[ne+2|0]<<8|s[ne+3|0]|0}function b(ne){return ne=ne|0,a(ne|0),E=E+1|0,0}function m(ne){return ue(1)|0?1:(a(s[E+1|0]|0),E=E+2|0,0)}function v(ne){return ue(2)|0?1:(a(fe(E+1|0)|0),E=E+3|0,0)}function C(ne){return ue(4)|0?1:(c(fe(E+1|0)|0,fe(E+3|0)|0),E=E+5|0,0)}function $(ne){return ue(8)|0?1:(d(fe(E+1|0)|0,fe(E+3|0)|0,fe(E+5|0)|0,fe(E+7|0)|0),E=E+9|0,0)}function T(ne){return ne=ne|0,a(-1-(ne-32|0)|0),E=E+1|0,0}function j(ne){return ue(1)|0?1:(a(-1-(s[E+1|0]|0)|0),E=E+2|0,0)}function S(ne){var Ne=0;return ue(2)|0?1:(Ne=fe(E+1|0)|0,a(-1-(Ne|0)|0),E=E+3|0,0)}function U(ne){return ue(4)|0?1:(u(fe(E+1|0)|0,fe(E+3|0)|0),E=E+5|0,0)}function D(ne){return ue(8)|0?1:(f(fe(E+1|0)|0,fe(E+3|0)|0,fe(E+5|0)|0,fe(E+7|0)|0),E=E+9|0,0)}function R(ne){ne=ne|0;var Ne=0,Oe=0,Se=0;return Se=ne-64|0,ue(Se|0)|0?1:(Ne=E+1|0,Oe=(E+1|0)+(Se|0)|0,x(Ne|0,Oe|0),E=Oe|0,0)}function Y(ne){var Ne=0,Oe=0,Se=0;return ue(1)|0||(Se=s[E+1|0]|0,Ne=E+2|0,Oe=(E+2|0)+(Se|0)|0,ue(Se+1|0)|0)?1:(x(Ne|0,Oe|0),E=Oe|0,0)}function he(ne){var Ne=0,Oe=0,Se=0;return ue(2)|0||(Se=fe(E+1|0)|0,Ne=E+3|0,Oe=(E+3|0)+(Se|0)|0,ue(Se+2|0)|0)?1:(x(Ne|0,Oe|0),E=Oe|0,0)}function pe(ne){var Ne=0,Oe=0,Se=0;return ue(4)|0||(Se=Be(E+1|0)|0,Ne=E+5|0,Oe=(E+5|0)+(Se|0)|0,ue(Se+4|0)|0)?1:(x(Ne|0,Oe|0),E=Oe|0,0)}function me(ne){return 1}function $e(ne){return Z(),E=E+1|0,0}function o(ne){ne=ne|0;var Ne=0,Oe=0,Se=0;return Se=ne-96|0,ue(Se|0)|0?1:(Ne=E+1|0,Oe=(E+1|0)+(Se|0)|0,z(Ne|0,Oe|0),E=Oe|0,0)}function l(ne){var Ne=0,Oe=0,Se=0;return ue(1)|0||(Se=s[E+1|0]|0,Ne=E+2|0,Oe=(E+2|0)+(Se|0)|0,ue(Se+1|0)|0)?1:(z(Ne|0,Oe|0),E=Oe|0,0)}function h(ne){var Ne=0,Oe=0,Se=0;return ue(2)|0||(Se=fe(E+1|0)|0,Ne=E+3|0,Oe=(E+3|0)+(Se|0)|0,ue(Se+2|0)|0)?1:(z(Ne|0,Oe|0),E=Oe|0,0)}function A(ne){var Ne=0,Oe=0,Se=0;return ue(4)|0||(Se=Be(E+1|0)|0,Ne=E+5|0,Oe=(E+5|0)+(Se|0)|0,ue(Se+4|0)|0)?1:(z(Ne|0,Oe|0),E=Oe|0,0)}function P(ne){return 1}function H(ne){return M(),E=E+1|0,0}function J(ne){return ne=ne|0,G(ne-128|0),E=E+1|0,0}function Te(ne){return ue(1)|0?1:(G(s[E+1|0]|0),E=E+2|0,0)}function Pe(ne){return ue(2)|0?1:(G(fe(E+1|0)|0),E=E+3|0,0)}function xe(ne){return ue(4)|0?1:(K(fe(E+1|0)|0,fe(E+3|0)|0),E=E+5|0,0)}function ve(ne){return ue(8)|0?1:(ge(fe(E+1|0)|0,fe(E+3|0)|0,fe(E+5|0)|0,fe(E+7|0)|0),E=E+9|0,0)}function we(ne){return te(),E=E+1|0,0}function Le(ne){ne=ne|0;var Ne=0;return Ne=ne-160|0,ue(Ne|0)|0?1:(N(Ne|0),E=E+1|0,0)}function Ol(ne){return ue(1)|0?1:(N(s[E+1|0]|0),E=E+2|0,0)}function $l(ne){return ue(2)|0?1:(N(fe(E+1|0)|0),E=E+3|0,0)}function Rl(ne){return ue(4)|0?1:(se(fe(E+1|0)|0,fe(E+3|0)|0),E=E+5|0,0)}function Ul(ne){return ue(8)|0?1:(ie(fe(E+1|0)|0,fe(E+3|0)|0,fe(E+5|0)|0,fe(E+7|0)|0),E=E+9|0,0)}function Pl(ne){return I(),E=E+1|0,0}function br(ne){return ne=ne|0,ee(ne-192|0|0),E=E+1|0,0}function Ge(ne){return ne=ne|0,ee(ne-192|0|0),E=E+1|0,0}function Ll(ne){return ue(1)|0?1:(ee(s[E+1|0]|0),E=E+2|0,0)}function kl(ne){return ue(2)|0?1:(ee(fe(E+1|0)|0),E=E+3|0,0)}function Cl(ne){return ue(4)|0?1:(oe(fe(E+1|0)|0,fe(E+3|0)|0),E=E+5|0,0)}function Fl(ne){return ue(8)|0?1:(ae(fe(E+1|0)|0,fe(E+3|0)|0,fe(E+5|0)|0,fe(E+7|0)|0),E=E+9|0,0)}function Ve(ne){return ne=ne|0,V((ne|0)-224|0),E=E+1|0,0}function Dl(ne){return w(),E=E+1|0,0}function jl(ne){return g(),E=E+1|0,0}function Ml(ne){return L(),E=E+1|0,0}function Vl(ne){return B(),E=E+1|0,0}function ql(ne){return ue(1)|0?1:(V(s[E+1|0]|0),E=E+2|0,0)}function zl(ne){var Ne=0,Oe=0,Se=1,hn=0,Cr=0;return ue(2)|0?1:(Ne=s[E+1|0]|0,Oe=s[E+2|0]|0,(Ne|0)&128&&(Se=-1),hn=+(((Ne|0)&124)>>2),Cr=+(((Ne|0)&3)<<8|Oe),+hn==0?y(+(+Se*5960464477539063e-23*+Cr)):+hn==31?+Se==1?+Cr>0?Q():k():+Cr>0?X():F():y(+(+Se*de(2,+(+hn-25))*+(1024+Cr))),E=E+3|0,0)}function Hl(ne){return ue(4)|0?1:(O(s[E+1|0]|0,s[E+2|0]|0,s[E+3|0]|0,s[E+4|0]|0),E=E+5|0,0)}function Gl(ne){return ue(8)|0?1:(p(s[E+1|0]|0,s[E+2|0]|0,s[E+3|0]|0,s[E+4|0]|0,s[E+5|0]|0,s[E+6|0]|0,s[E+7|0]|0,s[E+8|0]|0),E=E+9|0,0)}function Ue(ne){return 1}function Kl(ne){return le(),E=E+1|0,0}var Yl=[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,m,v,C,$,Ue,Ue,Ue,Ue,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,j,S,U,D,Ue,Ue,Ue,Ue,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,Y,he,pe,me,Ue,Ue,Ue,$e,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,l,h,A,P,Ue,Ue,Ue,H,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,Te,Pe,xe,ve,Ue,Ue,Ue,we,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Ol,$l,Rl,Ul,Ue,Ue,Ue,Pl,br,br,br,br,br,br,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ll,kl,Cl,Fl,Ue,Ue,Ue,Ue,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Ve,Dl,jl,Ml,Vl,ql,zl,Hl,Gl,Ue,Ue,Ue,Kl];return{parse:Ie}}}),xi=ze(e=>{var t=Ai().BigNumber;e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},e.SHIFT32=Math.pow(2,32),e.SHIFT16=Math.pow(2,16),e.MAX_SAFE_HIGH=2097151,e.NEG_ONE=new t(-1),e.TEN=new t(10),e.TWO=new t(2),e.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}}),Ds=ze(e=>{var{Buffer:t}=Ei(),r=Ai().BigNumber,n=xi(),i=n.SHIFT32,s=n.SHIFT16,a=2097151;e.parseHalf=function(u){var d,f,y;return y=u[0]&128?-1:1,d=(u[0]&124)>>2,f=(u[0]&3)<<8|u[1],d?d===31?y*(f?NaN:1/0):y*Math.pow(2,d-25)*(1024+f):y*5960464477539063e-23*f};function c(u){return u<16?"0"+u.toString(16):u.toString(16)}e.arrayBufferToBignumber=function(u){let d=u.byteLength,f="";for(let y=0;y<d;y++)f+=c(u[y]);return new r(f,16)},e.buildMap=u=>{let d=new Map,f=Object.keys(u),y=f.length;for(let O=0;O<y;O++)d.set(f[O],u[f[O]]);return d},e.buildInt32=(u,d)=>u*s+d,e.buildInt64=(u,d,f,y)=>{let O=e.buildInt32(u,d),p=e.buildInt32(f,y);return O>a?new r(O).times(i).plus(p):O*i+p},e.writeHalf=function(u,d){let f=t.allocUnsafe(4);f.writeFloatBE(d,0);let y=f.readUInt32BE(0);if(y&8191)return!1;var O=y>>16&32768;let p=y>>23&255,g=y&8388607;if(p>=113&&p<=142)O+=(p-112<<10)+(g>>13);else if(p>=103&&p<113){if(g&(1<<126-p)-1)return!1;O+=g+8388608>>126-p}else return!1;return u.writeUInt16BE(O,0),!0},e.keySorter=function(u,d){var f=u[0].byteLength,y=d[0].byteLength;return f>y?1:y>f?-1:u[0].compare(d[0])},e.isNegativeZero=u=>u===0&&1/u<0,e.nextPowerOf2=u=>{let d=0;if(u&&!(u&u-1))return u;for(;u!==0;)u>>=1,d+=1;return 1<<d}}),sc=ze((e,t)=>{var r=xi(),n=r.MT,i=r.SIMPLE,s=r.SYMS,a=class us{constructor(u){if(typeof u!="number")throw new Error("Invalid Simple type: "+typeof u);if(u<0||u>255||(u|0)!==u)throw new Error("value must be a small positive integer: "+u);this.value=u}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(u){return u._pushInt(this.value,n.SIMPLE_FLOAT)}static isSimple(u){return u instanceof us}static decode(u,d){switch(d==null&&(d=!0),u){case i.FALSE:return!1;case i.TRUE:return!0;case i.NULL:return d?null:s.NULL;case i.UNDEFINED:return d?void 0:s.UNDEFINED;case-1:if(!d)throw new Error("Invalid BREAK");return s.BREAK;default:return new us(u)}}};t.exports=a}),ac=ze((e,t)=>{var r=class ls{constructor(i,s,a){if(this.tag=i,this.value=s,this.err=a,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(i){return i._pushTag(this.tag),i.pushAny(this.value)}convert(i){var s,a;if(a=i==null?void 0:i[this.tag],typeof a!="function"&&(a=ls["_tag"+this.tag],typeof a!="function"))return this;try{return a.call(ls,this.value)}catch(c){return s=c,this.err=s,this}}};t.exports=r}),oc=ze((e,t)=>{var r=self.location?self.location.protocol+"//"+self.location.host:"",n=self.URL,i=class{constructor(a="",c=r){this.super=new n(a,c),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(a){this.super.hash=a}set host(a){this.super.host=a}set hostname(a){this.super.hostname=a}set href(a){this.super.href=a}set origin(a){this.super.origin=a}set password(a){this.super.password=a}set pathname(a){this.super.pathname=a}set port(a){this.super.port=a}set protocol(a){this.super.protocol=a}set search(a){this.super.search=a}set searchParams(a){this.super.searchParams=a}set username(a){this.super.username=a}createObjectURL(a){return this.super.createObjectURL(a)}revokeObjectURL(a){this.super.revokeObjectURL(a)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function s(a){if(typeof a=="string")return new n(a).toString();if(!(a instanceof n)){let c=a.username&&a.password?`${a.username}:${a.password}@`:"",u=a.auth?a.auth+"@":"",d=a.port?":"+a.port:"",f=a.protocol?a.protocol+"//":"",y=a.host||"",O=a.hostname||"",p=a.search||(a.query?"?"+a.query:""),g=a.hash||"",w=a.pathname||"",B=a.path||w+p;return`${f}${c||u}${y||O+d}${B}${g}`}}t.exports={URLWithLegacySupport:i,URLSearchParams:self.URLSearchParams,defaultBase:r,format:s}}),oh=ze((e,t)=>{var{URLWithLegacySupport:r,format:n}=oc();t.exports=(i,s={},a={},c)=>{let u=s.protocol?s.protocol.replace(":",""):"http";u=(a[u]||c||u)+":";let d;try{d=new r(i)}catch{d={}}let f=Object.assign({},s,{protocol:u||d.protocol,host:s.host||d.host});return new r(i,n(f)).toString()}}),cc=ze((e,t)=>{var{URLWithLegacySupport:r,format:n,URLSearchParams:i,defaultBase:s}=oc(),a=oh();t.exports={URL:r,URLSearchParams:i,format:n,relative:a,defaultBase:s}}),uc=ze((e,t)=>{var{Buffer:r}=Ei(),n=ic(),i=Ai().BigNumber,s=ah(),a=Ds(),c=xi(),u=sc(),d=ac(),{URL:f}=cc(),y=class fs{constructor(p){p=p||{},!p.size||p.size<65536?p.size=65536:p.size=a.nextPowerOf2(p.size),this._heap=new ArrayBuffer(p.size),this._heap8=new Uint8Array(this._heap),this._buffer=r.from(this._heap),this._reset(),this._knownTags=Object.assign({0:g=>new Date(g),1:g=>new Date(g*1e3),2:g=>a.arrayBufferToBignumber(g),3:g=>c.NEG_ONE.minus(a.arrayBufferToBignumber(g)),4:g=>c.TEN.pow(g[0]).times(g[1]),5:g=>c.TWO.pow(g[0]).times(g[1]),32:g=>new f(g),35:g=>new RegExp(g)},p.tags),this.parser=s(globalThis,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var p=this._parents.pop();if(p.length>0)throw new Error(`Missing ${p.length} elements`);switch(p.type){case c.PARENT.TAG:this._push(this.createTag(p.ref[0],p.ref[1]));break;case c.PARENT.BYTE_STRING:this._push(this.createByteString(p.ref,p.length));break;case c.PARENT.UTF8_STRING:this._push(this.createUtf8String(p.ref,p.length));break;case c.PARENT.MAP:if(p.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(p.ref,p.length));break;case c.PARENT.OBJECT:if(p.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(p.ref,p.length));break;case c.PARENT.ARRAY:this._push(this.createArray(p.ref,p.length));break}this._currentParent&&this._currentParent.type===c.PARENT.TAG&&this._dec()}_dec(){let p=this._currentParent;p.length<0||(p.length--,p.length===0&&this._closeParent())}_push(p,g){let w=this._currentParent;switch(w.values++,w.type){case c.PARENT.ARRAY:case c.PARENT.BYTE_STRING:case c.PARENT.UTF8_STRING:w.length>-1?this._ref[this._ref.length-w.length]=p:this._ref.push(p),this._dec();break;case c.PARENT.OBJECT:w.tmpKey!=null?(this._ref[w.tmpKey]=p,w.tmpKey=null,this._dec()):(w.tmpKey=p,typeof w.tmpKey!="string"&&(w.type=c.PARENT.MAP,w.ref=a.buildMap(w.ref)));break;case c.PARENT.MAP:w.tmpKey!=null?(this._ref.set(w.tmpKey,p),w.tmpKey=null,this._dec()):w.tmpKey=p;break;case c.PARENT.TAG:this._ref.push(p),g||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(p,g,w){this._parents[this._depth]={type:g,length:w,ref:p,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:c.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(p,g){let w=this._knownTags[p];return w?w(g):new d(p,g)}createMap(p,g){return p}createObject(p,g){return p}createArray(p,g){return p}createByteString(p,g){return r.concat(p)}createByteStringFromHeap(p,g){return p===g?r.alloc(0):r.from(this._heap.slice(p,g))}createInt(p){return p}createInt32(p,g){return a.buildInt32(p,g)}createInt64(p,g,w,B){return a.buildInt64(p,g,w,B)}createFloat(p){return p}createFloatSingle(p,g,w,B){return n.read([p,g,w,B],0,!1,23,4)}createFloatDouble(p,g,w,B,L,k,F,Q){return n.read([p,g,w,B,L,k,F,Q],0,!1,52,8)}createInt32Neg(p,g){return-1-a.buildInt32(p,g)}createInt64Neg(p,g,w,B){let L=a.buildInt32(p,g),k=a.buildInt32(w,B);return L>c.MAX_SAFE_HIGH?c.NEG_ONE.minus(new i(L).times(c.SHIFT32).plus(k)):-1-(L*c.SHIFT32+k)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(p,g){return p.join("")}createUtf8StringFromHeap(p,g){return p===g?"":this._buffer.toString("utf8",p,g)}createSimpleUnassigned(p){return new u(p)}pushInt(p){this._push(this.createInt(p))}pushInt32(p,g){this._push(this.createInt32(p,g))}pushInt64(p,g,w,B){this._push(this.createInt64(p,g,w,B))}pushFloat(p){this._push(this.createFloat(p))}pushFloatSingle(p,g,w,B){this._push(this.createFloatSingle(p,g,w,B))}pushFloatDouble(p,g,w,B,L,k,F,Q){this._push(this.createFloatDouble(p,g,w,B,L,k,F,Q))}pushInt32Neg(p,g){this._push(this.createInt32Neg(p,g))}pushInt64Neg(p,g,w,B){this._push(this.createInt64Neg(p,g,w,B))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],c.PARENT.ARRAY,-1)}pushArrayStartFixed(p){this._createArrayStartFixed(p)}pushArrayStartFixed32(p,g){let w=a.buildInt32(p,g);this._createArrayStartFixed(w)}pushArrayStartFixed64(p,g,w,B){let L=a.buildInt64(p,g,w,B);this._createArrayStartFixed(L)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(p){this._createObjectStartFixed(p)}pushObjectStartFixed32(p,g){let w=a.buildInt32(p,g);this._createObjectStartFixed(w)}pushObjectStartFixed64(p,g,w,B){let L=a.buildInt64(p,g,w,B);this._createObjectStartFixed(L)}pushByteStringStart(){this._parents[this._depth]={type:c.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(p,g){this._push(this.createByteStringFromHeap(p,g))}pushUtf8StringStart(){this._parents[this._depth]={type:c.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(p,g){this._push(this.createUtf8StringFromHeap(p,g))}pushSimpleUnassigned(p){this._push(this.createSimpleUnassigned(p))}pushTagStart(p){this._parents[this._depth]={type:c.PARENT.TAG,length:1,ref:[p]}}pushTagStart4(p,g){this.pushTagStart(a.buildInt32(p,g))}pushTagStart8(p,g,w,B){this.pushTagStart(a.buildInt64(p,g,w,B))}pushTagUnassigned(p){this._push(this.createTag(p))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(p){if(p===0){this._push(this.createObject({}));return}this._createParent({},c.PARENT.OBJECT,p)}_createArrayStartFixed(p){if(p===0){this._push(this.createArray([]));return}this._createParent(new Array(p),c.PARENT.ARRAY,p)}_decode(p){if(p.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(p);let g=this.parser.parse(p.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(g>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(p){return this._decode(p),this._res[0]}decodeAll(p){return this._decode(p),this._res}static decode(p,g){return typeof p=="string"&&(p=r.from(p,g||"hex")),new fs({size:p.length}).decodeFirst(p)}static decodeAll(p,g){return typeof p=="string"&&(p=r.from(p,g||"hex")),new fs({size:p.length}).decodeAll(p)}};y.decodeFirst=y.decode,t.exports=y}),ch=ze((e,t)=>{var{Buffer:r}=Ei(),n=uc(),i=Ds(),s=class lc extends n{createTag(u,d){return`${u}(${d})`}createInt(u){return super.createInt(u).toString()}createInt32(u,d){return super.createInt32(u,d).toString()}createInt64(u,d,f,y){return super.createInt64(u,d,f,y).toString()}createInt32Neg(u,d){return super.createInt32Neg(u,d).toString()}createInt64Neg(u,d,f,y){return super.createInt64Neg(u,d,f,y).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(u){let d=super.createFloat(u);return i.isNegativeZero(u)?"-0_1":`${d}_1`}createFloatSingle(u,d,f,y){return`${super.createFloatSingle(u,d,f,y)}_2`}createFloatDouble(u,d,f,y,O,p,g,w){return`${super.createFloatDouble(u,d,f,y,O,p,g,w)}_3`}createByteString(u,d){let f=u.join(", ");return d===-1?`(_ ${f})`:`h'${f}`}createByteStringFromHeap(u,d){return`h'${r.from(super.createByteStringFromHeap(u,d)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(u){return`simple(${u})`}createArray(u,d){let f=super.createArray(u,d);return d===-1?`[_ ${f.join(", ")}]`:`[${f.join(", ")}]`}createMap(u,d){let f=super.createMap(u),y=Array.from(f.keys()).reduce(a(f),"");return d===-1?`{_ ${y}}`:`{${y}}`}createObject(u,d){let f=super.createObject(u),y=Object.keys(f).reduce(a(f),"");return d===-1?`{_ ${y}}`:`{${y}}`}createUtf8String(u,d){let f=u.join(", ");return d===-1?`(_ ${f})`:`"${f}"`}createUtf8StringFromHeap(u,d){return`"${r.from(super.createUtf8StringFromHeap(u,d)).toString("utf8")}"`}static diagnose(u,d){return typeof u=="string"&&(u=r.from(u,d||"hex")),new lc().decodeFirst(u)}};t.exports=s;function a(c){return(u,d)=>u?`${u}, ${d}: ${c[d]}`:`${d}: ${c[d]}`}}),uh=ze((e,t)=>{var{Buffer:r}=Ei(),{URL:n}=cc(),i=Ai().BigNumber,s=Ds(),a=xi(),c=a.MT,u=a.NUMBYTES,d=a.SHIFT32,f=a.SYMS,y=a.TAG,O=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.TWO,p=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.FOUR,g=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.EIGHT,w=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.TRUE,B=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.FALSE,L=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.UNDEFINED,k=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.NULL,F=new i("0x20000000000000"),Q=r.from("f97e00","hex"),X=r.from("f9fc00","hex"),te=r.from("f97c00","hex");function G(ge){return{}.toString.call(ge).slice(8,-1)}var K=class hs{constructor(I){I=I||{},this.streaming=typeof I.stream=="function",this.onData=I.stream,this.semanticTypes=[[n,this._pushUrl],[i,this._pushBigNumber]];let N=I.genTypes||[],se=N.length;for(let ie=0;ie<se;ie++)this.addSemanticType(N[ie][0],N[ie][1]);this._reset()}addSemanticType(I,N){let se=this.semanticTypes.length;for(let ie=0;ie<se;ie++)if(this.semanticTypes[ie][0]===I){let x=this.semanticTypes[ie][1];return this.semanticTypes[ie][1]=N,x}return this.semanticTypes.push([I,N]),null}push(I){return I&&(this.result[this.offset]=I,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=I.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(I,N,se){return this.result[this.offset]=I,this.resultMethod[this.offset]=N,this.resultLength[this.offset]=se,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(I){return this.pushWrite(I,1,1)}_pushUInt16BE(I){return this.pushWrite(I,2,2)}_pushUInt32BE(I){return this.pushWrite(I,3,4)}_pushDoubleBE(I){return this.pushWrite(I,4,8)}_pushNaN(){return this.push(Q)}_pushInfinity(I){let N=I<0?X:te;return this.push(N)}_pushFloat(I){let N=r.allocUnsafe(2);if(s.writeHalf(N,I)&&s.parseHalf(N)===I)return this._pushUInt8(O)&&this.push(N);let se=r.allocUnsafe(4);return se.writeFloatBE(I,0),se.readFloatBE(0)===I?this._pushUInt8(p)&&this.push(se):this._pushUInt8(g)&&this._pushDoubleBE(I)}_pushInt(I,N,se){let ie=N<<5;return I<24?this._pushUInt8(ie|I):I<=255?this._pushUInt8(ie|u.ONE)&&this._pushUInt8(I):I<=65535?this._pushUInt8(ie|u.TWO)&&this._pushUInt16BE(I):I<=4294967295?this._pushUInt8(ie|u.FOUR)&&this._pushUInt32BE(I):I<=Number.MAX_SAFE_INTEGER?this._pushUInt8(ie|u.EIGHT)&&this._pushUInt32BE(Math.floor(I/d))&&this._pushUInt32BE(I%d):N===c.NEG_INT?this._pushFloat(se):this._pushFloat(I)}_pushIntNum(I){return I<0?this._pushInt(-I-1,c.NEG_INT,I):this._pushInt(I,c.POS_INT)}_pushNumber(I){switch(!1){case I===I:return this._pushNaN(I);case isFinite(I):return this._pushInfinity(I);case I%1!==0:return this._pushIntNum(I);default:return this._pushFloat(I)}}_pushString(I){let N=r.byteLength(I,"utf8");return this._pushInt(N,c.UTF8_STRING)&&this.pushWrite(I,5,N)}_pushBoolean(I){return this._pushUInt8(I?w:B)}_pushUndefined(I){return this._pushUInt8(L)}_pushArray(I,N){let se=N.length;if(!I._pushInt(se,c.ARRAY))return!1;for(let ie=0;ie<se;ie++)if(!I.pushAny(N[ie]))return!1;return!0}_pushTag(I){return this._pushInt(I,c.TAG)}_pushDate(I,N){return I._pushTag(y.DATE_EPOCH)&&I.pushAny(Math.round(N/1e3))}_pushBuffer(I,N){return I._pushInt(N.length,c.BYTE_STRING)&&I.push(N)}_pushNoFilter(I,N){return I._pushBuffer(I,N.slice())}_pushRegexp(I,N){return I._pushTag(y.REGEXP)&&I.pushAny(N.source)}_pushSet(I,N){if(!I._pushInt(N.size,c.ARRAY))return!1;for(let se of N)if(!I.pushAny(se))return!1;return!0}_pushUrl(I,N){return I._pushTag(y.URI)&&I.pushAny(N.format())}_pushBigint(I){let N=y.POS_BIGINT;I.isNegative()&&(I=I.negated().minus(1),N=y.NEG_BIGINT);let se=I.toString(16);se.length%2&&(se="0"+se);let ie=r.from(se,"hex");return this._pushTag(N)&&this._pushBuffer(this,ie)}_pushBigNumber(I,N){if(N.isNaN())return I._pushNaN();if(!N.isFinite())return I._pushInfinity(N.isNegative()?-1/0:1/0);if(N.isInteger())return I._pushBigint(N);if(!(I._pushTag(y.DECIMAL_FRAC)&&I._pushInt(2,c.ARRAY)))return!1;let se=N.decimalPlaces(),ie=N.multipliedBy(new i(10).pow(se));return I._pushIntNum(-se)?ie.abs().isLessThan(F)?I._pushIntNum(ie.toNumber()):I._pushBigint(ie):!1}_pushMap(I,N){return I._pushInt(N.size,c.MAP)?this._pushRawMap(N.size,Array.from(N)):!1}_pushObject(I){if(!I)return this._pushUInt8(k);for(var N=this.semanticTypes.length,se=0;se<N;se++)if(I instanceof this.semanticTypes[se][0])return this.semanticTypes[se][1].call(I,this,I);var ie=I.encodeCBOR;if(typeof ie=="function")return ie.call(I,this);var x=Object.keys(I),Z=x.length;return this._pushInt(Z,c.MAP)?this._pushRawMap(Z,x.map(z=>[z,I[z]])):!1}_pushRawMap(I,N){N=N.map(function(ie){return ie[0]=hs.encode(ie[0]),ie}).sort(s.keySorter);for(var se=0;se<I;se++)if(!this.push(N[se][0])||!this.pushAny(N[se][1]))return!1;return!0}write(I){return this.pushAny(I)}pushAny(I){var N=G(I);switch(N){case"Number":return this._pushNumber(I);case"String":return this._pushString(I);case"Boolean":return this._pushBoolean(I);case"Object":return this._pushObject(I);case"Array":return this._pushArray(this,I);case"Uint8Array":return this._pushBuffer(this,r.isBuffer(I)?I:r.from(I));case"Null":return this._pushUInt8(k);case"Undefined":return this._pushUndefined(I);case"Map":return this._pushMap(this,I);case"Set":return this._pushSet(this,I);case"URL":return this._pushUrl(this,I);case"BigNumber":return this._pushBigNumber(this,I);case"Date":return this._pushDate(this,I);case"RegExp":return this._pushRegexp(this,I);case"Symbol":switch(I){case f.NULL:return this._pushObject(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+I.toString())}default:throw new Error("Unknown type: "+typeof I+", "+(I?I.toString():""))}}finalize(){if(this.offset===0)return null;for(var I=this.result,N=this.resultLength,se=this.resultMethod,ie=this.offset,x=0,Z=0;Z<ie;Z++)x+=N[Z];var z=r.allocUnsafe(x),M=0,V=0;for(Z=0;Z<ie;Z++){switch(V=N[Z],se[Z]){case 0:I[Z].copy(z,M);break;case 1:z.writeUInt8(I[Z],M,!0);break;case 2:z.writeUInt16BE(I[Z],M,!0);break;case 3:z.writeUInt32BE(I[Z],M,!0);break;case 4:z.writeDoubleBE(I[Z],M,!0);break;case 5:z.write(I[Z],M,V,"utf8");break;default:throw new Error("unkown method")}M+=V}var ee=z;return this._reset(),ee}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(I){let N=new hs;if(!N.pushAny(I))throw new Error("Failed to encode input");return N.finalize()}};t.exports=K}),js=ze(e=>{e.Diagnose=ch(),e.Decoder=uc(),e.Encoder=uh(),e.Simple=sc(),e.Tagged=ac(),e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}),fc=ze(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=9007199254740992;function r(x,...Z){let z=new Uint8Array(x.byteLength+Z.reduce((V,ee)=>V+ee.byteLength,0));z.set(new Uint8Array(x),0);let M=x.byteLength;for(let V of Z)z.set(new Uint8Array(V),M),M+=V.byteLength;return z.buffer}function n(x,Z,z){z=z.replace(/[^0-9a-fA-F]/g,"");let M=2**(Z-24);z=z.slice(-M*2).padStart(M*2,"0");let V=[(x<<5)+Z].concat(z.match(/../g).map(ee=>parseInt(ee,16)));return new Uint8Array(V).buffer}function i(x,Z){if(Z<24)return new Uint8Array([(x<<5)+Z]).buffer;{let z=Z<=255?24:Z<=65535?25:Z<=4294967295?26:27;return n(x,z,Z.toString(16))}}function s(x){let Z=[];for(let z=0;z<x.length;z++){let M=x.charCodeAt(z);M<128?Z.push(M):M<2048?Z.push(192|M>>6,128|M&63):M<55296||M>=57344?Z.push(224|M>>12,128|M>>6&63,128|M&63):(z++,M=(M&1023)<<10|x.charCodeAt(z)&1023,Z.push(240|M>>18,128|M>>12&63,128|M>>6&63,128|M&63))}return r(new Uint8Array(i(3,x.length)),new Uint8Array(Z))}function a(x,Z){if(x==14277111)return r(new Uint8Array([217,217,247]),Z);if(x<24)return r(new Uint8Array([192+x]),Z);{let z=x<=255?24:x<=65535?25:x<=4294967295?26:27,M=2**(z-24),V=x.toString(16).slice(-M*2).padStart(M*2,"0"),ee=[192+z].concat(V.match(/../g).map(oe=>parseInt(oe,16)));return new Uint8Array(ee).buffer}}e.tagged=a;function c(x){return new Uint8Array(x).buffer}e.raw=c;function u(x){if(isNaN(x))throw new RangeError("Invalid number.");x=Math.min(Math.max(0,x),23);let Z=[0+x];return new Uint8Array(Z).buffer}e.uSmall=u;function d(x,Z){if(x=parseInt(""+x,Z),isNaN(x))throw new RangeError("Invalid number.");return x=Math.min(Math.max(0,x),255),x=x.toString(16),n(0,24,x)}e.u8=d;function f(x,Z){if(x=parseInt(""+x,Z),isNaN(x))throw new RangeError("Invalid number.");return x=Math.min(Math.max(0,x),65535),x=x.toString(16),n(0,25,x)}e.u16=f;function y(x,Z){if(x=parseInt(""+x,Z),isNaN(x))throw new RangeError("Invalid number.");return x=Math.min(Math.max(0,x),4294967295),x=x.toString(16),n(0,26,x)}e.u32=y;function O(x,Z){if(typeof x=="string"&&Z==16){if(x.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return n(0,27,x)}if(x=parseInt(""+x,Z),isNaN(x))throw new RangeError("Invalid number.");return x=Math.min(Math.max(0,x),t),x=x.toString(16),n(0,27,x)}e.u64=O;function p(x){if(isNaN(x))throw new RangeError("Invalid number.");if(x===0)return u(0);x=Math.min(Math.max(0,-x),24)-1;let Z=[32+x];return new Uint8Array(Z).buffer}e.iSmall=p;function g(x,Z){if(x=parseInt(""+x,Z),isNaN(x))throw new RangeError("Invalid number.");return x=Math.min(Math.max(0,-x-1),255),x=x.toString(16),n(1,24,x)}e.i8=g;function w(x,Z){if(x=parseInt(""+x,Z),isNaN(x))throw new RangeError("Invalid number.");return x=Math.min(Math.max(0,-x-1),65535),x=x.toString(16),n(1,25,x)}e.i16=w;function B(x,Z){if(x=parseInt(""+x,Z),isNaN(x))throw new RangeError("Invalid number.");return x=Math.min(Math.max(0,-x-1),4294967295),x=x.toString(16),n(1,26,x)}e.i32=B;function L(x,Z){if(typeof x=="string"&&Z==16){if(x.startsWith("-")?x=x.slice(1):x="0",x.match(/[^0-9a-fA-F]/)||x.length>16)throw new RangeError("Invalid number.");let z=!1,M=x.split("").reduceRight((V,ee)=>{if(z)return ee+V;let oe=parseInt(ee,16)-1;return oe>=0?(z=!0,oe.toString(16)+V):"f"+V},"");return z?n(1,27,M):O(0)}if(x=parseInt(""+x,Z),isNaN(x))throw new RangeError("Invalid number.");return x=Math.min(Math.max(0,-x-1),9007199254740992),x=x.toString(16),n(1,27,x)}e.i64=L;function k(x){return x>=0?x<24?u(x):x<=255?d(x):x<=65535?f(x):x<=4294967295?y(x):O(x):x>=-24?p(x):x>=-255?g(x):x>=-65535?w(x):x>=-4294967295?B(x):L(x)}e.number=k;function F(x){return r(i(2,x.byteLength),x)}e.bytes=F;function Q(x){return s(x)}e.string=Q;function X(x){return r(i(4,x.length),...x)}e.array=X;function te(x,Z=!1){x instanceof Map||(x=new Map(Object.entries(x)));let z=Array.from(x.entries());return Z&&(z=z.sort(([M],[V])=>M.localeCompare(V))),r(i(5,x.size),...z.map(([M,V])=>r(s(M),V)))}e.map=te;function G(x){let Z=new Float32Array([x]);return r(new Uint8Array([250]),new Uint8Array(Z.buffer))}e.singleFloat=G;function K(x){let Z=new Float64Array([x]);return r(new Uint8Array([251]),new Uint8Array(Z.buffer))}e.doubleFloat=K;function ge(x){return x?I():N()}e.bool=ge;function I(){return c(new Uint8Array([245]))}e.true_=I;function N(){return c(new Uint8Array([244]))}e.false_=N;function se(){return c(new Uint8Array([246]))}e.null_=se;function ie(){return c(new Uint8Array([247]))}e.undefined_=ie}),lh=ze(e=>{var t=e&&e.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var f in u)Object.hasOwnProperty.call(u,f)&&(d[f]=u[f]);return d.default=u,d};Object.defineProperty(e,"__esModule",{value:!0});var r=t(fc()),n=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array],i=class{constructor(u,d=!1){this._serializer=u,this._stable=d,this.name="jsonDefault",this.priority=-100}match(u){return["undefined","boolean","number","string","object"].indexOf(typeof u)!=-1}encode(u){switch(typeof u){case"undefined":return r.undefined_();case"boolean":return r.bool(u);case"number":return Math.floor(u)===u?r.number(u):r.doubleFloat(u);case"string":return r.string(u);case"object":if(u===null)return r.null_();if(Array.isArray(u))return r.array(u.map(d=>this._serializer.serializeValue(d)));if(n.find(d=>u instanceof d))return r.bytes(u.buffer);if(Object.getOwnPropertyNames(u).indexOf("toJSON")!==-1)return this.encode(u.toJSON());if(u instanceof Map){let d=new Map;for(let[f,y]of u.entries())d.set(f,this._serializer.serializeValue(y));return r.map(d,this._stable)}else{let d=new Map;for(let[f,y]of Object.entries(u))d.set(f,this._serializer.serializeValue(y));return r.map(d,this._stable)}default:throw new Error("Invalid value.")}}};e.JsonDefaultCborEncoder=i;var s=class{constructor(){this.name="cborEncoder",this.priority=-90}match(u){return typeof u=="object"&&typeof u.toCBOR=="function"}encode(u){return u.toCBOR()}};e.ToCborEncoder=s;var a=class{constructor(){this._encoders=new Set}static withDefaultEncoders(u=!1){let d=new this;return d.addEncoder(new i(d,u)),d.addEncoder(new s),d}removeEncoder(u){for(let d of this._encoders.values())d.name==u&&this._encoders.delete(d)}addEncoder(u){this._encoders.add(u)}getEncoderFor(u){let d=null;for(let f of this._encoders)(!d||f.priority>d.priority)&&f.match(u)&&(d=f);if(d===null)throw new Error("Could not find an encoder for value.");return d}serializeValue(u){return this.getEncoderFor(u).encode(u)}serialize(u){return this.serializeValue(u)}};e.CborSerializer=a;var c=class extends a{serialize(u){return r.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(u))]))}};e.SelfDescribeCborSerializer=c}),Ii=ze(e=>{function t(i){for(var s in i)e.hasOwnProperty(s)||(e[s]=i[s])}var r=e&&e.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var a in i)Object.hasOwnProperty.call(i,a)&&(s[a]=i[a]);return s.default=i,s};Object.defineProperty(e,"__esModule",{value:!0}),t(lh());var n=r(fc());e.value=n}),ai="abcdefghijklmnopqrstuvwxyz234567",Rr=Object.create(null);for(let e=0;e<ai.length;e++)Rr[ai[e]]=e;Rr[0]=Rr.o;Rr[1]=Rr.i;function fh(e){let t=0,r=0,n="";function i(s){return t<0?r|=s>>-t:r=s<<t&248,t>3?(t-=8,1):(t<4&&(n+=ai[r>>3],t+=5),0)}for(let s=0;s<e.length;)s+=i(e[s]);return n+(t<0?ai[r>>3]:"")}function hh(e){let t=0,r=0,n=new Uint8Array(e.length*4/3|0),i=0;function s(a){let c=Rr[a.toLowerCase()];if(c===void 0)throw new Error(`Invalid character: ${JSON.stringify(a)}`);c<<=3,r|=c>>>t,t+=5,t>=8&&(n[i++]=r,t-=8,t>0?r=c<<5-t&255:r=0)}for(let a of e)s(a);return n.slice(0,i)}var dh=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function ph(e){let t=new Uint8Array(e),r=-1;for(let n=0;n<t.length;n++){let i=(t[n]^r)&255;r=dh[i]^r>>>8}return(r^-1)>>>0}function gh(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ms(e,...t){if(!gh(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Ia(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function yh(e,t){Ms(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Di=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,ji=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),vt=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function hc(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function dc(e){return typeof e=="string"&&(e=hc(e)),Ms(e),e}function bh(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];Ms(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}var mh=class{clone(){return this._cloneInto()}};function Vs(e){let t=n=>e().update(dc(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function pc(e=32){if(Di&&typeof Di.getRandomValues=="function")return Di.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function wh(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,d=n?0:4;e.setUint32(t+u,a,n),e.setUint32(t+d,c,n)}var vh=(e,t,r)=>e&t^~e&r,_h=(e,t,r)=>e&t^e&r^t&r,gc=class extends mh{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ji(this.buffer)}update(e){Ia(this);let{view:t,buffer:r,blockLen:n}=this;e=dc(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let c=ji(e);for(;n<=i-s;s+=n)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ia(this),yh(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let f=s;f<n;f++)t[f]=0;wh(r,n-8,BigInt(this.length*8),i),this.process(r,0);let a=ji(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}},Eh=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jt=new Uint32Array(64),yc=class extends gc{constructor(){super(64,32,8,!1),this.A=Dt[0]|0,this.B=Dt[1]|0,this.C=Dt[2]|0,this.D=Dt[3]|0,this.E=Dt[4]|0,this.F=Dt[5]|0,this.G=Dt[6]|0,this.H=Dt[7]|0}get(){let{A:t,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[t,r,n,i,s,a,c,u]}set(t,r,n,i,s,a,c,u){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(t,r){for(let y=0;y<16;y++,r+=4)jt[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){let O=jt[y-15],p=jt[y-2],g=vt(O,7)^vt(O,18)^O>>>3,w=vt(p,17)^vt(p,19)^p>>>10;jt[y]=w+jt[y-7]+g+jt[y-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:d,H:f}=this;for(let y=0;y<64;y++){let O=vt(c,6)^vt(c,11)^vt(c,25),p=f+O+vh(c,u,d)+Eh[y]+jt[y]|0,g=(vt(n,2)^vt(n,13)^vt(n,22))+_h(n,i,s)|0;f=d,d=u,u=c,c=a+p|0,a=s,s=i,i=n,n=p+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,s,a,c,u,d,f)}roundClean(){jt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Ah=class extends yc{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},qs=Vs(()=>new yc),xh=Vs(()=>new Ah);function Ih(e){return xh.create().update(new Uint8Array(e)).digest()}var wn="__principal__",Th=2,Ta=4,Bh="aaaaa-aa",Sh=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},Nh=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),""),Ae=class Un{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([Ta]))}static managementCanister(){return this.fromHex(Bh)}static selfAuthenticating(t){let r=Ih(t);return new this(new Uint8Array([...r,Th]))}static from(t){if(typeof t=="string")return Un.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Un(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Un(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(Sh(t))}static fromText(t){let r=t;if(t.includes(wn)){let a=JSON.parse(t);wn in a&&(r=a[wn])}let n=r.toLowerCase().replace(/-/g,""),i=hh(n);i=i.slice(4,i.length);let s=new this(i);if(s.toText()!==r)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return s}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Ta}toUint8Array(){return this._arr}toHex(){return Nh(this._arr).toUpperCase()}toText(){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,ph(this._arr));let r=new Uint8Array(t),n=Uint8Array.from(this._arr),i=new Uint8Array([...r,...n]),s=fh(i).match(/.{1,5}/g);if(!s)throw new Error;return s.join("-")}toString(){return this.toText()}toJSON(){return{[wn]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){let r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){let r=this.compareTo(t);return r=="gt"||r=="eq"}},ht=class bc extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,bc.prototype)}},Oh=rr(js()),Tr=rr(Ii()),$h=rr(Ii());function wt(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0)),r=0;for(let n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function Qe(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}var Rh=new RegExp(/^[0-9a-fA-F]+$/);function Lt(e){if(!Rh.test(e))throw new Error("Invalid hexadecimal string.");let t=[...e].reduce((r,n,i)=>(r[i/2|0]=(r[i/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function mc(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;let r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return r[i]-n[i];return 0}function wc(e,t){return mc(e,t)===0}function Zr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function zs(e){return e instanceof Uint8Array?Zr(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Zr(new Uint8Array(e)):"buffer"in e?zs(e.buffer):Zr(new Uint8Array(e))}var Uh=class{get name(){return"Principal"}get priority(){return 0}match(e){return e&&e._isPrincipal===!0}encode(e){return Tr.value.bytes(e.toUint8Array())}},Ph=class{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return Tr.value.bytes(new Uint8Array(t))}},Lh=class{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?Tr.value.tagged(2,Tr.value.bytes(Lt(t.toString(16)))):Tr.value.tagged(3,Tr.value.bytes(Lt((BigInt("-1")*t).toString(16))))}},Ti=$h.SelfDescribeCborSerializer.withDefaultEncoders(!0);Ti.addEncoder(new Uh);Ti.addEncoder(new Ph);Ti.addEncoder(new Lh);var ds;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(ds||(ds={}));function Mi(e){return Ti.serialize(e)}function Ba(e){let t=e.byteLength,r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}var kh=class extends Oh.default.Decoder{createByteString(t){return wt(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}};function Pt(e){let t=new Uint8Array(e),r=new kh({size:t.byteLength,tags:{2:n=>Ba(n),3:n=>-Ba(n),[ds.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${Qe(t)}`)}}var en={};wi(en,{Bool:()=>qc,BoolClass:()=>Ic,ConstructType:()=>nr,Empty:()=>Mc,EmptyClass:()=>Ac,FixedIntClass:()=>yr,FixedNatClass:()=>Qt,Float32:()=>Yc,Float64:()=>Wc,FloatClass:()=>Hs,Func:()=>fu,FuncClass:()=>Ys,Int:()=>Gc,Int16:()=>Jc,Int32:()=>Xc,Int64:()=>Qc,Int8:()=>Zc,IntClass:()=>Sc,Nat:()=>Kc,Nat16:()=>tu,Nat32:()=>ru,Nat64:()=>nu,Nat8:()=>eu,NatClass:()=>Nc,Null:()=>zc,NullClass:()=>Tc,Opt:()=>ou,OptClass:()=>ci,PrimitiveType:()=>pt,Principal:()=>iu,PrincipalClass:()=>Dc,Rec:()=>lu,RecClass:()=>Lr,Record:()=>cu,RecordClass:()=>Gs,Reserved:()=>Vc,ReservedClass:()=>oi,Service:()=>hu,ServiceClass:()=>jc,Text:()=>Hc,TextClass:()=>Bc,Tuple:()=>su,TupleClass:()=>Pc,Type:()=>Bi,Unknown:()=>zh,UnknownClass:()=>xc,Variant:()=>uu,VariantClass:()=>kc,Vec:()=>au,VecClass:()=>Oc,Visitor:()=>Mh,decode:()=>qh,encode:()=>Vh});function Re(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0)),r=0;for(let n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}var Pr=class{constructor(e,t=(e==null?void 0:e.byteLength)||0){this._buffer=ps(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,t)}get buffer(){return ps(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){let t=this._view.subarray(0,e);return this._view=this._view.subarray(e),t.slice().buffer}readUint8(){let e=this._view[0];return this._view=this._view.subarray(1),e}write(e){let t=new Uint8Array(e),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+t.byteLength>=this._buffer.byteLength?this.alloc(t.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+t.byteLength),this._view.set(t,r)}get end(){return this._view.byteLength===0}alloc(e){let t=new ArrayBuffer((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(t,0,this._view.byteLength+e);r.set(this._view),this._buffer=t,this._view=r}};function Vi(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ps(e){return e instanceof Uint8Array?Vi(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Vi(new Uint8Array(e)):"buffer"in e?ps(e.buffer):Vi(new Uint8Array(e))}function Ch(e){let t=new TextEncoder().encode(e),r=0;for(let n of t)r=(r*223+n)%2**32;return r}function Tt(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){let t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return Ch(e)}function vc(){throw new Error("unexpected end of buffer")}function pr(e,t){return e.byteLength<t&&vc(),e.read(t)}function gr(e){let t=e.readUint8();return t===void 0&&vc(),t}function je(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");let t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new Pr(new ArrayBuffer(t),0);for(;;){let n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function Ye(e){let t=BigInt(1),r=BigInt(0),n;do n=gr(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function He(e){typeof e=="number"&&(e=BigInt(e));let t=e<BigInt(0);t&&(e=-e-BigInt(1));let r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new Pr(new ArrayBuffer(r),0);for(;;){let s=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&s&64||!t&&e===BigInt(0)&&!(s&64)){n.write(new Uint8Array([s]));break}else n.write(new Uint8Array([s|128]))}function i(s){let a=s%BigInt(128);return Number(t?BigInt(128)-a-BigInt(1):a)}return n.buffer}function Ht(e){let t=new Uint8Array(e.buffer),r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return Ye(e);break}let n=new Uint8Array(pr(e,r+1)),i=BigInt(0);for(let s=n.byteLength-1;s>=0;s--)i=i*BigInt(128)+BigInt(128-(n[s]&127)-1);return-i-BigInt(1)}function Fh(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return _c(e,t)}function _c(e,t){e=BigInt(e);let r=new Pr(new ArrayBuffer(Math.min(1,t)),0),n=0,i=BigInt(256),s=BigInt(0),a=Number(e%i);for(r.write(new Uint8Array([a]));++n<t;)e<0&&s===BigInt(0)&&a!==0&&(s=BigInt(1)),a=Number((e/i-s)%BigInt(256)),r.write(new Uint8Array([a])),i*=BigInt(256);return r.buffer}function Ec(e,t){let r=BigInt(gr(e)),n=BigInt(1),i=0;for(;++i<t;){n*=BigInt(256);let s=BigInt(gr(e));r=r+n*s}return r}function Dh(e,t){let r=Ec(e,t),n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function gs(e){let t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}var Pn="DIDL",Sa=400;function tn(e,t,r){return e.map((n,i)=>r(n,t[i]))}var jh=class{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){let n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){let n=this._idx.get(t.name),i=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[i],this._typs.splice(i,1),this._idx.delete(r)}encode(){let t=je(this._typs.length),r=Re(...this._typs);return Re(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return He(this._idx.get(t)||0)}},Mh=class{visitType(e,t){throw new Error("Not implemented")}visitPrimitive(e,t){return this.visitType(e,t)}visitEmpty(e,t){return this.visitPrimitive(e,t)}visitBool(e,t){return this.visitPrimitive(e,t)}visitNull(e,t){return this.visitPrimitive(e,t)}visitReserved(e,t){return this.visitPrimitive(e,t)}visitText(e,t){return this.visitPrimitive(e,t)}visitNumber(e,t){return this.visitPrimitive(e,t)}visitInt(e,t){return this.visitNumber(e,t)}visitNat(e,t){return this.visitNumber(e,t)}visitFloat(e,t){return this.visitPrimitive(e,t)}visitFixedInt(e,t){return this.visitNumber(e,t)}visitFixedNat(e,t){return this.visitNumber(e,t)}visitPrincipal(e,t){return this.visitPrimitive(e,t)}visitConstruct(e,t){return this.visitType(e,t)}visitVec(e,t,r){return this.visitConstruct(e,r)}visitOpt(e,t,r){return this.visitConstruct(e,r)}visitRecord(e,t,r){return this.visitConstruct(e,r)}visitTuple(e,t,r){let n=t.map((i,s)=>[`_${s}_`,i]);return this.visitRecord(e,n,r)}visitVariant(e,t,r){return this.visitConstruct(e,r)}visitRec(e,t,r){return this.visitConstruct(t,r)}visitFunc(e,t){return this.visitConstruct(e,t)}visitService(e,t){return this.visitConstruct(e,t)}},Bi=class{display(){return this.name}valueToString(t){return Me(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}},pt=class extends Bi{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}},nr=class extends Bi{checkType(e){if(e instanceof Lr){let t=e.getType();if(typeof t>"u")throw new Error("type mismatch with uninitialized type");return t}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}},Ac=class extends pt{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return He(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}},xc=class extends Bi{checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,t){throw e.visitType(this,t)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${Me(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,t){let r=t.decodeValue(e,t);Object(r)!==r&&(r=Object(r));let n;return t instanceof Lr?n=()=>t.getType():n=()=>t,Object.defineProperty(r,"type",{value:n,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}},Ic=class extends pt{accept(e,t){return e.visitBool(this,t)}covariant(e){if(typeof e=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return He(-2)}decodeValue(e,t){switch(this.checkType(t),gr(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}},Tc=class extends pt{accept(e,t){return e.visitNull(this,t)}covariant(e){if(e===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(e)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return He(-1)}decodeValue(e,t){return this.checkType(t),null}get name(){return"null"}},oi=class extends pt{accept(e,t){return e.visitReserved(this,t)}covariant(e){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return He(-16)}decodeValue(e,t){return t.name!==this.name&&t.decodeValue(e,t),null}get name(){return"reserved"}},Bc=class extends pt{accept(e,t){return e.visitText(this,t)}covariant(e){if(typeof e=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(e)}`)}encodeValue(e){let t=new TextEncoder().encode(e),r=je(t.byteLength);return Re(r,t)}encodeType(){return He(-15)}decodeValue(e,t){this.checkType(t);let r=Ye(e),n=pr(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(n)}get name(){return"text"}valueToString(e){return'"'+e+'"'}},Sc=class extends pt{accept(e,t){return e.visitInt(this,t)}covariant(e){if(typeof e=="bigint"||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(e)}`)}encodeValue(e){return He(e)}encodeType(){return He(-4)}decodeValue(e,t){return this.checkType(t),Ht(e)}get name(){return"int"}valueToString(e){return e.toString()}},Nc=class extends pt{accept(e,t){return e.visitNat(this,t)}covariant(e){if(typeof e=="bigint"&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(e)}`)}encodeValue(e){return je(e)}encodeType(){return He(-3)}decodeValue(e,t){return this.checkType(t),Ye(e)}get name(){return"nat"}valueToString(e){return e.toString()}},Hs=class extends pt{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){let r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){let t=this._bits===32?-13:-14;return He(t)}decodeValue(t,r){this.checkType(r);let n=pr(t,this._bits/8),i=new DataView(n);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}},yr=class extends pt{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){let r=gs(this._bits-1)*BigInt(-1),n=gs(this._bits-1)-BigInt(1),i=!1;if(typeof t=="bigint")i=t>=r&&t<=n;else if(Number.isInteger(t)){let s=BigInt(t);i=s>=r&&s<=n}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){return _c(t,this._bits/8)}encodeType(){let t=Math.log2(this._bits)-3;return He(-9-t)}decodeValue(t,r){this.checkType(r);let n=Dh(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}},Qt=class extends pt{constructor(e){super(),this._bits=e}accept(e,t){return e.visitFixedNat(this,t)}covariant(e){let t=gs(this._bits),r=!1;if(typeof e=="bigint"&&e>=BigInt(0)?r=e<t:Number.isInteger(e)&&e>=0?r=BigInt(e)<t:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(e)}`)}encodeValue(e){return Fh(e,this._bits/8)}encodeType(){let e=Math.log2(this._bits)-3;return He(-5-e)}decodeValue(e,t){this.checkType(t);let r=Ec(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}},Oc=class $c extends nr{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof Qt&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){let r=this._type instanceof Qt?this._type._bits:this._type instanceof yr?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,i)=>{try{return this._type.covariant(n)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){let r=je(t.length);if(this._blobOptimization)return Re(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return Re(r,new Uint8Array(t.buffer));let n=new Pr(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(let i of t){let s=this._type.encodeValue(i);n.write(new Uint8Array(s))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);let r=He(-19),n=this._type.encodeType(t);t.add(this,Re(r,n))}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof $c))throw new Error("Not a vector type");let i=Number(Ye(t));if(this._type instanceof Qt){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof yr){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}let s=[];for(let a=0;a<i;a++)s.push(this._type.decodeValue(t,n._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(r=>this._type.valueToString(r)).join("; ")+"}"}},ci=class Rc extends nr{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${Me(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Re(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);let r=He(-18),n=this._type.encodeType(t);t.add(this,Re(r,n))}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof Rc))throw new Error("Not an option type");switch(gr(t)){case 0:return[];case 1:return[this._type.decodeValue(t,n._type)];default:throw new Error("Not an option value")}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}},Gs=class Uc extends nr{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Tt(r[0])-Tt(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){let t=[];for(let r=0;r<this._fields.length;r++){let[n,i]=this._fields[r];if(n!==`_${r}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){let r=this._fields.map(([i])=>t[i]),n=tn(this._fields,r,([,i],s)=>i.encodeValue(s));return Re(...n)}_buildTypeTableImpl(t){this._fields.forEach(([s,a])=>a.buildTypeTable(t));let r=He(-20),n=je(this._fields.length),i=this._fields.map(([s,a])=>Re(je(Tt(s)),a.encodeType(t)));t.add(this,Re(r,n,Re(...i)))}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof Uc))throw new Error("Not a record type");let i={},s=0,a=0;for(;a<n._fields.length;){let[c,u]=n._fields[a];if(s>=this._fields.length){u.decodeValue(t,u),a++;continue}let[d,f]=this._fields[s],y=Tt(this._fields[s][0]),O=Tt(c);if(y===O)i[d]=f.decodeValue(t,u),s++,a++;else if(O>y)if(f instanceof ci||f instanceof oi)i[d]=[],s++;else throw new Error("Cannot find required field "+d);else u.decodeValue(t,u),a++}for(let[c,u]of this._fields.slice(s))if(u instanceof ci||u instanceof oi)i[c]=[];else throw new Error("Cannot find required field "+c);return i}get name(){return`record {${this._fields.map(([t,r])=>t+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([t,r])=>t+":"+r.display()).join("; ")}}`}valueToString(t){let r=this._fields.map(([n])=>t[n]);return`record {${tn(this._fields,r,([n,i],s)=>n+"="+i.valueToString(s)).join("; ")}}`}},Pc=class Lc extends Gs{constructor(t){let r={};t.forEach((n,i)=>r["_"+i+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){let r=tn(this._components,t,(n,i)=>n.encodeValue(i));return Re(...r)}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof Lc))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");let i=[];for(let[s,a]of n._components.entries())s>=this._components.length?a.decodeValue(t,a):i.push(this._components[s].decodeValue(t,a));return i}display(){return`record {${this._components.map(t=>t.display()).join("; ")}}`}valueToString(t){return`record {${tn(this._components,t,(r,n)=>r.valueToString(n)).join("; ")}}`}},kc=class Cc extends nr{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Tt(r[0])-Tt(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){let[n,i]=this._fields[r];if(t.hasOwnProperty(n)){let s=je(r),a=i.encodeValue(t[n]);return Re(s,a)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,s])=>{s.buildTypeTable(t)});let r=He(-21),n=je(this._fields.length),i=this._fields.map(([s,a])=>Re(je(Tt(s)),a.encodeType(t)));t.add(this,Re(r,n,...i))}decodeValue(t,r){let n=this.checkType(r);if(!(n instanceof Cc))throw new Error("Not a variant type");let i=Number(Ye(t));if(i>=n._fields.length)throw Error("Invalid variant index: "+i);let[s,a]=n._fields[i];for(let[c,u]of this._fields)if(Tt(s)===Tt(c)){let d=u.decodeValue(t,a);return{[c]:d}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([t,r])=>t+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([t,r])=>t+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(t){for(let[r,n]of this._fields)if(t.hasOwnProperty(r)){let i=n.valueToString(t[r]);return i==="null"?`variant {${r}}`:`variant {${r}=${i}}`}throw new Error("Variant has no data: "+t)}},Lr=class Fc extends nr{constructor(){super(...arguments),this._id=Fc._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}};Lr._counter=0;function Ks(e){if(gr(e)!==1)throw new Error("Cannot decode principal");let t=Number(Ye(e));return Ae.fromUint8Array(new Uint8Array(pr(e,t)))}var Dc=class extends pt{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){let r=t.toUint8Array(),n=je(r.byteLength);return Re(new Uint8Array([1]),n,r)}encodeType(){return He(-24)}decodeValue(t,r){return this.checkType(r),Ks(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}},Ys=class extends nr{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,i)=>n.valueToString(r[i])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue([t,r]){let n=t.toUint8Array(),i=je(n.byteLength),s=Re(new Uint8Array([1]),i,n),a=new TextEncoder().encode(r),c=je(a.byteLength);return Re(new Uint8Array([1]),s,c,a)}_buildTypeTableImpl(t){this.argTypes.forEach(d=>d.buildTypeTable(t)),this.retTypes.forEach(d=>d.buildTypeTable(t));let r=He(-22),n=je(this.argTypes.length),i=Re(...this.argTypes.map(d=>d.encodeType(t))),s=je(this.retTypes.length),a=Re(...this.retTypes.map(d=>d.encodeType(t))),c=je(this.annotations.length),u=Re(...this.annotations.map(d=>this.encodeAnnotation(d)));t.add(this,Re(r,n,i,s,a,c,u))}decodeValue(t){if(gr(t)!==1)throw new Error("Cannot decode function reference");let r=Ks(t),n=Number(Ye(t)),i=pr(t,n),s=new TextDecoder("utf8",{fatal:!0}).decode(i);return[r,s]}get name(){let t=this.argTypes.map(i=>i.name).join(", "),r=this.retTypes.map(i=>i.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){let t=this.argTypes.map(i=>i.display()).join(", "),r=this.retTypes.map(i=>i.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t}) → (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}},jc=class extends nr{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Me(t)}`)}encodeValue(t){let r=t.toUint8Array(),n=je(r.length);return Re(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([s,a])=>a.buildTypeTable(t));let r=He(-23),n=je(this._fields.length),i=this._fields.map(([s,a])=>{let c=new TextEncoder().encode(s),u=je(c.length);return Re(u,c,a.encodeType(t))});t.add(this,Re(r,n,...i))}decodeValue(t){return Ks(t)}get name(){return`service {${this._fields.map(([t,r])=>t+":"+r.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}};function Me(e){let t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>Sa?t.substring(0,Sa-3)+"...":t}function Vh(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");let r=new jh;e.forEach(u=>u.buildTypeTable(r));let n=new TextEncoder().encode(Pn),i=r.encode(),s=je(t.length),a=Re(...e.map(u=>u.encodeType(r))),c=Re(...tn(e,t,(u,d)=>{try{u.covariant(d)}catch(f){throw new Error(f.message+`

`)}return u.encodeValue(d)}));return Re(n,i,s,a,c)}function qh(e,t){let r=new Pr(t);if(t.byteLength<Pn.length)throw new Error("Message length smaller than magic number");let n=pr(r,Pn.length),i=new TextDecoder().decode(n);if(i!==Pn)throw new Error("Wrong magic number: "+JSON.stringify(i));function s(p){let g=[],w=Number(Ye(p));for(let k=0;k<w;k++){let F=Number(Ht(p));switch(F){case-18:case-19:{let Q=Number(Ht(p));g.push([F,Q]);break}case-20:case-21:{let Q=[],X=Number(Ye(p)),te;for(;X--;){let G=Number(Ye(p));if(G>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof te=="number"&&te>=G)throw new Error("field id collision or not sorted");te=G;let K=Number(Ht(p));Q.push([G,K])}g.push([F,Q]);break}case-22:{let Q=[],X=Number(Ye(p));for(;X--;)Q.push(Number(Ht(p)));let te=[],G=Number(Ye(p));for(;G--;)te.push(Number(Ht(p)));let K=[],ge=Number(Ye(p));for(;ge--;)switch(Number(Ye(p))){case 1:{K.push("query");break}case 2:{K.push("oneway");break}case 3:{K.push("composite_query");break}default:throw new Error("unknown annotation")}g.push([F,[Q,te,K]]);break}case-23:{let Q=Number(Ye(p)),X=[];for(;Q--;){let te=Number(Ye(p)),G=new TextDecoder().decode(pr(p,te)),K=Ht(p);X.push([G,K])}g.push([F,X]);break}default:throw new Error("Illegal op_code: "+F)}}let B=[],L=Number(Ye(p));for(let k=0;k<L;k++)B.push(Number(Ht(p)));return[g,B]}let[a,c]=s(r);if(c.length<e.length)throw new Error("Wrong number of return values");let u=a.map(p=>lu());function d(p){if(p<-24)throw new Error("future value not supported");if(p<0)switch(p){case-1:return zc;case-2:return qc;case-3:return Kc;case-4:return Gc;case-5:return eu;case-6:return tu;case-7:return ru;case-8:return nu;case-9:return Zc;case-10:return Jc;case-11:return Xc;case-12:return Qc;case-13:return Yc;case-14:return Wc;case-15:return Hc;case-16:return Vc;case-17:return Mc;case-24:return iu;default:throw new Error("Illegal op_code: "+p)}if(p>=a.length)throw new Error("type index out of range");return u[p]}function f(p){switch(p[0]){case-19:{let g=d(p[1]);return au(g)}case-18:{let g=d(p[1]);return ou(g)}case-20:{let g={};for(let[L,k]of p[1]){let F=`_${L}_`;g[F]=d(k)}let w=cu(g),B=w.tryAsTuple();return Array.isArray(B)?su(...B):w}case-21:{let g={};for(let[w,B]of p[1]){let L=`_${w}_`;g[L]=d(B)}return uu(g)}case-22:{let[g,w,B]=p[1];return fu(g.map(L=>d(L)),w.map(L=>d(L)),B)}case-23:{let g={},w=p[1];for(let[B,L]of w){let k=d(L);if(k instanceof Lr&&(k=k.getType()),!(k instanceof Ys))throw new Error("Illegal service definition: services can only contain functions");g[B]=k}return hu(g)}default:throw new Error("Illegal op_code: "+p[0])}}a.forEach((p,g)=>{if(p[0]===-22){let w=f(p);u[g].fill(w)}}),a.forEach((p,g)=>{if(p[0]!==-22){let w=f(p);u[g].fill(w)}});let y=c.map(p=>d(p)),O=e.map((p,g)=>p.decodeValue(r,y[g]));for(let p=e.length;p<y.length;p++)y[p].decodeValue(r,y[p]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return O}var Mc=new Ac,Vc=new oi,zh=new xc,qc=new Ic,zc=new Tc,Hc=new Bc,Gc=new Sc,Kc=new Nc,Yc=new Hs(32),Wc=new Hs(64),Zc=new yr(8),Jc=new yr(16),Xc=new yr(32),Qc=new yr(64),eu=new Qt(8),tu=new Qt(16),ru=new Qt(32),nu=new Qt(64),iu=new Dc;function su(...e){return new Pc(e)}function au(e){return new Oc(e)}function ou(e){return new ci(e)}function cu(e){return new Gs(e)}function uu(e){return new kc(e)}function lu(){return new Lr}function fu(e,t,r=[]){return new Ys(e,t,r)}function hu(e){return new jc(e)}var Hh=rr(js());function mt(e){return Zr(qs.create().update(new Uint8Array(e)).digest())}function Ln(e){if(e instanceof Hh.default.Tagged)return Ln(e.value);if(typeof e=="string")return du(e);if(typeof e=="number")return mt(je(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return mt(e);if(Array.isArray(e)){let t=e.map(Ln);return mt(wt(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return mt(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return Ln(e.toHash());if(typeof e=="object")return ui(e);if(typeof e=="bigint")return mt(je(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}var du=e=>{let t=new TextEncoder().encode(e);return mt(t)};function rn(e){return ui(e)}function ui(e){let t=Object.entries(e).filter(([,n])=>n!==void 0).map(([n,i])=>{let s=du(n),a=Ln(i);return[s,a]}).sort(([n],[i])=>mc(n,i)),r=wt(...t.map(n=>wt(...n)));return mt(r)}var Gh={};wi(Gh,{abytes:()=>Ct,bitGet:()=>li,bitLen:()=>Sr,bitMask:()=>fn,bitSet:()=>Jh,bytesToHex:()=>tr,bytesToNumberBE:()=>ft,bytesToNumberLE:()=>Br,concatBytes:()=>De,createHmacDrbg:()=>Xh,ensureBytes:()=>it,equalBytes:()=>Zh,hexToBytes:()=>Ni,hexToNumber:()=>Ws,isBytes:()=>ln,numberToBytesBE:()=>We,numberToBytesLE:()=>nn,numberToHexUnpadded:()=>gu,numberToVarBytesBE:()=>Wh,utf8ToBytes:()=>Oi,validateObject:()=>kr});var pu=BigInt(0),Si=BigInt(1),Kh=BigInt(2);function ln(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ct(e){if(!ln(e))throw new Error("Uint8Array expected")}var Yh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tr(e){Ct(e);let t="";for(let r=0;r<e.length;r++)t+=Yh[e[r]];return t}function gu(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function Ws(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}var $t={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Na(e){if(e>=$t._0&&e<=$t._9)return e-$t._0;if(e>=$t._A&&e<=$t._F)return e-($t._A-10);if(e>=$t._a&&e<=$t._f)return e-($t._a-10)}function Ni(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=Na(e.charCodeAt(s)),c=Na(e.charCodeAt(s+1));if(a===void 0||c===void 0){let u=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+c}return n}function ft(e){return Ws(tr(e))}function Br(e){return Ct(e),Ws(tr(Uint8Array.from(e).reverse()))}function We(e,t){return Ni(e.toString(16).padStart(t*2,"0"))}function nn(e,t){return We(e,t).reverse()}function Wh(e){return Ni(gu(e))}function it(e,t,r){let n;if(typeof t=="string")try{n=Ni(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(ln(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function De(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];Ct(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}function Zh(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function Oi(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Sr(e){let t;for(t=0;e>pu;e>>=Si,t+=1);return t}function li(e,t){return e>>BigInt(t)&Si}function Jh(e,t,r){return e|(r?Si:pu)<<BigInt(t)}var fn=e=>(Kh<<BigInt(e-1))-Si,qi=e=>new Uint8Array(e),Oa=e=>Uint8Array.from(e);function Xh(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=qi(e),i=qi(e),s=0,a=()=>{n.fill(1),i.fill(0),s=0},c=(...f)=>r(i,n,...f),u=(f=qi())=>{i=c(Oa([0]),f),n=c(),f.length!==0&&(i=c(Oa([1]),f),n=c())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,y=[];for(;f<t;){n=c();let O=n.slice();y.push(O),f+=n.length}return De(...y)};return(f,y)=>{a(),u(f);let O;for(;!(O=y(d()));)u();return a(),O}}var Qh={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ln(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function kr(e,t,r={}){let n=(i,s,a)=>{let c=Qh[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=e[i];if(!(a&&u===void 0)&&!c(u,e))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(let[i,s]of Object.entries(t))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return e}var Xe=BigInt(0),ke=BigInt(1),cr=BigInt(2),ed=BigInt(3),ys=BigInt(4),$a=BigInt(5),Ra=BigInt(8);BigInt(9);BigInt(16);function Fe(e,t){let r=e%t;return r>=Xe?r:t+r}function td(e,t,r){if(r<=Xe||t<Xe)throw new Error("Expected power/modulo > 0");if(r===ke)return Xe;let n=ke;for(;t>Xe;)t&ke&&(n=n*e%r),e=e*e%r,t>>=ke;return n}function _t(e,t,r){let n=e;for(;t-- >Xe;)n*=n,n%=r;return n}function Ua(e,t){if(e===Xe||t<=Xe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Fe(e,t),n=t,i=Xe,s=ke;for(;r!==Xe;){let a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==ke)throw new Error("invert: does not exist");return Fe(i,t)}function rd(e){let t=(e-ke)/cr,r,n,i;for(r=e-ke,n=0;r%cr===Xe;r/=cr,n++);for(i=cr;i<e&&td(i,t,e)!==e-ke;i++);if(n===1){let a=(e+ke)/ys;return function(c,u){let d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}let s=(r+ke)/cr;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,d=a.pow(a.mul(a.ONE,i),r),f=a.pow(c,s),y=a.pow(c,r);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let O=1;for(let g=a.sqr(y);O<u&&!a.eql(g,a.ONE);O++)g=a.sqr(g);let p=a.pow(d,ke<<BigInt(u-O-1));d=a.sqr(p),f=a.mul(f,p),y=a.mul(y,d),u=O}return f}}function nd(e){if(e%ys===ed){let t=(e+ke)/ys;return function(r,n){let i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%Ra===$a){let t=(e-$a)/Ra;return function(r,n){let i=r.mul(n,cr),s=r.pow(i,t),a=r.mul(n,s),c=r.mul(r.mul(a,cr),s),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}}return rd(e)}var id=(e,t)=>(Fe(e,t)&ke)===ke,sd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yu(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=sd.reduce((n,i)=>(n[i]="function",n),t);return kr(e,r)}function $i(e,t,r){if(r<Xe)throw new Error("Expected power > 0");if(r===Xe)return e.ONE;if(r===ke)return t;let n=e.ONE,i=t;for(;r>Xe;)r&ke&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ke;return n}function Ri(e,t){let r=new Array(t.length),n=t.reduce((s,a,c)=>e.is0(a)?s:(r[c]=s,e.mul(s,a)),e.ONE),i=e.inv(n);return t.reduceRight((s,a,c)=>e.is0(a)?s:(r[c]=e.mul(s,r[c]),e.mul(s,a)),i),r}function bu(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Zs(e,t,r=!1,n={}){if(e<=Xe)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=bu(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=nd(e),c=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:fn(i),ZERO:Xe,ONE:ke,create:u=>Fe(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Xe<=u&&u<e},is0:u=>u===Xe,isOdd:u=>(u&ke)===ke,neg:u=>Fe(-u,e),eql:(u,d)=>u===d,sqr:u=>Fe(u*u,e),add:(u,d)=>Fe(u+d,e),sub:(u,d)=>Fe(u-d,e),mul:(u,d)=>Fe(u*d,e),pow:(u,d)=>$i(c,u,d),div:(u,d)=>Fe(u*Ua(d,e),e),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>Ua(u,e),sqrt:n.sqrt||(u=>a(c,u)),invertBatch:u=>Ri(c,u),cmov:(u,d,f)=>f?d:u,toBytes:u=>r?nn(u,s):We(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?Br(u):ft(u)}});return Object.freeze(c)}function ad(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function mu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function wu(e){let t=mu(e);return t+Math.ceil(t/2)}function od(e,t,r=!1){let n=e.length,i=mu(t),s=wu(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?ft(e):Br(e),c=Fe(a,t-ke)+ke;return r?nn(c,i):We(c,i)}var cd=ft;function Kt(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function ud(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Js(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function ld(e,t,r,n){Ct(e),Ct(t),Js(r),t.length>255&&(t=n(De(Oi("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:s}=n,a=Math.ceil(r/i);if(a>255)throw new Error("Invalid xmd length");let c=De(t,Kt(t.length,1)),u=Kt(0,s),d=Kt(r,2),f=new Array(a),y=n(De(u,e,d,Kt(0,1),c));f[0]=n(De(y,Kt(1,1),c));for(let O=1;O<=a;O++){let p=[ud(y,f[O-1]),Kt(O+1,1),c];f[O]=n(De(...p))}return De(...f).slice(0,r)}function fd(e,t,r,n,i){if(Ct(e),Ct(t),Js(r),t.length>255){let s=Math.ceil(2*n/8);t=i.create({dkLen:s}).update(Oi("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Kt(r,2)).update(t).update(Kt(t.length,1)).digest()}function Pa(e,t,r){kr(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:a,expand:c,DST:u}=r;Ct(e),Js(t);let d=typeof u=="string"?Oi(u):u,f=n.toString(2).length,y=Math.ceil((f+i)/8),O=t*s*y,p;if(c==="xmd")p=ld(e,d,O,a);else if(c==="xof")p=fd(e,d,O,i,a);else if(c==="_internal_pass")p=e;else throw new Error('expand must be "xmd" or "xof"');let g=new Array(t);for(let w=0;w<t;w++){let B=new Array(s);for(let L=0;L<s;L++){let k=y*(L+w*s),F=p.subarray(k,k+y);B[L]=Fe(cd(F),n)}g[w]=B}return g}function vu(e,t){let r=t.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,a,c,u]=r.map(d=>d.reduce((f,y)=>e.add(e.mul(f,n),y)));return n=e.div(s,a),i=e.mul(i,e.div(c,u)),{x:n,y:i}}}function La(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=Pa(n,2,{...r,DST:r.DST,...i}),a=e.fromAffine(t(s[0])),c=e.fromAffine(t(s[1])),u=a.add(c).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let s=Pa(n,1,{...r,DST:r.encodeDST,...i}),a=e.fromAffine(t(s[0])).clearCofactor();return a.assertValidity(),a}}}var hd=BigInt(0),zi=BigInt(1);function _u(e,t){let r=(i,s)=>{let a=s.negate();return i?a:s},n=i=>{let s=Math.ceil(t/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,s){let a=e.ZERO,c=i;for(;s>hd;)s&zi&&(a=a.add(c)),c=c.double(),s>>=zi;return a},precomputeWindow(i,s){let{windows:a,windowSize:c}=n(s),u=[],d=i,f=d;for(let y=0;y<a;y++){f=d,u.push(f);for(let O=1;O<c;O++)f=f.add(d),u.push(f);d=f.double()}return u},wNAF(i,s,a){let{windows:c,windowSize:u}=n(i),d=e.ZERO,f=e.BASE,y=BigInt(2**i-1),O=2**i,p=BigInt(i);for(let g=0;g<c;g++){let w=g*u,B=Number(a&y);a>>=p,B>u&&(B-=O,a+=zi);let L=w,k=w+Math.abs(B)-1,F=g%2!==0,Q=B<0;B===0?f=f.add(r(F,s[L])):d=d.add(r(Q,s[k]))}return{p:d,f}},wNAFCached(i,s,a,c){let u=i._WINDOW_SIZE||1,d=s.get(i);return d||(d=this.precomputeWindow(i,u),u!==1&&s.set(i,c(d))),this.wNAF(u,d,a)}}}function Eu(e){return yu(e.Fp),kr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function dd(e){let t=Eu(e);kr(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var ur=BigInt(0),Ze=BigInt(1),Mt=BigInt(2),fi=BigInt(3),ka=BigInt(4);function Ca(e){let t=dd(e),{Fp:r}=t,n=t.toBytes||((g,w,B)=>{let L=w.toAffine();return De(Uint8Array.from([4]),r.toBytes(L.x),r.toBytes(L.y))}),i=t.fromBytes||(g=>{let w=g.subarray(1),B=r.fromBytes(w.subarray(0,r.BYTES)),L=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:B,y:L}});function s(g){let{a:w,b:B}=t,L=r.sqr(g),k=r.mul(L,g);return r.add(r.add(k,r.mul(g,w)),B)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return typeof g=="bigint"&&ur<g&&g<t.n}function c(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(g){let{allowedPrivateKeyLengths:w,nByteLength:B,wrapPrivateKey:L,n:k}=t;if(w&&typeof g!="bigint"){if(ln(g)&&(g=tr(g)),typeof g!="string"||!w.includes(g.length))throw new Error("Invalid key");g=g.padStart(B*2,"0")}let F;try{F=typeof g=="bigint"?g:ft(it("private key",g,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof g}`)}return L&&(F=Fe(F,k)),c(F),F}let d=new Map;function f(g){if(!(g instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(w,B,L){if(this.px=w,this.py=B,this.pz=L,w==null||!r.isValid(w))throw new Error("x required");if(B==null||!r.isValid(B))throw new Error("y required");if(L==null||!r.isValid(L))throw new Error("z required")}static fromAffine(w){let{x:B,y:L}=w||{};if(!w||!r.isValid(B)||!r.isValid(L))throw new Error("invalid affine point");if(w instanceof y)throw new Error("projective point not allowed");let k=F=>r.eql(F,r.ZERO);return k(B)&&k(L)?y.ZERO:new y(B,L,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let B=r.invertBatch(w.map(L=>L.pz));return w.map((L,k)=>L.toAffine(B[k])).map(y.fromAffine)}static fromHex(w){let B=y.fromAffine(i(it("pointHex",w)));return B.assertValidity(),B}static fromPrivateKey(w){return y.BASE.multiply(u(w))}_setWindowSize(w){this._WINDOW_SIZE=w,d.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:w,y:B}=this.toAffine();if(!r.isValid(w)||!r.isValid(B))throw new Error("bad point: x or y not FE");let L=r.sqr(B),k=s(w);if(!r.eql(L,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){f(w);let{px:B,py:L,pz:k}=this,{px:F,py:Q,pz:X}=w,te=r.eql(r.mul(B,X),r.mul(F,k)),G=r.eql(r.mul(L,X),r.mul(Q,k));return te&&G}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){let{a:w,b:B}=t,L=r.mul(B,fi),{px:k,py:F,pz:Q}=this,X=r.ZERO,te=r.ZERO,G=r.ZERO,K=r.mul(k,k),ge=r.mul(F,F),I=r.mul(Q,Q),N=r.mul(k,F);return N=r.add(N,N),G=r.mul(k,Q),G=r.add(G,G),X=r.mul(w,G),te=r.mul(L,I),te=r.add(X,te),X=r.sub(ge,te),te=r.add(ge,te),te=r.mul(X,te),X=r.mul(N,X),G=r.mul(L,G),I=r.mul(w,I),N=r.sub(K,I),N=r.mul(w,N),N=r.add(N,G),G=r.add(K,K),K=r.add(G,K),K=r.add(K,I),K=r.mul(K,N),te=r.add(te,K),I=r.mul(F,Q),I=r.add(I,I),K=r.mul(I,N),X=r.sub(X,K),G=r.mul(I,ge),G=r.add(G,G),G=r.add(G,G),new y(X,te,G)}add(w){f(w);let{px:B,py:L,pz:k}=this,{px:F,py:Q,pz:X}=w,te=r.ZERO,G=r.ZERO,K=r.ZERO,ge=t.a,I=r.mul(t.b,fi),N=r.mul(B,F),se=r.mul(L,Q),ie=r.mul(k,X),x=r.add(B,L),Z=r.add(F,Q);x=r.mul(x,Z),Z=r.add(N,se),x=r.sub(x,Z),Z=r.add(B,k);let z=r.add(F,X);return Z=r.mul(Z,z),z=r.add(N,ie),Z=r.sub(Z,z),z=r.add(L,k),te=r.add(Q,X),z=r.mul(z,te),te=r.add(se,ie),z=r.sub(z,te),K=r.mul(ge,Z),te=r.mul(I,ie),K=r.add(te,K),te=r.sub(se,K),K=r.add(se,K),G=r.mul(te,K),se=r.add(N,N),se=r.add(se,N),ie=r.mul(ge,ie),Z=r.mul(I,Z),se=r.add(se,ie),ie=r.sub(N,ie),ie=r.mul(ge,ie),Z=r.add(Z,ie),N=r.mul(se,Z),G=r.add(G,N),N=r.mul(z,Z),te=r.mul(x,te),te=r.sub(te,N),N=r.mul(x,se),K=r.mul(z,K),K=r.add(K,N),new y(te,G,K)}subtract(w){return this.add(w.negate())}is0(){return this.equals(y.ZERO)}wNAF(w){return p.wNAFCached(this,d,w,B=>{let L=r.invertBatch(B.map(k=>k.pz));return B.map((k,F)=>k.toAffine(L[F])).map(y.fromAffine)})}multiplyUnsafe(w){let B=y.ZERO;if(w===ur)return B;if(c(w),w===Ze)return this;let{endo:L}=t;if(!L)return p.unsafeLadder(this,w);let{k1neg:k,k1:F,k2neg:Q,k2:X}=L.splitScalar(w),te=B,G=B,K=this;for(;F>ur||X>ur;)F&Ze&&(te=te.add(K)),X&Ze&&(G=G.add(K)),K=K.double(),F>>=Ze,X>>=Ze;return k&&(te=te.negate()),Q&&(G=G.negate()),G=new y(r.mul(G.px,L.beta),G.py,G.pz),te.add(G)}multiply(w){c(w);let B=w,L,k,{endo:F}=t;if(F){let{k1neg:Q,k1:X,k2neg:te,k2:G}=F.splitScalar(B),{p:K,f:ge}=this.wNAF(X),{p:I,f:N}=this.wNAF(G);K=p.constTimeNegate(Q,K),I=p.constTimeNegate(te,I),I=new y(r.mul(I.px,F.beta),I.py,I.pz),L=K.add(I),k=ge.add(N)}else{let{p:Q,f:X}=this.wNAF(B);L=Q,k=X}return y.normalizeZ([L,k])[0]}multiplyAndAddUnsafe(w,B,L){let k=y.BASE,F=(X,te)=>te===ur||te===Ze||!X.equals(k)?X.multiplyUnsafe(te):X.multiply(te),Q=F(this,B).add(F(w,L));return Q.is0()?void 0:Q}toAffine(w){let{px:B,py:L,pz:k}=this,F=this.is0();w==null&&(w=F?r.ONE:r.inv(k));let Q=r.mul(B,w),X=r.mul(L,w),te=r.mul(k,w);if(F)return{x:r.ZERO,y:r.ZERO};if(!r.eql(te,r.ONE))throw new Error("invZ was invalid");return{x:Q,y:X}}isTorsionFree(){let{h:w,isTorsionFree:B}=t;if(w===Ze)return!0;if(B)return B(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:B}=t;return w===Ze?this:B?B(y,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return this.assertValidity(),n(y,this,w)}toHex(w=!0){return tr(this.toRawBytes(w))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);let O=t.nBitLength,p=_u(y,t.endo?Math.ceil(O/2):O);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:a}}function pd(e,t){let r=e.ORDER,n=ur;for(let g=r-Ze;g%Mt===ur;g/=Mt)n+=Ze;let i=n,s=Mt<<i-Ze-Ze,a=s*Mt,c=(r-Ze)/a,u=(c-Ze)/Mt,d=a-Ze,f=s,y=e.pow(t,c),O=e.pow(t,(c+Ze)/Mt),p=(g,w)=>{let B=y,L=e.pow(w,d),k=e.sqr(L);k=e.mul(k,w);let F=e.mul(g,k);F=e.pow(F,u),F=e.mul(F,L),L=e.mul(F,w),k=e.mul(F,g);let Q=e.mul(k,L);F=e.pow(Q,f);let X=e.eql(F,e.ONE);L=e.mul(k,O),F=e.mul(Q,B),k=e.cmov(L,k,X),Q=e.cmov(F,Q,X);for(let te=i;te>Ze;te--){let G=te-Mt;G=Mt<<G-Ze;let K=e.pow(Q,G),ge=e.eql(K,e.ONE);L=e.mul(k,B),B=e.mul(B,B),K=e.mul(Q,B),k=e.cmov(L,k,ge),Q=e.cmov(K,Q,ge)}return{isValid:X,value:k}};if(e.ORDER%ka===fi){let g=(e.ORDER-fi)/ka,w=e.sqrt(e.neg(t));p=(B,L)=>{let k=e.sqr(L),F=e.mul(B,L);k=e.mul(k,F);let Q=e.pow(k,g);Q=e.mul(Q,F);let X=e.mul(Q,w),te=e.mul(e.sqr(Q),L),G=e.eql(te,B),K=e.cmov(X,Q,G);return{isValid:G,value:K}}}return p}function Au(e,t){if(yu(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=pd(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,a,c,u,d,f,y;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),a=e.add(s,e.ONE),a=e.mul(a,t.B),c=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),c=e.mul(c,t.A),s=e.sqr(a),d=e.sqr(c),u=e.mul(d,t.A),s=e.add(s,u),s=e.mul(s,a),d=e.mul(d,c),u=e.mul(d,t.B),s=e.add(s,u),f=e.mul(i,a);let{isValid:O,value:p}=r(s,d);y=e.mul(i,n),y=e.mul(y,p),f=e.cmov(f,a,O),y=e.cmov(y,p,O);let g=e.isOdd(n)===e.isOdd(y);return y=e.cmov(e.neg(y),y,g),f=e.div(f,c),{x:f,y}}}var Hi=BigInt(2),vn=BigInt(3);function gd(e){let{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:s}=e.fields,a=Sr(e.params.x);function c(z){let{x:M,y:V}=z,ee=M,oe=V,ae=n.ONE,le=ee,de=oe,E=ae,q=[];for(let ye=a-2;ye>=0;ye--){let Ie=n.sqr(de),ue=n.sqr(E),fe=n.multiplyByB(n.mul(ue,vn)),Be=n.mul(fe,vn),b=n.sub(n.sub(n.sqr(n.add(de,E)),ue),Ie);if(q.push([n.sub(fe,Ie),n.mul(n.sqr(le),vn),n.neg(b)]),le=n.div(n.mul(n.mul(n.sub(Ie,Be),le),de),Hi),de=n.sub(n.sqr(n.div(n.add(Ie,Be),Hi)),n.mul(n.sqr(fe),vn)),E=n.mul(Ie,b),li(e.params.x,ye)){let m=n.sub(de,n.mul(oe,E)),v=n.sub(le,n.mul(ee,E));q.push([n.sub(n.mul(m,ee),n.mul(v,oe)),n.neg(m),v]);let C=n.sqr(v),$=n.mul(C,v),T=n.mul(C,le),j=n.add(n.sub($,n.mul(T,Hi)),n.mul(n.sqr(m),E));le=n.mul(v,j),de=n.sub(n.mul(n.sub(T,j),m),n.mul($,de)),E=n.mul(E,$)}}return q}function u(z,M){let{x:V}=e.params,ee=M[0],oe=M[1],ae=s.ONE;for(let le=0,de=a-2;de>=0;de--,le++){let E=z[le];if(ae=s.multiplyBy014(ae,E[0],n.mul(E[1],ee),n.mul(E[2],oe)),li(V,de)){le+=1;let q=z[le];ae=s.multiplyBy014(ae,q[0],n.mul(q[1],ee),n.mul(q[2],oe))}de!==0&&(ae=s.sqr(ae))}return s.conjugate(ae)}let d={randomPrivateKey:()=>{let z=wu(r.ORDER);return od(e.randomBytes(z),r.ORDER)},calcPairingPrecomputes:c},f=Ca({n:r.ORDER,...e.G1}),y=Object.assign(f,La(f.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults}));function O(z){let M=z;return M._PPRECOMPUTES||(M._PPRECOMPUTES=c(z.toAffine())),M._PPRECOMPUTES}let p=Ca({n:r.ORDER,...e.G2}),g=Object.assign(p,La(p.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),{ShortSignature:w}=e.G1,{Signature:B}=e.G2;function L(z,M,V=!0){if(z.equals(y.ProjectivePoint.ZERO)||M.equals(g.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");z.assertValidity(),M.assertValidity();let ee=z.toAffine(),oe=u(O(M),[ee.x,ee.y]);return V?s.finalExponentiate(oe):oe}function k(z){return z instanceof y.ProjectivePoint?z:y.ProjectivePoint.fromHex(z)}function F(z,M){return z instanceof y.ProjectivePoint?z:y.hashToCurve(it("point",z),M)}function Q(z){return z instanceof g.ProjectivePoint?z:B.fromHex(z)}function X(z,M){return z instanceof g.ProjectivePoint?z:g.hashToCurve(it("point",z),M)}function te(z){return y.ProjectivePoint.fromPrivateKey(z).toRawBytes(!0)}function G(z){return g.ProjectivePoint.fromPrivateKey(z).toRawBytes(!0)}function K(z,M,V){let ee=X(z,V);ee.assertValidity();let oe=ee.multiply(y.normPrivateKeyToScalar(M));return z instanceof g.ProjectivePoint?oe:B.toRawBytes(oe)}function ge(z,M,V){let ee=F(z,V);ee.assertValidity();let oe=ee.multiply(y.normPrivateKeyToScalar(M));return z instanceof y.ProjectivePoint?oe:w.toRawBytes(oe)}function I(z,M,V,ee){let oe=k(V),ae=X(M,ee),le=y.ProjectivePoint.BASE,de=Q(z),E=L(oe.negate(),ae,!1),q=L(le,de,!1),ye=s.finalExponentiate(s.mul(q,E));return s.eql(ye,s.ONE)}function N(z,M,V,ee){let oe=Q(V),ae=F(M,ee),le=g.ProjectivePoint.BASE,de=k(z),E=L(ae,oe,!1),q=L(de,le.negate(),!1),ye=s.finalExponentiate(s.mul(q,E));return s.eql(ye,s.ONE)}function se(z){if(!z.length)throw new Error("Expected non-empty array");let M=z.map(k).reduce((V,ee)=>V.add(ee),y.ProjectivePoint.ZERO);return z[0]instanceof y.ProjectivePoint?(M.assertValidity(),M):M.toRawBytes(!0)}function ie(z){if(!z.length)throw new Error("Expected non-empty array");let M=z.map(Q).reduce((V,ee)=>V.add(ee),g.ProjectivePoint.ZERO);return z[0]instanceof g.ProjectivePoint?(M.assertValidity(),M):B.toRawBytes(M)}function x(z){if(!z.length)throw new Error("Expected non-empty array");let M=z.map(k).reduce((V,ee)=>V.add(ee),y.ProjectivePoint.ZERO);return z[0]instanceof y.ProjectivePoint?(M.assertValidity(),M):w.toRawBytes(M)}function Z(z,M,V,ee){if(!M.length)throw new Error("Expected non-empty messages array");if(V.length!==M.length)throw new Error("Pubkey count should equal msg count");let oe=Q(z),ae=M.map(de=>X(de,ee)),le=V.map(k);try{let de=[];for(let ye of new Set(ae)){let Ie=ae.reduce((ue,fe,Be)=>fe===ye?ue.add(le[Be]):ue,y.ProjectivePoint.ZERO);de.push(L(Ie,ye,!1))}de.push(L(y.ProjectivePoint.BASE.negate(),oe,!1));let E=de.reduce((ye,Ie)=>s.mul(ye,Ie),s.ONE),q=s.finalExponentiate(E);return s.eql(q,s.ONE)}catch{return!1}}return y.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:te,getPublicKeyForShortSignatures:G,sign:K,signShortSignature:ge,verify:I,verifyBatch:Z,verifyShortSignature:N,aggregatePublicKeys:se,aggregateSignatures:ie,aggregateShortSignatures:x,millerLoop:u,pairing:L,G1:y,G2:g,Signature:B,ShortSignature:w,fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:s},params:{x:e.params.x,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:d}}var qe=BigInt(0),hr=BigInt(1),Ce=BigInt(2),_n=BigInt(3),Jr=BigInt(4),yd=BigInt(8),bd=BigInt(16),bs=BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),W=Zs(bs),Fa=Zs(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),Da=({c0:e,c1:t},{c0:r,c1:n})=>({c0:W.add(e,r),c1:W.add(t,n)}),ja=({c0:e,c1:t},{c0:r,c1:n})=>({c0:W.sub(e,r),c1:W.sub(t,n)}),Ma=({c0:e,c1:t},r)=>{if(typeof r=="bigint")return{c0:W.mul(e,r),c1:W.mul(t,r)};let{c0:n,c1:i}=r,s=W.mul(e,n),a=W.mul(t,i),c=W.sub(s,a),u=W.sub(W.mul(W.add(e,t),W.add(n,i)),W.add(s,a));return{c0:c,c1:u}},Va=({c0:e,c1:t})=>{let r=W.add(e,t),n=W.sub(e,t),i=W.add(e,e);return{c0:W.mul(r,n),c1:W.mul(i,t)}},En=bs*bs,_={ORDER:En,BITS:Sr(En),BYTES:Math.ceil(Sr(En)/8),MASK:fn(Sr(En)),ZERO:{c0:W.ZERO,c1:W.ZERO},ONE:{c0:W.ONE,c1:W.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>typeof e=="bigint"&&typeof t=="bigint",is0:({c0:e,c1:t})=>W.is0(e)&&W.is0(t),eql:({c0:e,c1:t},{c0:r,c1:n})=>W.eql(e,r)&&W.eql(t,n),neg:({c0:e,c1:t})=>({c0:W.neg(e),c1:W.neg(t)}),pow:(e,t)=>$i(_,e,t),invertBatch:e=>Ri(_,e),add:Da,sub:ja,mul:Ma,sqr:Va,addN:Da,subN:ja,mulN:Ma,sqrN:Va,div:(e,t)=>_.mul(e,typeof t=="bigint"?W.inv(W.create(t)):_.inv(t)),inv:({c0:e,c1:t})=>{let r=W.inv(W.create(e*e+t*t));return{c0:W.mul(r,W.create(e)),c1:W.mul(r,W.create(-t))}},sqrt:e=>{if(_.eql(e,_.ZERO))return _.ZERO;let t=_.pow(e,(_.ORDER+yd)/bd),r=_.div(_.sqr(t),e),n=wd,i=[n[0],n[2],n[4],n[6]].find(p=>_.eql(p,r));if(!i)throw new Error("No root");let s=n.indexOf(i),a=n[s/2];if(!a)throw new Error("Invalid root");let c=_.div(t,a),u=_.neg(c),{re:d,im:f}=_.reim(c),{re:y,im:O}=_.reim(u);return f>O||f===O&&d>y?c:u},isOdd:e=>{let{re:t,im:r}=_.reim(e),n=t%Ce,i=t===qe,s=r%Ce;return BigInt(n||i&&s)==hr},fromBytes(e){if(e.length!==_.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:W.fromBytes(e.subarray(0,W.BYTES)),c1:W.fromBytes(e.subarray(W.BYTES))}},toBytes:({c0:e,c1:t})=>De(W.toBytes(e),W.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},i)=>({c0:W.cmov(e,r,i),c1:W.cmov(t,n,i)}),reim:({c0:e,c1:t})=>({re:e,im:t}),mulByNonresidue:({c0:e,c1:t})=>({c0:W.sub(e,t),c1:W.add(e,t)}),multiplyByB:({c0:e,c1:t})=>{let r=W.mul(e,Jr),n=W.mul(t,Jr);return{c0:W.sub(r,n),c1:W.add(r,n)}},fromBigTuple:e=>{if(e.length!==2)throw new Error("Invalid tuple");let t=e.map(r=>W.create(r));return{c0:t[0],c1:t[1]}},frobeniusMap:({c0:e,c1:t},r)=>({c0:e,c1:W.mul(t,md[r%2])})},md=[BigInt("0x1"),BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa")].map(e=>W.create(e)),Vt=BigInt("0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09"),wd=[[hr,qe],[Vt,-Vt],[qe,hr],[Vt,Vt],[-hr,qe],[-Vt,Vt],[qe,-hr],[-Vt,-Vt]].map(e=>_.fromBigTuple(e)),qa=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:s})=>({c0:_.add(e,n),c1:_.add(t,i),c2:_.add(r,s)}),za=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:s})=>({c0:_.sub(e,n),c1:_.sub(t,i),c2:_.sub(r,s)}),Ha=({c0:e,c1:t,c2:r},n)=>{if(typeof n=="bigint")return{c0:_.mul(e,n),c1:_.mul(t,n),c2:_.mul(r,n)};let{c0:i,c1:s,c2:a}=n,c=_.mul(e,i),u=_.mul(t,s),d=_.mul(r,a);return{c0:_.add(c,_.mulByNonresidue(_.sub(_.mul(_.add(t,r),_.add(s,a)),_.add(u,d)))),c1:_.add(_.sub(_.mul(_.add(e,t),_.add(i,s)),_.add(c,u)),_.mulByNonresidue(d)),c2:_.sub(_.add(u,_.mul(_.add(e,r),_.add(i,a))),_.add(c,d))}},Ga=({c0:e,c1:t,c2:r})=>{let n=_.sqr(e),i=_.mul(_.mul(e,t),Ce),s=_.mul(_.mul(t,r),Ce),a=_.sqr(r);return{c0:_.add(_.mulByNonresidue(s),n),c1:_.add(_.mulByNonresidue(a),i),c2:_.sub(_.sub(_.add(_.add(i,_.sqr(_.add(_.sub(e,t),r))),s),n),a)}},ce={ORDER:_.ORDER,BITS:3*_.BITS,BYTES:3*_.BYTES,MASK:fn(3*_.BITS),ZERO:{c0:_.ZERO,c1:_.ZERO,c2:_.ZERO},ONE:{c0:_.ONE,c1:_.ZERO,c2:_.ZERO},create:e=>e,isValid:({c0:e,c1:t,c2:r})=>_.isValid(e)&&_.isValid(t)&&_.isValid(r),is0:({c0:e,c1:t,c2:r})=>_.is0(e)&&_.is0(t)&&_.is0(r),neg:({c0:e,c1:t,c2:r})=>({c0:_.neg(e),c1:_.neg(t),c2:_.neg(r)}),eql:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:s})=>_.eql(e,n)&&_.eql(t,i)&&_.eql(r,s),sqrt:()=>{throw new Error("Not implemented")},div:(e,t)=>ce.mul(e,typeof t=="bigint"?W.inv(W.create(t)):ce.inv(t)),pow:(e,t)=>$i(ce,e,t),invertBatch:e=>Ri(ce,e),add:qa,sub:za,mul:Ha,sqr:Ga,addN:qa,subN:za,mulN:Ha,sqrN:Ga,inv:({c0:e,c1:t,c2:r})=>{let n=_.sub(_.sqr(e),_.mulByNonresidue(_.mul(r,t))),i=_.sub(_.mulByNonresidue(_.sqr(r)),_.mul(e,t)),s=_.sub(_.sqr(t),_.mul(e,r)),a=_.inv(_.add(_.mulByNonresidue(_.add(_.mul(r,i),_.mul(t,s))),_.mul(e,n)));return{c0:_.mul(a,n),c1:_.mul(a,i),c2:_.mul(a,s)}},fromBytes:e=>{if(e.length!==ce.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:_.fromBytes(e.subarray(0,_.BYTES)),c1:_.fromBytes(e.subarray(_.BYTES,2*_.BYTES)),c2:_.fromBytes(e.subarray(2*_.BYTES))}},toBytes:({c0:e,c1:t,c2:r})=>De(_.toBytes(e),_.toBytes(t),_.toBytes(r)),cmov:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:s},a)=>({c0:_.cmov(e,n,a),c1:_.cmov(t,i,a),c2:_.cmov(r,s,a)}),fromBigSix:e=>{if(!Array.isArray(e)||e.length!==6)throw new Error("Invalid Fp6 usage");return{c0:_.fromBigTuple(e.slice(0,2)),c1:_.fromBigTuple(e.slice(2,4)),c2:_.fromBigTuple(e.slice(4,6))}},frobeniusMap:({c0:e,c1:t,c2:r},n)=>({c0:_.frobeniusMap(e,n),c1:_.mul(_.frobeniusMap(t,n),vd[n%6]),c2:_.mul(_.frobeniusMap(r,n),_d[n%6])}),mulByNonresidue:({c0:e,c1:t,c2:r})=>({c0:_.mulByNonresidue(r),c1:e,c2:t}),multiplyBy1:({c0:e,c1:t,c2:r},n)=>({c0:_.mulByNonresidue(_.mul(r,n)),c1:_.mul(e,n),c2:_.mul(t,n)}),multiplyBy01({c0:e,c1:t,c2:r},n,i){let s=_.mul(e,n),a=_.mul(t,i);return{c0:_.add(_.mulByNonresidue(_.sub(_.mul(_.add(t,r),i),a)),s),c1:_.sub(_.sub(_.mul(_.add(n,i),_.add(e,t)),s),a),c2:_.add(_.sub(_.mul(_.add(e,r),n),s),a)}},multiplyByFp2:({c0:e,c1:t,c2:r},n)=>({c0:_.mul(e,n),c1:_.mul(t,n),c2:_.mul(r,n)})},vd=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x1")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe")]].map(e=>_.fromBigTuple(e)),_d=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaad"),BigInt("0x0")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa"),BigInt("0x0")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffff"),BigInt("0x0")]].map(e=>_.fromBigTuple(e)),Xs=BigInt("0xd201000000010000"),Ed=Sr(Xs),Ka=({c0:e,c1:t},{c0:r,c1:n})=>({c0:ce.add(e,r),c1:ce.add(t,n)}),Ya=({c0:e,c1:t},{c0:r,c1:n})=>({c0:ce.sub(e,r),c1:ce.sub(t,n)}),Wa=({c0:e,c1:t},r)=>{if(typeof r=="bigint")return{c0:ce.mul(e,r),c1:ce.mul(t,r)};let{c0:n,c1:i}=r,s=ce.mul(e,n),a=ce.mul(t,i);return{c0:ce.add(s,ce.mulByNonresidue(a)),c1:ce.sub(ce.mul(ce.add(e,t),ce.add(n,i)),ce.add(s,a))}},Za=({c0:e,c1:t})=>{let r=ce.mul(e,t);return{c0:ce.sub(ce.sub(ce.mul(ce.add(ce.mulByNonresidue(t),e),ce.add(e,t)),r),ce.mulByNonresidue(r)),c1:ce.add(r,r)}};function Gi(e,t){let r=_.sqr(e),n=_.sqr(t);return{first:_.add(_.mulByNonresidue(n),r),second:_.sub(_.sub(_.sqr(_.add(e,t)),r),n)}}var be={ORDER:_.ORDER,BITS:2*_.BITS,BYTES:2*_.BYTES,MASK:fn(2*_.BITS),ZERO:{c0:ce.ZERO,c1:ce.ZERO},ONE:{c0:ce.ONE,c1:ce.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>ce.isValid(e)&&ce.isValid(t),is0:({c0:e,c1:t})=>ce.is0(e)&&ce.is0(t),neg:({c0:e,c1:t})=>({c0:ce.neg(e),c1:ce.neg(t)}),eql:({c0:e,c1:t},{c0:r,c1:n})=>ce.eql(e,r)&&ce.eql(t,n),sqrt:()=>{throw new Error("Not implemented")},inv:({c0:e,c1:t})=>{let r=ce.inv(ce.sub(ce.sqr(e),ce.mulByNonresidue(ce.sqr(t))));return{c0:ce.mul(e,r),c1:ce.neg(ce.mul(t,r))}},div:(e,t)=>be.mul(e,typeof t=="bigint"?W.inv(W.create(t)):be.inv(t)),pow:(e,t)=>$i(be,e,t),invertBatch:e=>Ri(be,e),add:Ka,sub:Ya,mul:Wa,sqr:Za,addN:Ka,subN:Ya,mulN:Wa,sqrN:Za,fromBytes:e=>{if(e.length!==be.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:ce.fromBytes(e.subarray(0,ce.BYTES)),c1:ce.fromBytes(e.subarray(ce.BYTES))}},toBytes:({c0:e,c1:t})=>De(ce.toBytes(e),ce.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},i)=>({c0:ce.cmov(e,r,i),c1:ce.cmov(t,n,i)}),fromBigTwelve:e=>({c0:ce.fromBigSix(e.slice(0,6)),c1:ce.fromBigSix(e.slice(6,12))}),frobeniusMap(e,t){let r=ce.frobeniusMap(e.c0,t),{c0:n,c1:i,c2:s}=ce.frobeniusMap(e.c1,t),a=Ad[t%12];return{c0:r,c1:ce.create({c0:_.mul(n,a),c1:_.mul(i,a),c2:_.mul(s,a)})}},multiplyBy014:({c0:e,c1:t},r,n,i)=>{let s=ce.multiplyBy01(e,r,n),a=ce.multiplyBy1(t,i);return{c0:ce.add(ce.mulByNonresidue(a),s),c1:ce.sub(ce.sub(ce.multiplyBy01(ce.add(t,e),r,_.add(n,i)),s),a)}},multiplyByFp2:({c0:e,c1:t},r)=>({c0:ce.multiplyByFp2(e,r),c1:ce.multiplyByFp2(t,r)}),conjugate:({c0:e,c1:t})=>({c0:e,c1:ce.neg(t)}),_cyclotomicSquare:({c0:e,c1:t})=>{let{c0:r,c1:n,c2:i}=e,{c0:s,c1:a,c2:c}=t,{first:u,second:d}=Gi(r,a),{first:f,second:y}=Gi(s,i),{first:O,second:p}=Gi(n,c),g=_.mulByNonresidue(p);return{c0:ce.create({c0:_.add(_.mul(_.sub(u,r),Ce),u),c1:_.add(_.mul(_.sub(f,n),Ce),f),c2:_.add(_.mul(_.sub(O,i),Ce),O)}),c1:ce.create({c0:_.add(_.mul(_.add(g,s),Ce),g),c1:_.add(_.mul(_.add(d,a),Ce),d),c2:_.add(_.mul(_.add(y,c),Ce),y)})}},_cyclotomicExp(e,t){let r=be.ONE;for(let n=Ed-1;n>=0;n--)r=be._cyclotomicSquare(r),li(t,n)&&(r=be.mul(r,e));return r},finalExponentiate:e=>{let t=Xs,r=be.div(be.frobeniusMap(e,6),e),n=be.mul(be.frobeniusMap(r,2),r),i=be.conjugate(be._cyclotomicExp(n,t)),s=be.mul(be.conjugate(be._cyclotomicSquare(n)),i),a=be.conjugate(be._cyclotomicExp(s,t)),c=be.conjugate(be._cyclotomicExp(a,t)),u=be.mul(be.conjugate(be._cyclotomicExp(c,t)),be._cyclotomicSquare(i)),d=be.conjugate(be._cyclotomicExp(u,t)),f=be.frobeniusMap(be.mul(i,c),2),y=be.frobeniusMap(be.mul(a,n),3),O=be.frobeniusMap(be.mul(u,be.conjugate(n)),1),p=be.mul(be.mul(d,be.conjugate(s)),n);return be.mul(be.mul(be.mul(f,y),O),p)}},Ad=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8"),BigInt("0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffff"),BigInt("0x0")],[BigInt("0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2"),BigInt("0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995"),BigInt("0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116")],[BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa"),BigInt("0x0")],[BigInt("0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3"),BigInt("0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09"),BigInt("0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaad"),BigInt("0x0")],[BigInt("0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116"),BigInt("0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995")]].map(e=>_.fromBigTuple(e)),xd=vu(_,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>_.fromBigTuple(t.map(BigInt))))),Id=vu(W,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),Td=Au(_,{A:_.create({c0:W.create(qe),c1:W.create(BigInt(240))}),B:_.create({c0:W.create(BigInt(1012)),c1:W.create(BigInt(1012))}),Z:_.create({c0:W.create(BigInt(-2)),c1:W.create(BigInt(-1))})}),Bd=Au(W,{A:W.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:W.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:W.create(BigInt(11))}),xu=ce.create({c0:_.ZERO,c1:_.ONE,c2:_.ZERO}),Iu=be.create({c0:xu,c1:ce.ZERO}),Tu=be.create({c0:ce.ZERO,c1:xu}),[Sd,Nd]=be.invertBatch([Iu,Tu]);function Od(e,t){let r=be.mul(be.frobeniusMap(be.multiplyByFp2(Sd,e),1),Iu).c0.c0,n=be.mul(be.frobeniusMap(be.multiplyByFp2(Nd,t),1),Tu).c0.c0;return[r,n]}function Ja(e,t){let r=t.toAffine(),n=Od(r.x,r.y);return new e(n[0],n[1],_.ONE)}var $d=BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac");function Rd(e,t){return[_.mul(e,$d),_.neg(t)]}function Ud(e,t){let r=t.toAffine(),n=Rd(r.x,r.y);return new e(n[0],n[1],_.ONE)}var Ki=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:W.ORDER,m:2,k:128,expand:"xmd",hash:qs}),hi=sn(W.toBytes(qe),{infinity:!0,compressed:!0});function An(e){e=e.slice();let t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function sn(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function Xa(e){e.assertValidity();let t=e.equals(et.G1.ProjectivePoint.ZERO),{x:r,y:n}=e.toAffine();if(t)return hi.slice();let i=W.ORDER,s=!!(n*Ce/i);return sn(We(r,W.BYTES),{compressed:!0,sort:s})}function Qa(e){e.assertValidity();let t=W.BYTES;if(e.equals(et.G2.ProjectivePoint.ZERO))return De(hi,We(qe,t));let{x:r,y:n}=e.toAffine(),{re:i,im:s}=_.reim(r),{re:a,im:c}=_.reim(n),u=!!((c>qe?c*Ce:a*Ce)/W.ORDER&hr),d=i;return De(sn(We(s,t),{sort:u,compressed:!0}),We(d,t))}var et=gd({fields:{Fp:W,Fp2:_,Fp6:ce,Fp12:be,Fr:Fa},G1:{Fp:W,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:W.ZERO,b:Jr,htfDefaults:{...Ki,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{let r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(W.mul(t.px,r),t.py,t.pz);return t.multiplyUnsafe(et.params.x).negate().multiplyUnsafe(et.params.x).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(et.params.x).add(t),mapToCurve:e=>{let{x:t,y:r}=Bd(W.create(e[0]));return Id(t,r)},fromBytes:e=>{let{compressed:t,infinity:r,sort:n,value:i}=An(e);if(i.length===48&&t){let s=W.ORDER,a=ft(i),c=W.create(a&W.MASK);if(r){if(c!==qe)throw new Error("G1: non-empty compressed point at infinity");return{x:qe,y:qe}}let u=W.add(W.pow(c,_n),W.create(et.params.G1b)),d=W.sqrt(u);if(!d)throw new Error("Invalid compressed G1 point");return d*Ce/s!==BigInt(n)&&(d=W.neg(d)),{x:W.create(c),y:W.create(d)}}else if(i.length===96&&!t){let s=ft(i.subarray(0,W.BYTES)),a=ft(i.subarray(W.BYTES));if(r){if(s!==qe||a!==qe)throw new Error("G1: non-empty point at infinity");return et.G1.ProjectivePoint.ZERO.toAffine()}return{x:W.create(s),y:W.create(a)}}else throw new Error("Invalid point G1, expected 48/96 bytes")},toBytes:(e,t,r)=>{let n=t.equals(e.ZERO),{x:i,y:s}=t.toAffine();if(r){if(n)return hi.slice();let a=W.ORDER,c=!!(s*Ce/a);return sn(We(i,W.BYTES),{compressed:!0,sort:c})}else return n?De(new Uint8Array([64]),new Uint8Array(2*W.BYTES-1)):De(We(i,W.BYTES),We(s,W.BYTES))},ShortSignature:{fromHex(e){let{infinity:t,sort:r,value:n}=An(it("signatureHex",e,48)),i=W.ORDER,s=ft(n);if(t)return et.G1.ProjectivePoint.ZERO;let a=W.create(s&W.MASK),c=W.add(W.pow(a,_n),W.create(et.params.G1b)),u=W.sqrt(c);if(!u)throw new Error("Invalid compressed G1 point");let d=BigInt(r);u*Ce/i!==d&&(u=W.neg(u));let f=et.G1.ProjectivePoint.fromAffine({x:a,y:u});return f.assertValidity(),f},toRawBytes(e){return Xa(e)},toHex(e){return tr(Xa(e))}}},G2:{Fp:_,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:_.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:_.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:_.ZERO,b:_.fromBigTuple([Jr,Jr]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Ki},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{let{x:t,y:r}=Td(_.fromBigTuple(e));return xd(t,r)},isTorsionFree:(e,t)=>t.multiplyUnsafe(et.params.x).negate().equals(Ja(e,t)),clearCofactor:(e,t)=>{let r=et.params.x,n=t.multiplyUnsafe(r).negate(),i=Ja(e,t),s=t.double();return s=Ud(e,s),s=s.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),s=s.add(i),s=s.subtract(n),s.subtract(t)},fromBytes:e=>{let{compressed:t,infinity:r,sort:n,value:i}=An(e);if(!t&&!r&&n||!t&&r&&n||n&&r&&t)throw new Error("Invalid encoding flag: "+(e[0]&224));let s=W.BYTES,a=(c,u,d)=>ft(c.slice(u,d));if(i.length===96&&t){let c=et.params.G2b,u=W.ORDER;if(r){if(i.reduce((w,B)=>w!==0?B+1:B,0)>0)throw new Error("Invalid compressed G2 point");return{x:_.ZERO,y:_.ZERO}}let d=a(i,0,s),f=a(i,s,2*s),y=_.create({c0:W.create(f),c1:W.create(d)}),O=_.add(_.pow(y,_n),c),p=_.sqrt(O),g=p.c1===qe?p.c0*Ce/u:p.c1*Ce/u?hr:qe;return p=n&&g>0?p:_.neg(p),{x:y,y:p}}else if(i.length===192&&!t){if(r){if(i.reduce((y,O)=>y!==0?O+1:O,0)>0)throw new Error("Invalid uncompressed G2 point");return{x:_.ZERO,y:_.ZERO}}let c=a(i,0,s),u=a(i,s,2*s),d=a(i,2*s,3*s),f=a(i,3*s,4*s);return{x:_.fromBigTuple([u,c]),y:_.fromBigTuple([f,d])}}else throw new Error("Invalid point G2, expected 96/192 bytes")},toBytes:(e,t,r)=>{let{BYTES:n,ORDER:i}=W,s=t.equals(e.ZERO),{x:a,y:c}=t.toAffine();if(r){if(s)return De(hi,We(qe,n));let u=!!(c.c1===qe?c.c0*Ce/i:c.c1*Ce/i);return De(sn(We(a.c1,n),{compressed:!0,sort:u}),We(a.c0,n))}else{if(s)return De(new Uint8Array([64]),new Uint8Array(4*n-1));let{re:u,im:d}=_.reim(a),{re:f,im:y}=_.reim(c);return De(We(d,n),We(u,n),We(y,n),We(f,n))}},Signature:{fromHex(e){let{infinity:t,sort:r,value:n}=An(it("signatureHex",e)),i=W.ORDER,s=n.length/2;if(s!==48&&s!==96)throw new Error("Invalid compressed signature length, must be 96 or 192");let a=ft(n.slice(0,s)),c=ft(n.slice(s));if(t)return et.G2.ProjectivePoint.ZERO;let u=W.create(a&W.MASK),d=W.create(c),f=_.create({c0:d,c1:u}),y=_.add(_.pow(f,_n),et.params.G2b),O=_.sqrt(y);if(!O)throw new Error("Failed to find a square root");let{re:p,im:g}=_.reim(O),w=BigInt(r),B=g>qe&&g*Ce/i!==w,L=g===qe&&p*Ce/i!==w;(B||L)&&(O=_.neg(O));let k=et.G2.ProjectivePoint.fromAffine({x:f,y:O});return k.assertValidity(),k},toRawBytes(e){return Qa(e)},toHex(e){return tr(Qa(e))}}},params:{x:Xs,r:Fa.ORDER},htfDefaults:Ki,hash:qs,randomBytes:pc});function Pd(e,t,r){let n=typeof e=="string"?e:Qe(e),i=typeof t=="string"?t:Qe(t),s=typeof r=="string"?r:Qe(r);return et.verifyShortSignature(i,s,n)}var Bu=e=>Ye(new Pr(e)),Qs=e=>{let t=Bu(e);return new Date(Number(t)/1e6)},It=class extends ht{constructor(t){super(`Invalid certificate: ${t}`)}},Bt={Empty:0,Fork:1,Labeled:2,Leaf:3,Pruned:4};function Su(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}var Nu=class kn{constructor(t,r,n,i,s=5){this._rootKey=r,this._canisterId=n,this._blsVerify=i,this._maxAgeInMinutes=s,this.cert=Pt(new Uint8Array(t))}static async create(t){let r=kn.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=Pd),new kn(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes)}lookup(t){return Ou(Ur(t,this.cert.tree))}lookup_label(t){return this.lookup([t])}async verify(){let t=await Cn(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,i=kd(r),s=wt(Vr("ic-state-root"),t),a=!1,c=this.lookup(["time"]);if(!c)throw new It("Certificate does not contain a time");let u=5*60*1e3,d=this._maxAgeInMinutes*60*1e3,f=Date.now(),y=f-d,O=f+u,p=Qs(c);if(p.getTime()<y)throw new It(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+p.toISOString()+" Current time: "+new Date(f).toISOString());if(p.getTime()>O)throw new It("Certificate is signed more than 5 minutes in the future. Certificate time: "+p.toISOString()+" Current time: "+new Date(f).toISOString());try{a=await this._blsVerify(new Uint8Array(i),new Uint8Array(n),new Uint8Array(s))}catch{a=!1}if(!a)throw new It("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;let r=await kn.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new It("Delegation certificates cannot be nested");if(await r.verify(),!$u({canisterId:this._canisterId,subnetId:Ae.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new It(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Qe(t.subnet_id)}`);let n=r.lookup(["subnet",t.subnet_id,"public_key"]);if(!n)throw new Error(`Could not find subnet key for subnet 0x${Qe(t.subnet_id)}`);return n}},Dr=Lt("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),Ld=96;function kd(e){let t=Dr.byteLength+Ld;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);let r=e.slice(0,Dr.byteLength);if(!Su(r,Dr))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Dr}, but get ${r}`);return e.slice(Dr.byteLength)}function Ou(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return e.buffer}async function Cn(e){switch(e[0]){case Bt.Empty:return mt(Vr("ic-hashtree-empty"));case Bt.Pruned:return e[1];case Bt.Leaf:return mt(wt(Vr("ic-hashtree-leaf"),e[1]));case Bt.Labeled:return mt(wt(Vr("ic-hashtree-labeled"),e[1],await Cn(e[2])));case Bt.Fork:return mt(wt(Vr("ic-hashtree-fork"),await Cn(e[1]),await Cn(e[2])));default:throw new Error("unreachable")}}function Vr(e){let t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return wt(t,r)}function Ur(e,t){if(e.length===0)switch(t[0]){case Bt.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?t[1]:t[1]instanceof Uint8Array?t[1].buffer:t[1]}case Bt.Fork:return t;default:return t}let r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=Cd(r,di(t));if(n)return Ur(e.slice(1),n)}function di(e){switch(e[0]){case Bt.Empty:return[];case Bt.Fork:return di(e[1]).concat(di(e[2]));default:return[e]}}function Cd(e,t){if(t.length!==0){for(let r of t)if(r[0]===Bt.Labeled){let n=r[1];if(Su(e,n))return r[2]}}}function $u(e){let{canisterId:t,subnetId:r,tree:n}=e,i=Ur(["subnet",r.toUint8Array(),"canister_ranges"],n);if(!i||!(i instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return Pt(i).map(s=>[Ae.fromUint8Array(s[0]),Ae.fromUint8Array(s[1])]).some(s=>s[0].ltEq(t)&&s[1].gtEq(t))}var Fd=class{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}},Ru=async e=>{let{agent:t,paths:r}=e,n=Ae.from(e.canisterId),i=[...new Set(r)],s=i.map(u=>ms(u,n)),a=new Map,c=i.map((u,d)=>(async()=>{var f;try{let y=await t.readState(n,{paths:[s[d]]}),O=await Nu.create({certificate:y.certificate,rootKey:t.rootKey,canisterId:n}),p=(B,L)=>{if(L==="subnet"){let k=Uu(y.certificate,n,t.rootKey);return{path:L,data:k}}else return{path:L,data:Ou(B.lookup(ms(L,n)))}},{path:g,data:w}=p(O,i[d]);if(!w)console.warn(`Expected to find result for path ${g}, but instead found nothing.`),typeof g=="string"?a.set(g,null):a.set(g.key,null);else switch(g){case"time":{a.set(g,Qs(w));break}case"controllers":{a.set(g,jd(w));break}case"module_hash":{a.set(g,eo(w));break}case"subnet":{a.set(g,w);break}case"candid":{a.set(g,new TextDecoder().decode(w));break}default:if(typeof g!="string"&&"key"in g&&"path"in g)switch(g.decodeStrategy){case"raw":a.set(g.key,w);break;case"leb128":{a.set(g.key,Bu(w));break}case"cbor":{a.set(g.key,Pu(w));break}case"hex":{a.set(g.key,eo(w));break}case"utf-8":a.set(g.key,Dd(w))}}}catch(y){if(!((f=y==null?void 0:y.message)===null||f===void 0)&&f.includes("Invalid certificate"))throw new ht(y.message);typeof u!="string"&&"key"in u&&"path"in u?a.set(u.key,null):a.set(u,null),console.group(),console.warn(`Expected to find result for path ${u}, but instead found nothing.`),console.warn(y),console.groupEnd()}})());return await Promise.all(c),a},Uu=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");let n=Pt(new Uint8Array(e)),i=n.tree,s=n.delegation,a;if(s&&s.subnet_id?a=Ae.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof r<"u"?(a=Ae.selfAuthenticating(new Uint8Array(r)),s={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}):(a=Ae.selfAuthenticating(Ae.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}),!$u({canisterId:t,subnetId:a,tree:i}))throw new Error("Canister not in range");let c=Ur(["subnet",s==null?void 0:s.subnet_id,"node"],i),u=di(c);u.length;let d=new Map;return u.forEach(f=>{Object.getPrototypeOf(new Uint8Array(f[1]));let y=Ae.from(new Uint8Array(f[1])).toText(),O=Ur(["public_key"],f[2]);if(O.byteLength!==44)throw new Error("Invalid public key length");d.set(y,O)}),{subnetId:Ae.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:d}},ms=(e,t)=>{let r=new TextEncoder,n=s=>new DataView(r.encode(s).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){let s=e.path,a=typeof s=="string"?n(s):s;return[n("canister"),i,n("metadata"),a]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},eo=e=>Qe(e),Pu=e=>Pt(e),Dd=e=>new TextDecoder().decode(e),jd=e=>Pu(e).map(t=>Ae.fromUint8Array(new Uint8Array(t)));/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*//*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/bls12-381.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/var ot={VITE_CANISTER_ORIGIN:"http://bkyz2-fmaaa-aaaaa-qaaaq-cai.localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Nr={},Md=ze(e=>{e.byteLength=u,e.toByteArray=f,e.fromByteArray=p;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,a=i.length;s<a;++s)t[s]=i[s],r[i.charCodeAt(s)]=s;var s,a;r[45]=62,r[95]=63;function c(g){var w=g.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=g.indexOf("=");B===-1&&(B=w);var L=B===w?0:4-B%4;return[B,L]}function u(g){var w=c(g),B=w[0],L=w[1];return(B+L)*3/4-L}function d(g,w,B){return(w+B)*3/4-B}function f(g){var w,B=c(g),L=B[0],k=B[1],F=new n(d(g,L,k)),Q=0,X=k>0?L-4:L,te;for(te=0;te<X;te+=4)w=r[g.charCodeAt(te)]<<18|r[g.charCodeAt(te+1)]<<12|r[g.charCodeAt(te+2)]<<6|r[g.charCodeAt(te+3)],F[Q++]=w>>16&255,F[Q++]=w>>8&255,F[Q++]=w&255;return k===2&&(w=r[g.charCodeAt(te)]<<2|r[g.charCodeAt(te+1)]>>4,F[Q++]=w&255),k===1&&(w=r[g.charCodeAt(te)]<<10|r[g.charCodeAt(te+1)]<<4|r[g.charCodeAt(te+2)]>>2,F[Q++]=w>>8&255,F[Q++]=w&255),F}function y(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function O(g,w,B){for(var L,k=[],F=w;F<B;F+=3)L=(g[F]<<16&16711680)+(g[F+1]<<8&65280)+(g[F+2]&255),k.push(y(L));return k.join("")}function p(g){for(var w,B=g.length,L=B%3,k=[],F=16383,Q=0,X=B-L;Q<X;Q+=F)k.push(O(g,Q,Q+F>X?X:Q+F));return L===1?(w=g[B-1],k.push(t[w>>2]+t[w<<4&63]+"==")):L===2&&(w=(g[B-2]<<8)+g[B-1],k.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),k.join("")}}),Vd=ze(e=>{var t=Md(),r=ic(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let o=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(o,l),o.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function a(o){if(o>i)throw new RangeError('The value "'+o+'" is invalid for option "size"');let l=new Uint8Array(o);return Object.setPrototypeOf(l,c.prototype),l}function c(o,l,h){if(typeof o=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(o)}return u(o,l,h)}c.poolSize=8192;function u(o,l,h){if(typeof o=="string")return O(o,l);if(ArrayBuffer.isView(o))return g(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(Y(o,ArrayBuffer)||o&&Y(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(o,SharedArrayBuffer)||o&&Y(o.buffer,SharedArrayBuffer)))return w(o,l,h);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let A=o.valueOf&&o.valueOf();if(A!=null&&A!==o)return c.from(A,l,h);let P=B(o);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return c.from(o[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}c.from=function(o,l,h){return u(o,l,h)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function d(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function f(o,l,h){return d(o),o<=0?a(o):l!==void 0?typeof h=="string"?a(o).fill(l,h):a(o).fill(l):a(o)}c.alloc=function(o,l,h){return f(o,l,h)};function y(o){return d(o),a(o<0?0:L(o)|0)}c.allocUnsafe=function(o){return y(o)},c.allocUnsafeSlow=function(o){return y(o)};function O(o,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);let h=F(o,l)|0,A=a(h),P=A.write(o,l);return P!==h&&(A=A.slice(0,P)),A}function p(o){let l=o.length<0?0:L(o.length)|0,h=a(l);for(let A=0;A<l;A+=1)h[A]=o[A]&255;return h}function g(o){if(Y(o,Uint8Array)){let l=new Uint8Array(o);return w(l.buffer,l.byteOffset,l.byteLength)}return p(o)}function w(o,l,h){if(l<0||o.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let A;return l===void 0&&h===void 0?A=new Uint8Array(o):h===void 0?A=new Uint8Array(o,l):A=new Uint8Array(o,l,h),Object.setPrototypeOf(A,c.prototype),A}function B(o){if(c.isBuffer(o)){let l=L(o.length)|0,h=a(l);return h.length===0||o.copy(h,0,0,l),h}if(o.length!==void 0)return typeof o.length!="number"||he(o.length)?a(0):p(o);if(o.type==="Buffer"&&Array.isArray(o.data))return p(o.data)}function L(o){if(o>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return o|0}function k(o){return+o!=o&&(o=0),c.alloc(+o)}c.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==c.prototype},c.compare=function(o,l){if(Y(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),Y(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(o)||!c.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===l)return 0;let h=o.length,A=l.length;for(let P=0,H=Math.min(h,A);P<H;++P)if(o[P]!==l[P]){h=o[P],A=l[P];break}return h<A?-1:A<h?1:0},c.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(o,l){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return c.alloc(0);let h;if(l===void 0)for(l=0,h=0;h<o.length;++h)l+=o[h].length;let A=c.allocUnsafe(l),P=0;for(h=0;h<o.length;++h){let H=o[h];if(Y(H,Uint8Array))P+H.length>A.length?(c.isBuffer(H)||(H=c.from(H)),H.copy(A,P)):Uint8Array.prototype.set.call(A,H,P);else if(c.isBuffer(H))H.copy(A,P);else throw new TypeError('"list" argument must be an Array of Buffers');P+=H.length}return A};function F(o,l){if(c.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||Y(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);let h=o.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&h===0)return 0;let P=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return j(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return D(o).length;default:if(P)return A?-1:j(o).length;l=(""+l).toLowerCase(),P=!0}}c.byteLength=F;function Q(o,l,h){let A=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(o||(o="utf8");;)switch(o){case"hex":return ee(this,l,h);case"utf8":case"utf-8":return x(this,l,h);case"ascii":return M(this,l,h);case"latin1":case"binary":return V(this,l,h);case"base64":return ie(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,l,h);default:if(A)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),A=!0}}c.prototype._isBuffer=!0;function X(o,l,h){let A=o[l];o[l]=o[h],o[h]=A}c.prototype.swap16=function(){let o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<o;l+=2)X(this,l,l+1);return this},c.prototype.swap32=function(){let o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<o;l+=4)X(this,l,l+3),X(this,l+1,l+2);return this},c.prototype.swap64=function(){let o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<o;l+=8)X(this,l,l+7),X(this,l+1,l+6),X(this,l+2,l+5),X(this,l+3,l+4);return this},c.prototype.toString=function(){let o=this.length;return o===0?"":arguments.length===0?x(this,0,o):Q.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(o){if(!c.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:c.compare(this,o)===0},c.prototype.inspect=function(){let o="",l=e.INSPECT_MAX_BYTES;return o=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(o+=" ... "),"<Buffer "+o+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(o,l,h,A,P){if(Y(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),!c.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(l===void 0&&(l=0),h===void 0&&(h=o?o.length:0),A===void 0&&(A=0),P===void 0&&(P=this.length),l<0||h>o.length||A<0||P>this.length)throw new RangeError("out of range index");if(A>=P&&l>=h)return 0;if(A>=P)return-1;if(l>=h)return 1;if(l>>>=0,h>>>=0,A>>>=0,P>>>=0,this===o)return 0;let H=P-A,J=h-l,Te=Math.min(H,J),Pe=this.slice(A,P),xe=o.slice(l,h);for(let ve=0;ve<Te;++ve)if(Pe[ve]!==xe[ve]){H=Pe[ve],J=xe[ve];break}return H<J?-1:J<H?1:0};function te(o,l,h,A,P){if(o.length===0)return-1;if(typeof h=="string"?(A=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,he(h)&&(h=P?0:o.length-1),h<0&&(h=o.length+h),h>=o.length){if(P)return-1;h=o.length-1}else if(h<0)if(P)h=0;else return-1;if(typeof l=="string"&&(l=c.from(l,A)),c.isBuffer(l))return l.length===0?-1:G(o,l,h,A,P);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(o,l,h):Uint8Array.prototype.lastIndexOf.call(o,l,h):G(o,[l],h,A,P);throw new TypeError("val must be string, number or Buffer")}function G(o,l,h,A,P){let H=1,J=o.length,Te=l.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(o.length<2||l.length<2)return-1;H=2,J/=2,Te/=2,h/=2}function Pe(ve,we){return H===1?ve[we]:ve.readUInt16BE(we*H)}let xe;if(P){let ve=-1;for(xe=h;xe<J;xe++)if(Pe(o,xe)===Pe(l,ve===-1?0:xe-ve)){if(ve===-1&&(ve=xe),xe-ve+1===Te)return ve*H}else ve!==-1&&(xe-=xe-ve),ve=-1}else for(h+Te>J&&(h=J-Te),xe=h;xe>=0;xe--){let ve=!0;for(let we=0;we<Te;we++)if(Pe(o,xe+we)!==Pe(l,we)){ve=!1;break}if(ve)return xe}return-1}c.prototype.includes=function(o,l,h){return this.indexOf(o,l,h)!==-1},c.prototype.indexOf=function(o,l,h){return te(this,o,l,h,!0)},c.prototype.lastIndexOf=function(o,l,h){return te(this,o,l,h,!1)};function K(o,l,h,A){h=Number(h)||0;let P=o.length-h;A?(A=Number(A),A>P&&(A=P)):A=P;let H=l.length;A>H/2&&(A=H/2);let J;for(J=0;J<A;++J){let Te=parseInt(l.substr(J*2,2),16);if(he(Te))return J;o[h+J]=Te}return J}function ge(o,l,h,A){return R(j(l,o.length-h),o,h,A)}function I(o,l,h,A){return R(S(l),o,h,A)}function N(o,l,h,A){return R(D(l),o,h,A)}function se(o,l,h,A){return R(U(l,o.length-h),o,h,A)}c.prototype.write=function(o,l,h,A){if(l===void 0)A="utf8",h=this.length,l=0;else if(h===void 0&&typeof l=="string")A=l,h=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(h)?(h=h>>>0,A===void 0&&(A="utf8")):(A=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let P=this.length-l;if((h===void 0||h>P)&&(h=P),o.length>0&&(h<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let H=!1;for(;;)switch(A){case"hex":return K(this,o,l,h);case"utf8":case"utf-8":return ge(this,o,l,h);case"ascii":case"latin1":case"binary":return I(this,o,l,h);case"base64":return N(this,o,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,o,l,h);default:if(H)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),H=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ie(o,l,h){return l===0&&h===o.length?t.fromByteArray(o):t.fromByteArray(o.slice(l,h))}function x(o,l,h){h=Math.min(o.length,h);let A=[],P=l;for(;P<h;){let H=o[P],J=null,Te=H>239?4:H>223?3:H>191?2:1;if(P+Te<=h){let Pe,xe,ve,we;switch(Te){case 1:H<128&&(J=H);break;case 2:Pe=o[P+1],(Pe&192)===128&&(we=(H&31)<<6|Pe&63,we>127&&(J=we));break;case 3:Pe=o[P+1],xe=o[P+2],(Pe&192)===128&&(xe&192)===128&&(we=(H&15)<<12|(Pe&63)<<6|xe&63,we>2047&&(we<55296||we>57343)&&(J=we));break;case 4:Pe=o[P+1],xe=o[P+2],ve=o[P+3],(Pe&192)===128&&(xe&192)===128&&(ve&192)===128&&(we=(H&15)<<18|(Pe&63)<<12|(xe&63)<<6|ve&63,we>65535&&we<1114112&&(J=we))}}J===null?(J=65533,Te=1):J>65535&&(J-=65536,A.push(J>>>10&1023|55296),J=56320|J&1023),A.push(J),P+=Te}return z(A)}var Z=4096;function z(o){let l=o.length;if(l<=Z)return String.fromCharCode.apply(String,o);let h="",A=0;for(;A<l;)h+=String.fromCharCode.apply(String,o.slice(A,A+=Z));return h}function M(o,l,h){let A="";h=Math.min(o.length,h);for(let P=l;P<h;++P)A+=String.fromCharCode(o[P]&127);return A}function V(o,l,h){let A="";h=Math.min(o.length,h);for(let P=l;P<h;++P)A+=String.fromCharCode(o[P]);return A}function ee(o,l,h){let A=o.length;(!l||l<0)&&(l=0),(!h||h<0||h>A)&&(h=A);let P="";for(let H=l;H<h;++H)P+=pe[o[H]];return P}function oe(o,l,h){let A=o.slice(l,h),P="";for(let H=0;H<A.length-1;H+=2)P+=String.fromCharCode(A[H]+A[H+1]*256);return P}c.prototype.slice=function(o,l){let h=this.length;o=~~o,l=l===void 0?h:~~l,o<0?(o+=h,o<0&&(o=0)):o>h&&(o=h),l<0?(l+=h,l<0&&(l=0)):l>h&&(l=h),l<o&&(l=o);let A=this.subarray(o,l);return Object.setPrototypeOf(A,c.prototype),A};function ae(o,l,h){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+l>h)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(o,l,h){o=o>>>0,l=l>>>0,h||ae(o,l,this.length);let A=this[o],P=1,H=0;for(;++H<l&&(P*=256);)A+=this[o+H]*P;return A},c.prototype.readUintBE=c.prototype.readUIntBE=function(o,l,h){o=o>>>0,l=l>>>0,h||ae(o,l,this.length);let A=this[o+--l],P=1;for(;l>0&&(P*=256);)A+=this[o+--l]*P;return A},c.prototype.readUint8=c.prototype.readUInt8=function(o,l){return o=o>>>0,l||ae(o,1,this.length),this[o]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(o,l){return o=o>>>0,l||ae(o,2,this.length),this[o]|this[o+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(o,l){return o=o>>>0,l||ae(o,2,this.length),this[o]<<8|this[o+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(o,l){return o=o>>>0,l||ae(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(o,l){return o=o>>>0,l||ae(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},c.prototype.readBigUInt64LE=me(function(o){o=o>>>0,v(o,"offset");let l=this[o],h=this[o+7];(l===void 0||h===void 0)&&C(o,this.length-8);let A=l+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,P=this[++o]+this[++o]*2**8+this[++o]*2**16+h*2**24;return BigInt(A)+(BigInt(P)<<BigInt(32))}),c.prototype.readBigUInt64BE=me(function(o){o=o>>>0,v(o,"offset");let l=this[o],h=this[o+7];(l===void 0||h===void 0)&&C(o,this.length-8);let A=l*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],P=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+h;return(BigInt(A)<<BigInt(32))+BigInt(P)}),c.prototype.readIntLE=function(o,l,h){o=o>>>0,l=l>>>0,h||ae(o,l,this.length);let A=this[o],P=1,H=0;for(;++H<l&&(P*=256);)A+=this[o+H]*P;return P*=128,A>=P&&(A-=Math.pow(2,8*l)),A},c.prototype.readIntBE=function(o,l,h){o=o>>>0,l=l>>>0,h||ae(o,l,this.length);let A=l,P=1,H=this[o+--A];for(;A>0&&(P*=256);)H+=this[o+--A]*P;return P*=128,H>=P&&(H-=Math.pow(2,8*l)),H},c.prototype.readInt8=function(o,l){return o=o>>>0,l||ae(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},c.prototype.readInt16LE=function(o,l){o=o>>>0,l||ae(o,2,this.length);let h=this[o]|this[o+1]<<8;return h&32768?h|4294901760:h},c.prototype.readInt16BE=function(o,l){o=o>>>0,l||ae(o,2,this.length);let h=this[o+1]|this[o]<<8;return h&32768?h|4294901760:h},c.prototype.readInt32LE=function(o,l){return o=o>>>0,l||ae(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},c.prototype.readInt32BE=function(o,l){return o=o>>>0,l||ae(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},c.prototype.readBigInt64LE=me(function(o){o=o>>>0,v(o,"offset");let l=this[o],h=this[o+7];(l===void 0||h===void 0)&&C(o,this.length-8);let A=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(h<<24);return(BigInt(A)<<BigInt(32))+BigInt(l+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),c.prototype.readBigInt64BE=me(function(o){o=o>>>0,v(o,"offset");let l=this[o],h=this[o+7];(l===void 0||h===void 0)&&C(o,this.length-8);let A=(l<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(A)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+h)}),c.prototype.readFloatLE=function(o,l){return o=o>>>0,l||ae(o,4,this.length),r.read(this,o,!0,23,4)},c.prototype.readFloatBE=function(o,l){return o=o>>>0,l||ae(o,4,this.length),r.read(this,o,!1,23,4)},c.prototype.readDoubleLE=function(o,l){return o=o>>>0,l||ae(o,8,this.length),r.read(this,o,!0,52,8)},c.prototype.readDoubleBE=function(o,l){return o=o>>>0,l||ae(o,8,this.length),r.read(this,o,!1,52,8)};function le(o,l,h,A,P,H){if(!c.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>P||l<H)throw new RangeError('"value" argument is out of bounds');if(h+A>o.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(o,l,h,A){if(o=+o,l=l>>>0,h=h>>>0,!A){let J=Math.pow(2,8*h)-1;le(this,o,l,h,J,0)}let P=1,H=0;for(this[l]=o&255;++H<h&&(P*=256);)this[l+H]=o/P&255;return l+h},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(o,l,h,A){if(o=+o,l=l>>>0,h=h>>>0,!A){let J=Math.pow(2,8*h)-1;le(this,o,l,h,J,0)}let P=h-1,H=1;for(this[l+P]=o&255;--P>=0&&(H*=256);)this[l+P]=o/H&255;return l+h},c.prototype.writeUint8=c.prototype.writeUInt8=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,1,255,0),this[l]=o&255,l+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,2,65535,0),this[l]=o&255,this[l+1]=o>>>8,l+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,2,65535,0),this[l]=o>>>8,this[l+1]=o&255,l+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,4,4294967295,0),this[l+3]=o>>>24,this[l+2]=o>>>16,this[l+1]=o>>>8,this[l]=o&255,l+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,4,4294967295,0),this[l]=o>>>24,this[l+1]=o>>>16,this[l+2]=o>>>8,this[l+3]=o&255,l+4};function de(o,l,h,A,P){m(l,A,P,o,h,7);let H=Number(l&BigInt(4294967295));o[h++]=H,H=H>>8,o[h++]=H,H=H>>8,o[h++]=H,H=H>>8,o[h++]=H;let J=Number(l>>BigInt(32)&BigInt(4294967295));return o[h++]=J,J=J>>8,o[h++]=J,J=J>>8,o[h++]=J,J=J>>8,o[h++]=J,h}function E(o,l,h,A,P){m(l,A,P,o,h,7);let H=Number(l&BigInt(4294967295));o[h+7]=H,H=H>>8,o[h+6]=H,H=H>>8,o[h+5]=H,H=H>>8,o[h+4]=H;let J=Number(l>>BigInt(32)&BigInt(4294967295));return o[h+3]=J,J=J>>8,o[h+2]=J,J=J>>8,o[h+1]=J,J=J>>8,o[h]=J,h+8}c.prototype.writeBigUInt64LE=me(function(o,l=0){return de(this,o,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=me(function(o,l=0){return E(this,o,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(o,l,h,A){if(o=+o,l=l>>>0,!A){let Te=Math.pow(2,8*h-1);le(this,o,l,h,Te-1,-Te)}let P=0,H=1,J=0;for(this[l]=o&255;++P<h&&(H*=256);)o<0&&J===0&&this[l+P-1]!==0&&(J=1),this[l+P]=(o/H>>0)-J&255;return l+h},c.prototype.writeIntBE=function(o,l,h,A){if(o=+o,l=l>>>0,!A){let Te=Math.pow(2,8*h-1);le(this,o,l,h,Te-1,-Te)}let P=h-1,H=1,J=0;for(this[l+P]=o&255;--P>=0&&(H*=256);)o<0&&J===0&&this[l+P+1]!==0&&(J=1),this[l+P]=(o/H>>0)-J&255;return l+h},c.prototype.writeInt8=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,1,127,-128),o<0&&(o=255+o+1),this[l]=o&255,l+1},c.prototype.writeInt16LE=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,2,32767,-32768),this[l]=o&255,this[l+1]=o>>>8,l+2},c.prototype.writeInt16BE=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,2,32767,-32768),this[l]=o>>>8,this[l+1]=o&255,l+2},c.prototype.writeInt32LE=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,4,2147483647,-2147483648),this[l]=o&255,this[l+1]=o>>>8,this[l+2]=o>>>16,this[l+3]=o>>>24,l+4},c.prototype.writeInt32BE=function(o,l,h){return o=+o,l=l>>>0,h||le(this,o,l,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[l]=o>>>24,this[l+1]=o>>>16,this[l+2]=o>>>8,this[l+3]=o&255,l+4},c.prototype.writeBigInt64LE=me(function(o,l=0){return de(this,o,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=me(function(o,l=0){return E(this,o,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(o,l,h,A,P,H){if(h+A>o.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function ye(o,l,h,A,P){return l=+l,h=h>>>0,P||q(o,l,h,4),r.write(o,l,h,A,23,4),h+4}c.prototype.writeFloatLE=function(o,l,h){return ye(this,o,l,!0,h)},c.prototype.writeFloatBE=function(o,l,h){return ye(this,o,l,!1,h)};function Ie(o,l,h,A,P){return l=+l,h=h>>>0,P||q(o,l,h,8),r.write(o,l,h,A,52,8),h+8}c.prototype.writeDoubleLE=function(o,l,h){return Ie(this,o,l,!0,h)},c.prototype.writeDoubleBE=function(o,l,h){return Ie(this,o,l,!1,h)},c.prototype.copy=function(o,l,h,A){if(!c.isBuffer(o))throw new TypeError("argument should be a Buffer");if(h||(h=0),!A&&A!==0&&(A=this.length),l>=o.length&&(l=o.length),l||(l=0),A>0&&A<h&&(A=h),A===h||o.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),o.length-l<A-h&&(A=o.length-l+h);let P=A-h;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,h,A):Uint8Array.prototype.set.call(o,this.subarray(h,A),l),P},c.prototype.fill=function(o,l,h,A){if(typeof o=="string"){if(typeof l=="string"?(A=l,l=0,h=this.length):typeof h=="string"&&(A=h,h=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!c.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(o.length===1){let H=o.charCodeAt(0);(A==="utf8"&&H<128||A==="latin1")&&(o=H)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(l<0||this.length<l||this.length<h)throw new RangeError("Out of range index");if(h<=l)return this;l=l>>>0,h=h===void 0?this.length:h>>>0,o||(o=0);let P;if(typeof o=="number")for(P=l;P<h;++P)this[P]=o;else{let H=c.isBuffer(o)?o:c.from(o,A),J=H.length;if(J===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(P=0;P<h-l;++P)this[P+l]=H[P%J]}return this};var ue={};function fe(o,l,h){ue[o]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name}get code(){return o}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${o}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(o,l){return`The "${o}" argument must be of type number. Received type ${typeof l}`},TypeError),fe("ERR_OUT_OF_RANGE",function(o,l,h){let A=`The value of "${o}" is out of range.`,P=h;return Number.isInteger(h)&&Math.abs(h)>2**32?P=Be(String(h)):typeof h=="bigint"&&(P=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(P=Be(P)),P+="n"),A+=` It must be ${l}. Received ${P}`,A},RangeError);function Be(o){let l="",h=o.length,A=o[0]==="-"?1:0;for(;h>=A+4;h-=3)l=`_${o.slice(h-3,h)}${l}`;return`${o.slice(0,h)}${l}`}function b(o,l,h){v(l,"offset"),(o[l]===void 0||o[l+h]===void 0)&&C(l,o.length-(h+1))}function m(o,l,h,A,P,H){if(o>h||o<l){let J=typeof l=="bigint"?"n":"",Te;throw l===0||l===BigInt(0)?Te=`>= 0${J} and < 2${J} ** ${(H+1)*8}${J}`:Te=`>= -(2${J} ** ${(H+1)*8-1}${J}) and < 2 ** ${(H+1)*8-1}${J}`,new ue.ERR_OUT_OF_RANGE("value",Te,o)}b(A,P,H)}function v(o,l){if(typeof o!="number")throw new ue.ERR_INVALID_ARG_TYPE(l,"number",o)}function C(o,l,h){throw Math.floor(o)!==o?(v(o,h),new ue.ERR_OUT_OF_RANGE("offset","an integer",o)):l<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,o)}var $=/[^+/0-9A-Za-z-_]/g;function T(o){if(o=o.split("=")[0],o=o.trim().replace($,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function j(o,l){l=l||1/0;let h,A=o.length,P=null,H=[];for(let J=0;J<A;++J){if(h=o.charCodeAt(J),h>55295&&h<57344){if(!P){if(h>56319){(l-=3)>-1&&H.push(239,191,189);continue}else if(J+1===A){(l-=3)>-1&&H.push(239,191,189);continue}P=h;continue}if(h<56320){(l-=3)>-1&&H.push(239,191,189),P=h;continue}h=(P-55296<<10|h-56320)+65536}else P&&(l-=3)>-1&&H.push(239,191,189);if(P=null,h<128){if((l-=1)<0)break;H.push(h)}else if(h<2048){if((l-=2)<0)break;H.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;H.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;H.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return H}function S(o){let l=[];for(let h=0;h<o.length;++h)l.push(o.charCodeAt(h)&255);return l}function U(o,l){let h,A,P,H=[];for(let J=0;J<o.length&&!((l-=2)<0);++J)h=o.charCodeAt(J),A=h>>8,P=h%256,H.push(P),H.push(A);return H}function D(o){return t.toByteArray(T(o))}function R(o,l,h,A){let P;for(P=0;P<A&&!(P+h>=l.length||P>=o.length);++P)l[P+h]=o[P];return P}function Y(o,l){return o instanceof l||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===l.name}function he(o){return o!==o}var pe=function(){let o="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){let A=h*16;for(let P=0;P<16;++P)l[A+P]=o[h]+o[P]}return l}();function me(o){return typeof BigInt>"u"?$e:o}function $e(){throw new Error("BigInt not supported")}}),Ft=e=>e==null,dt=e=>!Ft(e),qd=class extends Error{},Lu=(e,t)=>{if(Ft(e))throw new qd(t)},ws="__bigint__",vs="__principal__",_s="__uint8array__",zd=(e,t)=>typeof t=="bigint"?{[ws]:`${t}`}:dt(t)&&t instanceof Ae?{[vs]:t.toText()}:dt(t)&&t instanceof Uint8Array?{[_s]:Array.from(t)}:t,Hd=(e,t)=>{let r=n=>t[n];return dt(t)&&typeof t=="object"&&ws in t?BigInt(r(ws)):dt(t)&&typeof t=="object"&&vs in t?Ae.fromText(r(vs)):dt(t)&&typeof t=="object"&&_s in t?Uint8Array.from(r(_s)):t},to=e=>dt(e)?[e]:[],Es=e=>e==null?void 0:e[0],Gd=async e=>{let t=new Blob([JSON.stringify(e,zd)],{type:"application/json; charset=utf-8"});return new Uint8Array(await t.arrayBuffer())},Kd=async e=>{let t=new Blob([e instanceof Uint8Array?e:new Uint8Array(e)],{type:"application/json; charset=utf-8"});return JSON.parse(await t.text(),Hd)},Yd=()=>typeof window<"u",ku=class{constructor(){mr(this,"callbacks",[])}populate(e){this.callbacks.forEach(({callback:t})=>t(e))}subscribe(e){let t=Symbol();return this.callbacks.push({id:t,callback:e}),()=>this.callbacks=this.callbacks.filter(({id:r})=>r!==t)}},Nt,Ui=(Nt=class extends ku{constructor(){super();mr(this,"authUser",null)}static getInstance(){return Nt.instance||(Nt.instance=new Nt),Nt.instance}set(r){this.authUser=r,this.populate(r)}get(){return this.authUser}subscribe(r){let n=super.subscribe(r);return r(this.authUser),n}reset(){this.authUser=null,this.populate(this.authUser)}},mr(Nt,"instance"),Nt),ro=({message:e,detail:t})=>{let r=new CustomEvent(e,{detail:t,bubbles:!0});document.dispatchEvent(r)},Wd=BigInt(144e11),Zd=!1,Jd={width:576,height:576},Xd={width:505,height:705},Qd="internetcomputer.org",Cu="http://127.0.0.1:5987",e0="rdmx6-jaaaa-aaaaa-aaadq-cai",Ot,an=(Ot=class extends ku{constructor(){super();mr(this,"env")}static getInstance(){return Ot.instance||(Ot.instance=new Ot),Ot.instance}set(r){this.env=r,this.populate(r)}get(){return this.env}subscribe(r){let n=super.subscribe(r);return r(this.env),n}},mr(Ot,"instance"),Ot),Fu=({width:e,height:t})=>{if(!Yd()||Ft(window)||Ft(window.top))return;let{top:{innerWidth:r,innerHeight:n}}=window,i=n/2+screenY-t/2,s=r/2+screenX-e/2;return`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=no, copyhistory=no, width=${e}, height=${t}, top=${i}, left=${s}`},on,Ro,t0=(Ro=class{constructor({domain:e}){pn(this,on);gn(this,on,e)}get id(){return"internet_identity"}signInOptions({windowed:e}){let t=()=>{var c;let r=(c=an.getInstance().get())==null?void 0:c.container;if(Ft(r)||r===!1)return`https://identity.${dn(this,on)??Qd}`;let n=an.getInstance().get(),i=dt(n)&&dt(n==null?void 0:n.internetIdentityId)?n.internetIdentityId:e0,{host:s,protocol:a}=new URL(r===!0?Cu:r);return/apple/i.test(navigator==null?void 0:navigator.vendor)?`${a}//${s}?canisterId=${i}`:`${a}//${i}.${s.replace("127.0.0.1","localhost")}`};return{...e!==!1&&{windowOpenerFeatures:Fu(Jd)},identityProvider:t()}}},on=new WeakMap,Ro),cn,un,Uo,r0=(Uo=class{constructor({appName:e,logoUrl:t}){pn(this,cn);pn(this,un);gn(this,cn,e),gn(this,un,t)}get id(){return"nfid"}signInOptions({windowed:e}){return{...e!==!1&&{windowOpenerFeatures:Fu(Xd)},identityProvider:`https://nfid.one/authenticate/?applicationName=${encodeURI(dn(this,cn))}&applicationLogo=${encodeURI(dn(this,un))}`}}},cn=new WeakMap,un=new WeakMap,Uo),n0=rr(Vd()),As;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(As||(As={}));var i0=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},s0=new TextEncoder().encode(`
ic-request`),ea=class{getPrincipal(){return this._principal||(this._principal=Ae.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){let{body:t}=e,r=i0(e,["body"]),n=await rn(t);return Object.assign(Object.assign({},r),{body:{content:t,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(wt(s0,n))}})}},pi=class{getPrincipal(){return Ae.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}},a0=rr(Ii()),xn=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){let e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)},xs;(function(e){e.Call="call"})(xs||(xs={}));function Is(){let e=new ArrayBuffer(16),t=new DataView(e),r=xn(),n=xn(),i=xn(),s=xn();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,i),t.setUint32(12,s),e}var o0=BigInt(1e6),c0=60*1e3,In=class{constructor(e){let t=BigInt(Math.floor(Date.now()+e-c0))*o0/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=t}toCBOR(){return a0.value.u64(this._value.toString(16),16)}toHash(){return je(this._value)}};function no(e=Is){return async t=>{let r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function Fn(e){let t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}var io=class extends ht{constructor(e,t){super(e),this.response=t,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}},Tn=BigInt(4294967295),Ts=BigInt(32);function Du(e,t=!1){return t?{h:Number(e&Tn),l:Number(e>>Ts&Tn)}:{h:Number(e>>Ts&Tn)|0,l:Number(e&Tn)|0}}function u0(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:a}=Du(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]}var l0=(e,t)=>BigInt(e>>>0)<<Ts|BigInt(t>>>0),f0=(e,t,r)=>e>>>r,h0=(e,t,r)=>e<<32-r|t>>>r,d0=(e,t,r)=>e>>>r|t<<32-r,p0=(e,t,r)=>e<<32-r|t>>>r,g0=(e,t,r)=>e<<64-r|t>>>r-32,y0=(e,t,r)=>e>>>r-32|t<<64-r,b0=(e,t)=>t,m0=(e,t)=>e,w0=(e,t,r)=>e<<r|t>>>32-r,v0=(e,t,r)=>t<<r|e>>>32-r,_0=(e,t,r)=>t<<r-32|e>>>64-r,E0=(e,t,r)=>e<<r-32|t>>>64-r;function A0(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var x0=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),I0=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,T0=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),B0=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,S0=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),N0=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,O0={fromBig:Du,split:u0,toBig:l0,shrSH:f0,shrSL:h0,rotrSH:d0,rotrSL:p0,rotrBH:g0,rotrBL:y0,rotr32H:b0,rotr32L:m0,rotlSH:w0,rotlSL:v0,rotlBH:_0,rotlBL:E0,add:A0,add3L:x0,add3H:I0,add4L:T0,add4H:B0,add5H:N0,add5L:S0},_e=O0,[$0,R0]=_e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),qt=new Uint32Array(80),zt=new Uint32Array(80),U0=class extends gc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:d,Fh:f,Fl:y,Gh:O,Gl:p,Hh:g,Hl:w}=this;return[e,t,r,n,i,s,a,c,u,d,f,y,O,p,g,w]}set(e,t,r,n,i,s,a,c,u,d,f,y,O,p,g,w){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=n|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=y|0,this.Gh=O|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(e,t){for(let k=0;k<16;k++,t+=4)qt[k]=e.getUint32(t),zt[k]=e.getUint32(t+=4);for(let k=16;k<80;k++){let F=qt[k-15]|0,Q=zt[k-15]|0,X=_e.rotrSH(F,Q,1)^_e.rotrSH(F,Q,8)^_e.shrSH(F,Q,7),te=_e.rotrSL(F,Q,1)^_e.rotrSL(F,Q,8)^_e.shrSL(F,Q,7),G=qt[k-2]|0,K=zt[k-2]|0,ge=_e.rotrSH(G,K,19)^_e.rotrBH(G,K,61)^_e.shrSH(G,K,6),I=_e.rotrSL(G,K,19)^_e.rotrBL(G,K,61)^_e.shrSL(G,K,6),N=_e.add4L(te,I,zt[k-7],zt[k-16]),se=_e.add4H(N,X,ge,qt[k-7],qt[k-16]);qt[k]=se|0,zt[k]=N|0}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:d,Eh:f,El:y,Fh:O,Fl:p,Gh:g,Gl:w,Hh:B,Hl:L}=this;for(let k=0;k<80;k++){let F=_e.rotrSH(f,y,14)^_e.rotrSH(f,y,18)^_e.rotrBH(f,y,41),Q=_e.rotrSL(f,y,14)^_e.rotrSL(f,y,18)^_e.rotrBL(f,y,41),X=f&O^~f&g,te=y&p^~y&w,G=_e.add5L(L,Q,te,R0[k],zt[k]),K=_e.add5H(G,B,F,X,$0[k],qt[k]),ge=G|0,I=_e.rotrSH(r,n,28)^_e.rotrBH(r,n,34)^_e.rotrBH(r,n,39),N=_e.rotrSL(r,n,28)^_e.rotrBL(r,n,34)^_e.rotrBL(r,n,39),se=r&i^r&a^i&a,ie=n&s^n&c^s&c;B=g|0,L=w|0,g=O|0,w=p|0,O=f|0,p=y|0,{h:f,l:y}=_e.add(u|0,d|0,K|0,ge|0),u=a|0,d=c|0,a=i|0,c=s|0,i=r|0,s=n|0;let x=_e.add3L(ge,N,ie);r=_e.add3H(x,K,I,se),n=x|0}({h:r,l:n}=_e.add(this.Ah|0,this.Al|0,r|0,n|0)),{h:i,l:s}=_e.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=_e.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:d}=_e.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:y}=_e.add(this.Eh|0,this.El|0,f|0,y|0),{h:O,l:p}=_e.add(this.Fh|0,this.Fl|0,O|0,p|0),{h:g,l:w}=_e.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:B,l:L}=_e.add(this.Hh|0,this.Hl|0,B|0,L|0),this.set(r,n,i,s,a,c,u,d,f,y,O,p,g,w,B,L)}roundClean(){qt.fill(0),zt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ju=Vs(()=>new U0),gt=BigInt(0),ct=BigInt(1),Bn=BigInt(2),P0=BigInt(8),L0={zip215:!0};function k0(e){let t=Eu(e);return kr(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function ta(e){let t=k0(e),{Fp:r,n,prehash:i,hash:s,randomBytes:a,nByteLength:c,h:u}=t,d=Bn<<BigInt(c*8)-ct,f=r.create,y=t.uvRatio||((M,V)=>{try{return{isValid:!0,value:r.sqrt(M*r.inv(V))}}catch{return{isValid:!1,value:gt}}}),O=t.adjustScalarBytes||(M=>M),p=t.domain||((M,V,ee)=>{if(V.length||ee)throw new Error("Contexts/pre-hash are not supported");return M}),g=M=>typeof M=="bigint"&&gt<M,w=(M,V)=>g(M)&&g(V)&&M<V,B=M=>M===gt||w(M,d);function L(M,V){if(w(M,V))return M;throw new Error(`Expected valid scalar < ${V}, got ${typeof M} ${M}`)}function k(M){return M===gt?M:L(M,n)}let F=new Map;function Q(M){if(!(M instanceof X))throw new Error("ExtendedPoint expected")}class X{constructor(V,ee,oe,ae){if(this.ex=V,this.ey=ee,this.ez=oe,this.et=ae,!B(V))throw new Error("x required");if(!B(ee))throw new Error("y required");if(!B(oe))throw new Error("z required");if(!B(ae))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(V){if(V instanceof X)throw new Error("extended point not allowed");let{x:ee,y:oe}=V||{};if(!B(ee)||!B(oe))throw new Error("invalid affine point");return new X(ee,oe,ct,f(ee*oe))}static normalizeZ(V){let ee=r.invertBatch(V.map(oe=>oe.ez));return V.map((oe,ae)=>oe.toAffine(ee[ae])).map(X.fromAffine)}_setWindowSize(V){this._WINDOW_SIZE=V,F.delete(this)}assertValidity(){let{a:V,d:ee}=t;if(this.is0())throw new Error("bad point: ZERO");let{ex:oe,ey:ae,ez:le,et:de}=this,E=f(oe*oe),q=f(ae*ae),ye=f(le*le),Ie=f(ye*ye),ue=f(E*V),fe=f(ye*f(ue+q)),Be=f(Ie+f(ee*f(E*q)));if(fe!==Be)throw new Error("bad point: equation left != right (1)");let b=f(oe*ae),m=f(le*de);if(b!==m)throw new Error("bad point: equation left != right (2)")}equals(V){Q(V);let{ex:ee,ey:oe,ez:ae}=this,{ex:le,ey:de,ez:E}=V,q=f(ee*E),ye=f(le*ae),Ie=f(oe*E),ue=f(de*ae);return q===ye&&Ie===ue}is0(){return this.equals(X.ZERO)}negate(){return new X(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){let{a:V}=t,{ex:ee,ey:oe,ez:ae}=this,le=f(ee*ee),de=f(oe*oe),E=f(Bn*f(ae*ae)),q=f(V*le),ye=ee+oe,Ie=f(f(ye*ye)-le-de),ue=q+de,fe=ue-E,Be=q-de,b=f(Ie*fe),m=f(ue*Be),v=f(Ie*Be),C=f(fe*ue);return new X(b,m,C,v)}add(V){Q(V);let{a:ee,d:oe}=t,{ex:ae,ey:le,ez:de,et:E}=this,{ex:q,ey:ye,ez:Ie,et:ue}=V;if(ee===BigInt(-1)){let R=f((le-ae)*(ye+q)),Y=f((le+ae)*(ye-q)),he=f(Y-R);if(he===gt)return this.double();let pe=f(de*Bn*ue),me=f(E*Bn*Ie),$e=me+pe,o=Y+R,l=me-pe,h=f($e*he),A=f(o*l),P=f($e*l),H=f(he*o);return new X(h,A,H,P)}let fe=f(ae*q),Be=f(le*ye),b=f(E*oe*ue),m=f(de*Ie),v=f((ae+le)*(q+ye)-fe-Be),C=m-b,$=m+b,T=f(Be-ee*fe),j=f(v*C),S=f($*T),U=f(v*T),D=f(C*$);return new X(j,S,D,U)}subtract(V){return this.add(V.negate())}wNAF(V){return K.wNAFCached(this,F,V,X.normalizeZ)}multiply(V){let{p:ee,f:oe}=this.wNAF(L(V,n));return X.normalizeZ([ee,oe])[0]}multiplyUnsafe(V){let ee=k(V);return ee===gt?G:this.equals(G)||ee===ct?this:this.equals(te)?this.wNAF(ee).p:K.unsafeLadder(this,ee)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return K.unsafeLadder(this,n).is0()}toAffine(V){let{ex:ee,ey:oe,ez:ae}=this,le=this.is0();V==null&&(V=le?P0:r.inv(ae));let de=f(ee*V),E=f(oe*V),q=f(ae*V);if(le)return{x:gt,y:ct};if(q!==ct)throw new Error("invZ was invalid");return{x:de,y:E}}clearCofactor(){let{h:V}=t;return V===ct?this:this.multiplyUnsafe(V)}static fromHex(V,ee=!1){let{d:oe,a:ae}=t,le=r.BYTES;V=it("pointHex",V,le);let de=V.slice(),E=V[le-1];de[le-1]=E&-129;let q=Br(de);q===gt||(ee?L(q,d):L(q,r.ORDER));let ye=f(q*q),Ie=f(ye-ct),ue=f(oe*ye-ae),{isValid:fe,value:Be}=y(Ie,ue);if(!fe)throw new Error("Point.fromHex: invalid y coordinate");let b=(Be&ct)===ct,m=(E&128)!==0;if(!ee&&Be===gt&&m)throw new Error("Point.fromHex: x=0 and x_0=1");return m!==b&&(Be=f(-Be)),X.fromAffine({x:Be,y:q})}static fromPrivateKey(V){return N(V).point}toRawBytes(){let{x:V,y:ee}=this.toAffine(),oe=nn(ee,r.BYTES);return oe[oe.length-1]|=V&ct?128:0,oe}toHex(){return tr(this.toRawBytes())}}X.BASE=new X(t.Gx,t.Gy,ct,f(t.Gx*t.Gy)),X.ZERO=new X(gt,ct,ct,gt);let{BASE:te,ZERO:G}=X,K=_u(X,c*8);function ge(M){return Fe(M,n)}function I(M){return ge(Br(M))}function N(M){let V=c;M=it("private key",M,V);let ee=it("hashed private key",s(M),2*V),oe=O(ee.slice(0,V)),ae=ee.slice(V,2*V),le=I(oe),de=te.multiply(le),E=de.toRawBytes();return{head:oe,prefix:ae,scalar:le,point:de,pointBytes:E}}function se(M){return N(M).pointBytes}function ie(M=new Uint8Array,...V){let ee=De(...V);return I(s(p(ee,it("context",M),!!i)))}function x(M,V,ee={}){M=it("message",M),i&&(M=i(M));let{prefix:oe,scalar:ae,pointBytes:le}=N(V),de=ie(ee.context,oe,M),E=te.multiply(de).toRawBytes(),q=ie(ee.context,E,le,M),ye=ge(de+q*ae);k(ye);let Ie=De(E,nn(ye,r.BYTES));return it("result",Ie,c*2)}let Z=L0;function z(M,V,ee,oe=Z){let{context:ae,zip215:le}=oe,de=r.BYTES;M=it("signature",M,2*de),V=it("message",V),i&&(V=i(V));let E=Br(M.slice(de,2*de)),q,ye,Ie;try{q=X.fromHex(ee,le),ye=X.fromHex(M.slice(0,de),le),Ie=te.multiplyUnsafe(E)}catch{return!1}if(!le&&q.isSmallOrder())return!1;let ue=ie(ae,ye.toRawBytes(),q.toRawBytes(),V);return ye.add(q.multiplyUnsafe(ue)).subtract(Ie).clearCofactor().equals(X.ZERO)}return te._setWindowSize(8),{CURVE:t,getPublicKey:se,sign:x,verify:z,ExtendedPoint:X,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>a(r.BYTES),precompute(M=8,V=X.BASE){return V._setWindowSize(M),V.multiply(BigInt(3)),V}}}}var ra=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),so=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);var C0=BigInt(1),Bs=BigInt(2),F0=BigInt(5),ao=BigInt(10),D0=BigInt(20),j0=BigInt(40),oo=BigInt(80);function M0(e){let t=ra,r=e*e%t*e%t,n=_t(r,Bs,t)*r%t,i=_t(n,C0,t)*e%t,s=_t(i,F0,t)*i%t,a=_t(s,ao,t)*s%t,c=_t(a,D0,t)*a%t,u=_t(c,j0,t)*c%t,d=_t(u,oo,t)*u%t,f=_t(d,oo,t)*u%t,y=_t(f,ao,t)*s%t;return{pow_p_5_8:_t(y,Bs,t)*e%t,b2:r}}function V0(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function q0(e,t){let r=ra,n=Fe(t*t*t,r),i=Fe(n*n*t,r),s=M0(e*i).pow_p_5_8,a=Fe(e*n*s,r),c=Fe(t*a*a,r),u=a,d=Fe(a*so,r),f=c===e,y=c===Fe(-e,r),O=c===Fe(-e*so,r);return f&&(a=u),(y||O)&&(a=d),id(a,r)&&(a=Fe(-a,r)),{isValid:f||y,value:a}}var kt=Zs(ra,void 0,!0),na={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:kt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ju,randomBytes:pc,adjustScalarBytes:V0,uvRatio:q0},vr=ta(na);function Mu(e,t,r){if(t.length>255)throw new Error("Context is too big");return bh(hc("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}ta({...na,domain:Mu});ta({...na,domain:Mu,prehash:ju});var z0=(kt.ORDER+BigInt(3))/BigInt(8);kt.pow(Bs,z0);kt.sqrt(kt.neg(kt.ONE));(kt.ORDER-BigInt(5))/BigInt(8);BigInt(486662);ad(kt,kt.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var co=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},nt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},rt,qr,Vu,qu,H0=class{constructor(e={}){rt.set(this,void 0),qr.set(this,void 0),this[Vu]=this.entries.bind(this),this[qu]="ExpirableMap";let{source:t=[],expirationTime:r=10*60*1e3}=e,n=Date.now();co(this,rt,new Map([...t].map(([i,s])=>[i,{value:s,timestamp:n}]))),co(this,qr,r)}prune(){let e=Date.now();for(let[t,r]of nt(this,rt,"f").entries())e-r.timestamp>nt(this,qr,"f")&&nt(this,rt,"f").delete(t);return this}set(e,t){this.prune();let r={value:t,timestamp:Date.now()};return nt(this,rt,"f").set(e,r),this}get(e){let t=nt(this,rt,"f").get(e);if(t!==void 0){if(Date.now()-t.timestamp>nt(this,qr,"f")){nt(this,rt,"f").delete(e);return}return t.value}}clear(){nt(this,rt,"f").clear()}entries(){let e=nt(this,rt,"f").entries();return function*(){for(let[t,r]of e)yield[t,r.value]}()}values(){let e=nt(this,rt,"f").values();return function*(){for(let t of e)yield t.value}()}keys(){return nt(this,rt,"f").keys()}forEach(e,t){for(let[r,n]of nt(this,rt,"f").entries())e.call(t,n.value,r,this)}has(e){return nt(this,rt,"f").has(e)}delete(e){return nt(this,rt,"f").delete(e)}get size(){return nt(this,rt,"f").size}};rt=new WeakMap,qr=new WeakMap,Vu=Symbol.iterator,qu=Symbol.toStringTag;var uo=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},lo=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},Ss=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},G0=(e,t)=>{let r=Ss(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);var gi=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function zu(e,t){let r=2+uo(e.byteLength+1),n=t.byteLength+r+e.byteLength,i=0,s=new Uint8Array(1+uo(n)+n);return s[i++]=48,i+=lo(s,i,n),s.set(t,i),i+=t.byteLength,s[i++]=3,i+=lo(s,i,e.byteLength+1),s[i++]=0,s.set(new Uint8Array(e),i),s}var Hu=(e,t)=>{let r=0,n=(c,u)=>{if(i[r++]!==c)throw new Error("Expected: "+u)},i=new Uint8Array(e);if(n(48,"sequence"),r+=Ss(i,r),!wc(i.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");let s=G0(i,r)-1;r+=Ss(i,r),n(0,"0 padding");let a=i.slice(r);if(s!==a.length)throw new Error(`DER payload mismatch: Expected length ${s} actual length ${a.length}`);return a},fo=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},ho=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Dn,jn,Gu=class zr{constructor(t){if(Dn.set(this,void 0),jn.set(this,void 0),t.byteLength!==zr.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");fo(this,Dn,t),fo(this,jn,zr.derEncode(t))}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new zr(t)}static fromDer(t){return new zr(this.derDecode(t))}static derEncode(t){return zu(t,gi).buffer}static derDecode(t){let r=Hu(t,gi);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return ho(this,Dn,"f")}get derKey(){return ho(this,jn,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Dn=new WeakMap,jn=new WeakMap;Gu.RAW_KEY_LENGTH=32;var Ku=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ns,Yu,Os,Wu,K0=class extends Function{constructor(){return super(),Ns.add(this),this.observers=[],new Proxy(this,{apply:(e,t,r)=>Ku(e,Ns,"m",Yu).call(e,r[0],...r.slice(1))})}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(t=>t!==e)}notify(e,...t){this.observers.forEach(r=>r(e,...t))}};Ns=new WeakSet,Yu=function(e,...t){this.notify(e,...t)};var Y0=class extends K0{constructor(){return super(),Os.add(this),new Proxy(this,{apply:(e,t,r)=>Ku(e,Os,"m",Wu).call(e,r[0],...r.slice(1))})}log(e,...t){this.notify({message:e,level:"info"},...t)}warn(e,...t){this.notify({message:e,level:"warn"},...t)}error(e,t,...r){this.notify({message:e,level:"error",error:t},...r)}};Os=new WeakSet,Wu=function(e,...t){this.log(e,...t)};var Et=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},tt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},At,Mn,Vn,qn,zn,Hn,Gn,Kn,_r,Zu=class Ju{constructor(t=Ju.default){At.set(this,void 0),Mn.set(this,void 0),Vn.set(this,void 0),qn.set(this,void 0),zn.set(this,void 0),Hn.set(this,void 0),Gn.set(this,void 0),Kn.set(this,void 0),_r.set(this,0);let{initialInterval:r=500,randomizationFactor:n=.5,multiplier:i=1.5,maxInterval:s=6e4,maxElapsedTime:a=9e5,maxIterations:c=10,date:u=Date}=t;Et(this,At,r),Et(this,Mn,n),Et(this,Vn,i),Et(this,qn,s),Et(this,Kn,u),Et(this,zn,u.now()),Et(this,Hn,a),Et(this,Gn,c)}get ellapsedTimeInMsec(){return tt(this,Kn,"f").now()-tt(this,zn,"f")}get currentInterval(){return tt(this,At,"f")}get count(){return tt(this,_r,"f")}get randomValueFromInterval(){let t=tt(this,Mn,"f")*tt(this,At,"f"),r=tt(this,At,"f")-t,n=tt(this,At,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return Et(this,At,Math.min(tt(this,At,"f")*tt(this,Vn,"f"),tt(this,qn,"f"))),Et(this,_r,(t=tt(this,_r,"f"),t++,t)),tt(this,At,"f")}next(){return this.ellapsedTimeInMsec>=tt(this,Hn,"f")||tt(this,_r,"f")>=tt(this,Gn,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}};At=new WeakMap,Mn=new WeakMap,Vn=new WeakMap,qn=new WeakMap,zn=new WeakMap,Hn=new WeakMap,Gn=new WeakMap,Kn=new WeakMap,_r=new WeakMap;Zu.default={initialInterval:500,randomizationFactor:.5,multiplier:1.5,maxInterval:6e4,maxElapsedTime:9e5,maxIterations:10,date:Date};var Sn=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},Ee=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},St,yt,ar,Yn,Er,Ar,or,lr,Xu,Wn,Zn,Rt;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Rt||(Rt={}));var Nn=5*60*1e3,W0="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",Z0="ic0.app",J0=".ic0.app",X0="icp0.io",Q0=".icp0.io",ep="icp-api.io",tp=".icp-api.io",Yi=class extends ht{constructor(e){super(e),this.message=e}},On=class extends ht{constructor(e){super(e),this.message=e}};function rp(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new Yi("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof globalThis<"u")if(globalThis.fetch)e=globalThis.fetch.bind(globalThis);else throw new Yi("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new Yi("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}var np=class Qu{constructor(t={}){var r;if(St.add(this),this.rootKey=Lt(W0),this._timeDiffMsecs=0,this._rootKeyFetched=!1,yt.set(this,void 0),ar.set(this,void 0),this._isAgent=!0,Yn.set(this,0),this.log=new Y0,Er.set(this,[]),Ar.set(this,[]),or.set(this,new H0({expirationTime:5*60*1e3})),lr.set(this,!0),Zn.set(this,(i,s)=>{if(Ee(this,lr,"f")===!1)return i;if(!s)throw new It("Invalid signature from replica signed query: no matching node key found.");let{status:a,signatures:c=[],requestId:u}=i,d=new TextEncoder().encode("\vic-response");for(let f of c){let{timestamp:y,identity:O}=f,p=Ae.fromUint8Array(O).toText(),g;if(a==="replied"){let{reply:k}=i;g=ui({status:a,reply:k,timestamp:BigInt(y),request_id:u})}else if(a==="rejected"){let{reject_code:k,reject_message:F,error_code:Q}=i;g=ui({status:a,reject_code:k,reject_message:F,error_code:Q,timestamp:BigInt(y),request_id:u})}else throw new Error(`Unknown status: ${a}`);let w=wt(d,new Uint8Array(g)),B=s==null?void 0:s.nodeKeys.get(p);if(!B)throw new It("Invalid signature from replica signed query: no matching node key found.");let L=Gu.fromDer(B).rawKey;if(vr.verify(f.signature,new Uint8Array(w),new Uint8Array(L)))return i;throw new It(`Invalid signature from replica ${p} signed query.`)}return i}),t.source){if(!(t.source instanceof Qu))throw new Error("An Agent's source can only be another HttpAgent");this._identity=t.source._identity,this._fetch=t.source._fetch,this._host=t.source._host,this._credentials=t.source._credentials}else this._fetch=t.fetch||rp()||fetch.bind(globalThis),this._fetchOptions=t.fetchOptions,this._callOptions=t.callOptions;if(t.host!==void 0)!t.host.match(/^[a-z]+:/)&&typeof window<"u"?this._host=new URL(window.location.protocol+"//"+t.host):this._host=new URL(t.host);else if(t.source!==void 0)this._host=t.source._host;else{let i=typeof window<"u"?window.location:void 0;i||(this._host=new URL("https://icp-api.io"),this.log.warn("Could not infer host from window.location, defaulting to mainnet gateway of https://icp-api.io. Please provide a host to the HttpAgent constructor to avoid this warning."));let s=["ic0.app","icp0.io","127.0.0.1","localhost"],a=[".github.dev",".gitpod.io"],c=i==null?void 0:i.hostname,u;c&&typeof c=="string"&&(a.some(d=>c.endsWith(d))?u=c:u=s.find(d=>c.endsWith(d))),i&&u?this._host=new URL(`${i.protocol}//${u}${i.port?":"+i.port:""}`):(this._host=new URL("https://icp-api.io"),this.log.warn("Could not infer host from window.location, defaulting to mainnet gateway of https://icp-api.io. Please provide a host to the HttpAgent constructor to avoid this warning."))}t.verifyQuerySignatures!==void 0&&Sn(this,lr,t.verifyQuerySignatures),Sn(this,yt,(r=t.retryTimes)!==null&&r!==void 0?r:3);let n=()=>new Zu({maxIterations:Ee(this,yt,"f")});if(Sn(this,ar,t.backoffStrategy||n),this._host.hostname.endsWith(J0)?this._host.hostname=Z0:this._host.hostname.endsWith(Q0)?this._host.hostname=X0:this._host.hostname.endsWith(tp)&&(this._host.hostname=ep),t.credentials){let{name:i,password:s}=t.credentials;this._credentials=`${i}${s?":"+s:""}`}this._identity=Promise.resolve(t.identity||new pi),this.addTransform("update",no(Is)),t.useQueryNonces&&this.addTransform("query",no(Is)),t.logToConsole&&this.log.subscribe(i=>{i.level==="error"?console.error(i.message):i.level==="warn"?console.warn(i.message):console.log(i.message)})}get waterMark(){return Ee(this,Yn,"f")}isLocal(){let t=this._host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){let i=Ee(this,Ar,"f").findIndex(s=>(s.priority||0)<n);Ee(this,Ar,"f").splice(i>=0?i:Ee(this,Ar,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){let i=Ee(this,Er,"f").findIndex(s=>(s.priority||0)<n);Ee(this,Er,"f").splice(i>=0?i:Ee(this,Er,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!this._identity)throw new On("This identity has expired due this application's security policy. Please refresh your authentication.");return(await this._identity).getPrincipal()}async call(t,r,n){let i=await(n!==void 0?await n:await this._identity);if(!i)throw new On("This identity has expired due this application's security policy. Please refresh your authentication.");let s=Ae.from(t),a=r.effectiveCanisterId?Ae.from(r.effectiveCanisterId):s,c=i.getPrincipal()||Ae.anonymous(),u=new In(Nn);Math.abs(this._timeDiffMsecs)>1e3*30&&(u=new In(Nn+this._timeDiffMsecs));let d={request_type:xs.Call,canister_id:s,method_name:r.methodName,arg:r.arg,sender:c,ingress_expiry:u},f=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},this._credentials?{Authorization:"Basic "+btoa(this._credentials)}:{})},endpoint:"call",body:d});f=await i.transformRequest(f);let y=Mi(f.body);this.log(`fetching "/api/v2/canister/${a.toText()}/call" with request:`,f);let O=Ee(this,ar,"f").call(this),p=Ee(this,St,"m",Wn).call(this,{request:()=>this._fetch(""+new URL(`/api/v2/canister/${a.toText()}/call`,this._host),Object.assign(Object.assign(Object.assign({},this._callOptions),f.request),{body:y})),backoff:O,tries:0}),[g,w]=await Promise.all([p,rn(d)]),B=await g.arrayBuffer(),L=g.status===200&&B.byteLength>0?Pt(B):null;return{requestId:w,response:{ok:g.ok,status:g.status,statusText:g.statusText,body:L,headers:Fn(g.headers)}}}async query(t,r,n){let i=Ee(this,ar,"f").call(this),s=r.effectiveCanisterId?Ae.from(r.effectiveCanisterId):Ae.from(t);this.log(`ecid ${s.toString()}`),this.log(`canisterId ${t.toString()}`);let a=async()=>{let f=await(n!==void 0?await n:await this._identity);if(!f)throw new On("This identity has expired due this application's security policy. Please refresh your authentication.");let y=Ae.from(t),O=(f==null?void 0:f.getPrincipal())||Ae.anonymous(),p={request_type:"query",canister_id:y,method_name:r.methodName,arg:r.arg,sender:O,ingress_expiry:new In(Nn)},g=await rn(p),w=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},this._credentials?{Authorization:"Basic "+btoa(this._credentials)}:{})},endpoint:"read",body:p});w=await(f==null?void 0:f.transformRequest(w));let B=Mi(w.body),L={canister:y.toText(),ecid:s,transformedRequest:w,body:B,requestId:g,backoff:i,tries:0};return await Ee(this,St,"m",Xu).call(this,L)},c=async()=>Ee(this,lr,"f")?Ee(this,or,"f").get(s.toString())||(await this.fetchSubnetKeys(s.toString()),Ee(this,or,"f").get(s.toString())):void 0,[u,d]=await Promise.all([a(),c()]);if(this.log("Query response:",u),!Ee(this,lr,"f"))return u;try{return Ee(this,Zn,"f").call(this,u,d)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),Ee(this,or,"f").delete(t.toString()),await this.fetchSubnetKeys(s.toString());let f=Ee(this,or,"f").get(t.toString());if(!f)throw new It("Invalid signature from replica signed query: no matching node key found.");return Ee(this,Zn,"f").call(this,u,f)}}async createReadStateRequest(t,r){let n=await(r!==void 0?await r:await this._identity);if(!n)throw new On("This identity has expired due this application's security policy. Please refresh your authentication.");let i=(n==null?void 0:n.getPrincipal())||Ae.anonymous(),s=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},this._credentials?{Authorization:"Basic "+btoa(this._credentials)}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new In(Nn)}});return n==null?void 0:n.transformRequest(s)}async readState(t,r,n,i){let s=typeof t=="string"?Ae.fromText(t):t,a=i??await this.createReadStateRequest(r,n),c=Mi(a.body);this.log(`fetching "/api/v2/canister/${s}/read_state" with request:`,a);let u=Ee(this,ar,"f").call(this),d=await Ee(this,St,"m",Wn).call(this,{request:()=>this._fetch(""+new URL(`/api/v2/canister/${s.toString()}/read_state`,this._host),Object.assign(Object.assign(Object.assign({},this._fetchOptions),a.request),{body:c})),backoff:u,tries:0});if(!d.ok)throw new Error(`Server returned an error:
  Code: ${d.status} (${d.statusText})
  Body: ${await d.text()}
`);let f=Pt(await d.arrayBuffer());this.log("Read state response:",f);let y=await this.parseTimeFromResponse(f);return y>0&&(this.log("Read state response time:",y),Sn(this,Yn,y)),f}async parseTimeFromResponse(t){let r;if(t.certificate){let n=Pt(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");let i=Ur(["time"],r);if(!i)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");let s=Qs(zs(i));return this.log("Time from response:",s),this.log("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){let r=await xf(()=>Promise.resolve().then(()=>wg),void 0),n=Date.now();try{t||this.log("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");let i=(await r.request({canisterId:t??Ae.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:this,paths:["time"]})).get("time");i&&(this._timeDiffMsecs=Number(i)-Number(n))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){let t=this._credentials?{Authorization:"Basic "+btoa(this._credentials)}:{};this.log('fetching "/api/v2/status"');let r=Ee(this,ar,"f").call(this),n=await Ee(this,St,"m",Wn).call(this,{backoff:r,request:()=>this._fetch(""+new URL("/api/v2/status",this._host),Object.assign({headers:t},this._fetchOptions)),tries:0});return Pt(await n.arrayBuffer())}async fetchRootKey(){return this._rootKeyFetched||(this.rootKey=(await this.status()).root_key,this._rootKeyFetched=!0),this.rootKey}invalidateIdentity(){this._identity=null}replaceIdentity(t){this._identity=Promise.resolve(t)}async fetchSubnetKeys(t){let r=Ae.from(t),n=(await Ru({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(n&&typeof n=="object"&&"nodeKeys"in n)return Ee(this,or,"f").set(r.toText(),n),n}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(let n of Ee(this,Ar,"f"))r=r.then(i=>n(i).then(s=>s||i));else for(let n of Ee(this,Er,"f"))r=r.then(i=>n(i).then(s=>s||i));return r}};yt=new WeakMap,ar=new WeakMap,Yn=new WeakMap,Er=new WeakMap,Ar=new WeakMap,or=new WeakMap,lr=new WeakMap,Zn=new WeakMap,St=new WeakSet,Xu=async function e(t){var r,n;let{ecid:i,transformedRequest:s,body:a,requestId:c,backoff:u,tries:d}=t,f=d===0?0:u.next();if(this.log(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:d,backoff:u,delay:f}),f===null)throw new ht(`Timestamp failed to pass the watermark after retrying the configured ${Ee(this,yt,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);f>0&&await new Promise(g=>setTimeout(g,f));let y;try{this.log(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,s);let g=await this._fetch(""+new URL(`/api/v2/canister/${i.toString()}/query`,this._host),Object.assign(Object.assign(Object.assign({},this._fetchOptions),s.request),{body:a}));if(g.status===200){let w=Pt(await g.arrayBuffer());y=Object.assign(Object.assign({},w),{httpDetails:{ok:g.ok,status:g.status,statusText:g.statusText,headers:Fn(g.headers)},requestId:c})}else throw new io(`Server returned an error:
  Code: ${g.status} (${g.statusText})
  Body: ${await g.text()}
`,{ok:g.ok,status:g.status,statusText:g.statusText,headers:Fn(g.headers)})}catch(g){if(d<Ee(this,yt,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${g}
  Retrying query.`),await Ee(this,St,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw g}let O=(n=(r=y.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!Ee(this,lr,"f"))return y;if(!O)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");let p=Number(BigInt(O)/BigInt(1e6));if(this.log("watermark and timestamp",{waterMark:this.waterMark,timestamp:p}),Number(this.waterMark)>p){let g=new ht("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",g,{timestamp:O,waterMark:this.waterMark}),d<Ee(this,yt,"f"))return await Ee(this,St,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw new ht(`Timestamp failed to pass the watermark after retrying the configured ${Ee(this,yt,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return y},Wn=async function e(t){let{request:r,backoff:n,tries:i}=t,s=i===0?0:n.next();if(s===null)throw new ht(`Timestamp failed to pass the watermark after retrying the configured ${Ee(this,yt,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);s>0&&await new Promise(d=>setTimeout(d,s));let a;try{a=await r()}catch(d){if(Ee(this,yt,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${d}
  Retrying request.`),await Ee(this,St,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw d}if(a.ok)return a;let c=await a.clone().text(),u=`Server returned an error:
  Code: ${a.status} (${a.statusText})
  Body: ${c}
`;if(i<Ee(this,yt,"f"))return await Ee(this,St,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw new io(u,{ok:a.ok,status:a.status,statusText:a.statusText,headers:Fn(a.headers)})};var po;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(po||(po={}));function go(){let e=typeof window>"u"?typeof globalThis>"u"?typeof self>"u"?void 0:self.ic.agent:globalThis.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}var el={};wi(el,{backoff:()=>il,chain:()=>sl,conditionalDelay:()=>rl,defaultStrategy:()=>sp,maxAttempts:()=>ap,once:()=>tl,throttle:()=>op,timeout:()=>nl});var ip=5*60*1e3;function sp(){return sl(rl(tl(),1e3),il(1e3,1.2),nl(ip))}function tl(){let e=!0;return async()=>e?(e=!1,!0):!1}function rl(e,t){return async(r,n,i)=>{if(await e(r,n,i))return new Promise(s=>setTimeout(s,t))}}function ap(e){let t=e;return async(r,n,i)=>{if(--t<=0)throw new Error(`Failed to retrieve a reply for request after ${e} attempts:
  Request ID: ${Qe(n)}
  Request status: ${i}
`)}}function op(e){return()=>new Promise(t=>setTimeout(t,e))}function nl(e){let t=Date.now()+e;return async(r,n,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${Qe(n)}
  Request status: ${i}
`)}}function il(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function sl(...e){return async(t,r,n)=>{for(let i of e)await i(t,r,n)}}async function al(e,t,r,n,i,s){var a;let c=[new TextEncoder().encode("request_status"),r],u=i??await((a=e.createReadStateRequest)===null||a===void 0?void 0:a.call(e,{paths:[c]})),d=await e.readState(t,{paths:[c]},void 0,u);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");let f=await Nu.create({certificate:d.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:s}),y=f.lookup([...c,new TextEncoder().encode("status")]),O;switch(typeof y>"u"?O=Rt.Unknown:O=new TextDecoder().decode(y),O){case Rt.Replied:return f.lookup([...c,"reply"]);case Rt.Received:case Rt.Unknown:case Rt.Processing:return await n(t,r,O),al(e,t,r,n,u);case Rt.Rejected:{let p=new Uint8Array(f.lookup([...c,"reject_code"]))[0],g=new TextDecoder().decode(f.lookup([...c,"reject_message"]));throw new Error(`Call was rejected:
  Request ID: ${Qe(r)}
  Reject code: ${p}
  Reject text: ${g}
`)}case Rt.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Qe(r)}
`)}throw new Error("unreachable")}var cp=({IDL:e})=>{let t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,s=i,a=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),c=i,u=e.Record({network:t}),d=e.Nat64,f=e.Vec(d),y=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),O=e.Vec(e.Nat8),p=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),g=e.Record({height:e.Nat32,value:i,outpoint:p}),w=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:e.Nat32,tip_block_hash:O,utxos:e.Vec(g)}),B=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),L=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:e.Nat32,tip_block_hash:O,utxos:e.Vec(g)}),k=e.Record({transaction:e.Vec(e.Nat8),network:t}),F=e.Principal,Q=e.Record({canister_id:F,num_requested_changes:e.Opt(e.Nat64)}),X=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),te=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),G=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:X,details:te}),K=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(G),total_num_changes:e.Nat64}),ge=e.Record({canister_id:F}),I=e.Variant({controllers:e.Null,public:e.Null}),N=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:I,memory_allocation:e.Nat,compute_allocation:e.Nat}),se=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:N,idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),ie=e.Record({canister_id:F}),x=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(I),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),Z=e.Record({settings:e.Opt(x),sender_canister_version:e.Opt(e.Nat64)}),z=e.Record({canister_id:F}),M=e.Record({canister_id:F}),V=e.Record({canister_id:F}),ee=e.Variant({secp256k1:e.Null}),oe=e.Record({key_id:e.Record({name:e.Text,curve:ee}),canister_id:e.Opt(F),derivation_path:e.Vec(e.Vec(e.Nat8))}),ae=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),le=e.Record({canister_id:F}),de=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),E=e.Record({canister_log_records:e.Vec(de)}),q=e.Record({value:e.Text,name:e.Text}),ye=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(q)}),Ie=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:ye})],[ye],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(q)}),ue=e.Vec(e.Nat8),fe=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),chunk_hashes_list:e.Vec(ue),target_canister:F,sender_canister_version:e.Opt(e.Nat64),storage_canister:e.Opt(F)}),Be=e.Vec(e.Nat8),b=e.Record({arg:e.Vec(e.Nat8),wasm_module:Be,mode:e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),canister_id:F,sender_canister_version:e.Opt(e.Nat64)}),m=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),v=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_total:e.Nat64}),C=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(v)})),$=e.Record({settings:e.Opt(x),specified_id:e.Opt(F),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),T=e.Record({canister_id:F}),j=e.Record({canister_id:F,amount:e.Nat}),S=e.Vec(e.Nat8),U=e.Record({key_id:e.Record({name:e.Text,curve:ee}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),D=e.Record({signature:e.Vec(e.Nat8)}),R=e.Record({canister_id:F}),Y=e.Record({canister_id:F}),he=e.Record({canister_id:F}),pe=e.Vec(ue),me=e.Record({canister_id:F,sender_canister_version:e.Opt(e.Nat64)}),$e=e.Record({canister_id:e.Principal,settings:x,sender_canister_version:e.Opt(e.Nat64)}),o=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),l=ue;return e.Service({bitcoin_get_balance:e.Func([n],[s],[]),bitcoin_get_balance_query:e.Func([a],[c],["query"]),bitcoin_get_current_fee_percentiles:e.Func([u],[f],[]),bitcoin_get_utxos:e.Func([y],[w],[]),bitcoin_get_utxos_query:e.Func([B],[L],["query"]),bitcoin_send_transaction:e.Func([k],[],[]),canister_info:e.Func([Q],[K],[]),canister_status:e.Func([ge],[se],[]),clear_chunk_store:e.Func([ie],[],[]),create_canister:e.Func([Z],[z],[]),delete_canister:e.Func([M],[],[]),deposit_cycles:e.Func([V],[],[]),ecdsa_public_key:e.Func([oe],[ae],[]),fetch_canister_logs:e.Func([le],[E],["query"]),http_request:e.Func([Ie],[ye],[]),install_chunked_code:e.Func([fe],[],[]),install_code:e.Func([b],[],[]),node_metrics_history:e.Func([m],[C],[]),provisional_create_canister_with_cycles:e.Func([$],[T],[]),provisional_top_up_canister:e.Func([j],[],[]),raw_rand:e.Func([],[S],[]),sign_with_ecdsa:e.Func([U],[D],[]),start_canister:e.Func([R],[],[]),stop_canister:e.Func([Y],[],[]),stored_chunks:e.Func([he],[pe],[]),uninstall_code:e.Func([me],[],[]),update_settings:e.Func([$e],[],[]),upload_chunk:e.Func([o],[l],[])})},ol=class extends ht{constructor(e,t,r,n){super(["Call failed:",`  Canister: ${e.toText()}`,`  Method: ${t} (${r})`,...Object.getOwnPropertyNames(n).map(i=>`  "${i}": ${JSON.stringify(n[i])}`)].join(`
`)),this.canisterId=e,this.methodName=t,this.type=r,this.props=n}},up=class extends ol{constructor(e,t,r){var n;super(e,t,"query",{Status:r.status,Code:(n=As[r.reject_code])!==null&&n!==void 0?n:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}},lp=class extends ol{constructor(e,t,r,n){super(e,t,"update",Object.assign({"Request ID":Qe(r)},n.body?Object.assign(Object.assign({},n.body.error_code?{"Error code":n.body.error_code}:{}),{"Reject code":String(n.body.reject_code),"Reject message":n.body.reject_message}):{"HTTP status code":n.status.toString(),"HTTP status text":n.statusText})),this.requestId=r,this.response=n}},lt=Symbol.for("ic-agent-metadata"),cl=class ul{constructor(t){this[lt]=Object.freeze(t)}static agentOf(t){return t[lt].config.agent}static interfaceOf(t){return t[lt].service}static canisterIdOf(t){return Ae.from(t[lt].config.canisterId)}static async install(t,r){let n=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],s=[...new Uint8Array(t.module)],a=typeof r.canisterId=="string"?Ae.fromText(r.canisterId):r.canisterId;await yo(r).install_code({mode:n,arg:i,wasm_module:s,canister_id:a,sender_canister_version:[]})}static async createCanister(t,r){function n(s){return[{controllers:s.controllers?[s.controllers]:[],compute_allocation:s.compute_allocation?[s.compute_allocation]:[],freezing_threshold:s.freezing_threshold?[s.freezing_threshold]:[],memory_allocation:s.memory_allocation?[s.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[]}]}let{canister_id:i}=await yo(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,r,n){let i=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:i}))}static createActorClass(t,r){let n=t({IDL:en});class i extends ul{constructor(a){if(!a.canisterId)throw new ht(`Canister ID is required, but received ${typeof a.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);let c=typeof a.canisterId=="string"?Ae.fromText(a.canisterId):a.canisterId;super({config:Object.assign(Object.assign(Object.assign({},ll),a),{canisterId:c}),service:n});for(let[u,d]of n._fields)r!=null&&r.httpDetails&&d.annotations.push($s),this[u]=fp(this,u,d,a.blsVerify)}}return i}static createActor(t,r){if(!r.canisterId)throw new ht(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}};function $n(e,t){let r=en.decode(e,n0.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}var ll={pollingStrategyFactory:el.defaultStrategy},$s="http-details";function fp(e,t,r,n){let i;r.annotations.includes("query")||r.annotations.includes("composite_query")?i=async(a,...c)=>{var u,d;a=Object.assign(Object.assign({},a),(d=(u=e[lt].config).queryTransform)===null||d===void 0?void 0:d.call(u,t,c,Object.assign(Object.assign({},e[lt].config),a)));let f=a.agent||e[lt].config.agent||go(),y=Ae.from(a.canisterId||e[lt].config.canisterId),O=en.encode(r.argTypes,c),p=await f.query(y,{methodName:t,arg:O,effectiveCanisterId:a.effectiveCanisterId});switch(p.status){case"rejected":throw new up(y,t,p);case"replied":return r.annotations.includes($s)?{httpDetails:p.httpDetails,result:$n(r.retTypes,p.reply.arg)}:$n(r.retTypes,p.reply.arg)}}:i=async(a,...c)=>{var u,d;a=Object.assign(Object.assign({},a),(d=(u=e[lt].config).callTransform)===null||d===void 0?void 0:d.call(u,t,c,Object.assign(Object.assign({},e[lt].config),a)));let f=a.agent||e[lt].config.agent||go(),{canisterId:y,effectiveCanisterId:O,pollingStrategyFactory:p}=Object.assign(Object.assign(Object.assign({},ll),e[lt].config),a),g=Ae.from(y),w=O!==void 0?Ae.from(O):g,B=en.encode(r.argTypes,c),{requestId:L,response:k}=await f.call(g,{methodName:t,arg:B,effectiveCanisterId:w});if(!k.ok||k.body)throw new lp(g,t,L,k);let F=p(),Q=await al(f,w,L,F,n),X=r.annotations.includes($s);if(Q!==void 0)return X?{httpDetails:k,result:$n(r.retTypes,Q)}:$n(r.retTypes,Q);if(r.retTypes.length===0)return X?{httpDetails:k,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};let s=(...a)=>i({},...a);return s.withOptions=a=>(...c)=>i(a,...c),s}function yo(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:Ae.from(e.effectiveCanisterId)};let i=n[0],s=Ae.fromHex("");return i&&typeof i=="object"&&i.canister_id&&(s=Ae.from(i.canister_id)),{effectiveCanisterId:s}}return cl.createActor(cp,Object.assign(Object.assign(Object.assign({},e),{canisterId:Ae.fromHex("")}),{callTransform:t,queryTransform:t}))}var yi=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},Yt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Jn,Xn,xr,Ir;function bo(e){return e!==null&&typeof e=="object"}var Qn=class Hr{constructor(t){if(Jn.set(this,void 0),Xn.set(this,void 0),t.byteLength!==Hr.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");yi(this,Jn,t),yi(this,Xn,Hr.derEncode(t))}static from(t){if(typeof t=="string"){let r=Lt(t);return this.fromRaw(r)}else if(bo(t)){let r=t;if(bo(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){let n=r;return this.fromRaw(zs(n.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new Hr(t)}static fromDer(t){return new Hr(this.derDecode(t))}static derEncode(t){let r=zu(t,gi).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){let r=Hu(t,gi);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return Yt(this,Jn,"f")}get derKey(){return Yt(this,Xn,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Jn=new WeakMap,Xn=new WeakMap;Qn.RAW_KEY_LENGTH=32;var Wi=class Gr extends ea{constructor(t,r){super(),xr.set(this,void 0),Ir.set(this,void 0),yi(this,xr,Qn.from(t)),yi(this,Ir,new Uint8Array(r))}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=vr.utils.randomPrivateKey()),wc(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");let r=new Uint8Array(32);for(let i=0;i<32;i++)r[i]=new Uint8Array(t)[i];let n=vr.getPublicKey(r);return Gr.fromKeyPair(n,r)}static fromParsedJson(t){let[r,n]=t;return new Gr(Qn.fromDer(Lt(r)),Lt(n))}static fromJSON(t){let r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Gr(Qn.fromRaw(t),r)}static fromSecretKey(t){let r=vr.getPublicKey(new Uint8Array(t));return Gr.fromKeyPair(r,t)}toJSON(){return[Qe(Yt(this,xr,"f").toDer()),Qe(Yt(this,Ir,"f"))]}getKeyPair(){return{secretKey:Yt(this,Ir,"f"),publicKey:Yt(this,xr,"f")}}getPublicKey(){return Yt(this,xr,"f")}async sign(t){let r=new Uint8Array(t),n=Zr(vr.sign(r,Yt(this,Ir,"f").slice(0,32)));return Object.defineProperty(n,"__signature__",{enumerable:!1,value:void 0}),n}static verify(t,r,n){let[i,s,a]=[t,r,n].map(c=>(typeof c=="string"&&(c=Lt(c)),c instanceof Uint8Array&&(c=c.buffer),new Uint8Array(c)));return vr.verify(s,i,a)}};xr=new WeakMap,Ir=new WeakMap;var hp=class fl extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,fl.prototype)}};function mo(e){if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.subtle)return globalThis.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new hp("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}var wo=class hl extends ea{constructor(t,r,n){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=n}static async generate(t){let{extractable:r=!1,keyUsages:n=["sign","verify"],subtleCrypto:i}=t??{},s=mo(i),a=await s.generateKey({name:"ECDSA",namedCurve:"P-256"},r,n),c=await s.exportKey("spki",a.publicKey);return new this(a,c,s)}static async fromKeyPair(t,r){let n=mo(r),i=await n.exportKey("spki",t.publicKey);return new hl(t,i,n)}getKeyPair(){return this._keyPair}getPublicKey(){let t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){let r={name:"ECDSA",hash:{name:"SHA-256"}};return this._keyPair.privateKey,await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}},jr=rr(Ii()),dp=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},Mr=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Gt,pp=class{constructor(e){Gt.set(this,void 0),dp(this,Gt,e)}get rawKey(){return Mr(this,Gt,"f").rawKey}get derKey(){return Mr(this,Gt,"f").derKey}toDer(){return Mr(this,Gt,"f").toDer()}getPublicKey(){return Mr(this,Gt,"f")}getPrincipal(){return Ae.from(Mr(this,Gt,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}};Gt=new WeakMap;var gp=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},yp=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},bp=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},ei,mp=new TextEncoder().encode("ic-request-auth-delegation"),wp=new TextEncoder().encode(`
ic-request`);function Zi(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Lt(e)}var ia=class{constructor(e,t,r){this.pubkey=e,this.expiration=t,this.targets=r}toCBOR(){return jr.value.map(Object.assign({pubkey:jr.value.bytes(this.pubkey),expiration:jr.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:jr.value.array(this.targets.map(e=>jr.value.bytes(e.toUint8Array())))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Qe(this.pubkey)},this.targets&&{targets:this.targets.map(e=>e.toHex())})}};async function vp(e,t,r,n){let i=new ia(t.toDer(),BigInt(+r)*BigInt(1e6),n),s=new Uint8Array([...mp,...new Uint8Array(rn(i))]),a=await e.sign(s);return{delegation:i,signature:a}}var vo=class dl{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,n=new Date(Date.now()+15*60*1e3),i={}){var s,a;let c=await vp(t,r,n,i.targets);return new dl([...((s=i.previous)===null||s===void 0?void 0:s.delegations)||[],c],((a=i.previous)===null||a===void 0?void 0:a.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){let{publicKey:r,delegations:n}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(n))throw new Error("Invalid delegations.");let i=n.map(s=>{let{delegation:a,signature:c}=s,{pubkey:u,expiration:d,targets:f}=a;if(f!==void 0&&!Array.isArray(f))throw new Error("Invalid targets.");return{delegation:new ia(Zi(u),BigInt("0x"+d),f&&f.map(y=>{if(typeof y!="string")throw new Error("Invalid target.");return Ae.fromHex(y)})),signature:Zi(c)}});return new this(i,Zi(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{let{delegation:r,signature:n}=t,{targets:i}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:Qe(r.pubkey)},i&&{targets:i.map(s=>s.toHex())}),signature:Qe(n)}}),publicKey:Qe(this.publicKey)}}},_o=class extends ea{constructor(e,t){super(),this._inner=e,this._delegation=t}static fromDelegation(e,t){return new this(e,t)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){let{body:t}=e,r=bp(e,["body"]),n=await rn(t);return Object.assign(Object.assign({},r),{body:{content:t,sender_sig:await this.sign(new Uint8Array([...wp,...new Uint8Array(n)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}},Eo=class pl extends pp{constructor(t,r){super(t),ei.set(this,void 0),gp(this,ei,r)}get delegation(){return yp(this,ei,"f")}static fromDelegation(t,r){return new pl(t,r)}};ei=new WeakMap;function _p(e,t){for(let{delegation:n}of e.delegations)if(+new Date(Number(n.expiration/BigInt(1e6)))<=+Date.now())return!1;let r=[];for(let n of r){let i=n.toText();for(let{delegation:s}of e.delegations){if(s.targets===void 0)continue;let a=!0;for(let c of s.targets)if(c.toText()===i){a=!1;break}if(a)return!1}}return!0}rr(js());var Ao;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Ao||(Ao={}));var xo=["mousedown","mousemove","keydown","touchstart","wheel"],Io=class{constructor(e={}){var t;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;let{onIdle:r,idleTimeout:n=10*60*1e3}=e||{};this.callbacks=r?[r]:[],this.idleTimeout=n;let i=this._resetTimer.bind(this);window.addEventListener("load",i,!0),xo.forEach(function(a){document.addEventListener(a,i,!0)});let s=(a,c)=>{let u;return(...d)=>{let f=this,y=function(){u=void 0,a.apply(f,d)};clearTimeout(u),u=window.setTimeout(y,c)}};if(e!=null&&e.captureScroll){let a=s(i,(t=e==null?void 0:e.scrollDebounce)!==null&&t!==void 0?t:100);window.addEventListener("scroll",a,!0)}i()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);let e=this._resetTimer.bind(this);xo.forEach(function(t){document.removeEventListener(t,e,!0)}),this.callbacks.forEach(t=>t())}_resetTimer(){let e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}},Ep=(e,t)=>t.some(r=>e instanceof r),To,Bo;function Ap(){return To||(To=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xp(){return Bo||(Bo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gl=new WeakMap,Rs=new WeakMap,yl=new WeakMap,Ji=new WeakMap,sa=new WeakMap;function Ip(e){let t=new Promise((r,n)=>{let i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{r(er(e.result)),i()},a=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&gl.set(r,e)}).catch(()=>{}),sa.set(t,e),t}function Tp(e){if(Rs.has(e))return;let t=new Promise((r,n)=>{let i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Rs.set(e,t)}var Us={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Rs.get(e);if(t==="objectStoreNames")return e.objectStoreNames||yl.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return er(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Bp(e){Us=e(Us)}function Sp(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){let n=e.call(Xi(this),t,...r);return yl.set(n,t.sort?t.sort():[t]),er(n)}:xp().includes(e)?function(...t){return e.apply(Xi(this),t),er(gl.get(this))}:function(...t){return er(e.apply(Xi(this),t))}}function Np(e){return typeof e=="function"?Sp(e):(e instanceof IDBTransaction&&Tp(e),Ep(e,Ap())?new Proxy(e,Us):e)}function er(e){if(e instanceof IDBRequest)return Ip(e);if(Ji.has(e))return Ji.get(e);let t=Np(e);return t!==e&&(Ji.set(e,t),sa.set(t,e)),t}var Xi=e=>sa.get(e);function Op(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){let a=indexedDB.open(e,t),c=er(a);return n&&a.addEventListener("upgradeneeded",u=>{n(er(a.result),u.oldVersion,u.newVersion,er(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var $p=["get","getKey","getAll","getAllKeys","count"],Rp=["put","add","delete","clear"],Qi=new Map;function So(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qi.get(t))return Qi.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=Rp.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$p.includes(r)))return;let s=async function(a,...c){let u=this.transaction(a,i?"readwrite":"readonly"),d=u.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[r](...c),i&&u.done]))[0]};return Qi.set(t,s),s}Bp(e=>({...e,get:(t,r,n)=>So(t,r)||e.get(t,r,n),has:(t,r)=>!!So(t,r)||e.has(t,r)}));var bl="auth-client-db",ml="ic-keyval",Up=async(e=bl,t=ml,r)=>(vl&&localStorage!=null&&localStorage.getItem(Jt)&&(localStorage.removeItem(Jt),localStorage.removeItem(Wt)),await Op(e,r,{upgrade:n=>{n.objectStoreNames,n.objectStoreNames.contains(t)&&n.clear(t),n.createObjectStore(t)}}));async function Pp(e,t,r){return await e.get(t,r)}async function Lp(e,t,r,n){return await e.put(t,n,r)}async function kp(e,t,r){return await e.delete(t,r)}var Cp=class wl{constructor(t,r){this._db=t,this._storeName=r}static async create(t){let{dbName:r=bl,storeName:n=ml,version:i=Mp}=t??{},s=await Up(r,n,i);return new wl(s,n)}async set(t,r){return await Lp(this._db,this._storeName,t,r)}async get(t){var r;return(r=await Pp(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await kp(this._db,this._storeName,t)}},Fp=function(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},Dp=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):t.get(e)},ti,Wt="identity",Jt="delegation",jp="iv",Mp=1,vl=typeof window<"u",Vp=class{constructor(e="ic-",t){this.prefix=e,this._localStorage=t}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,t){return this._getLocalStorage().setItem(this.prefix+e,t),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;let e=typeof window>"u"?typeof globalThis>"u"?typeof self>"u"?void 0:self.localStorage:globalThis.localStorage:window.localStorage;if(!e)throw new Error("Could not find local storage.");return e}},qp=class{constructor(e){ti.set(this,void 0),Fp(this,ti,e??{})}get _db(){return new Promise(e=>{if(this.initializedDb){e(this.initializedDb);return}Cp.create(Dp(this,ti,"f")).then(t=>{this.initializedDb=t,e(t)})})}async get(e){return await(await this._db).get(e)}async set(e,t){await(await this._db).set(e,t)}async remove(e){await(await this._db).remove(e)}};ti=new WeakMap;var zp="https://identity.ic0.app",Hp="#authorize",es="ECDSA",ts="Ed25519",Gp=500,Kp="UserInterrupt",Yp=class{constructor(e,t,r,n,i,s,a,c){this._identity=e,this._key=t,this._chain=r,this._storage=n,this.idleManager=i,this._createOptions=s,this._idpWindow=a,this._eventHandler=c,this._registerDefaultIdleCallback()}static async create(e={}){var t,r,n;let i=(t=e.storage)!==null&&t!==void 0?t:new qp,s=(r=e.keyType)!==null&&r!==void 0?r:es,a=null;if(e.identity)a=e.identity;else{let f=await i.get(Wt);if(!f&&vl)try{let y=new Vp,O=await y.get(Jt),p=await y.get(Wt);O&&p&&s===es&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await i.set(Jt,O),await i.set(Wt,p),f=O,await y.remove(Jt),await y.remove(Wt))}catch(y){console.error("error while attempting to recover localstorage: "+y)}if(f)try{typeof f=="object"?s===ts&&typeof f=="string"?a=await Wi.fromJSON(f):a=await wo.fromKeyPair(f):typeof f=="string"&&(a=Wi.fromJSON(f))}catch{}}let c=new pi,u=null;if(a)try{let f=await i.get(Jt);if(typeof f=="object"&&f!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?c=e.identity:f&&(u=vo.fromJSON(f),_p(u)?"toDer"in a?c=Eo.fromDelegation(a,u):c=_o.fromDelegation(a,u):(await rs(i),a=null))}catch(f){console.error(f),await rs(i),a=null}let d;return!((n=e.idleOptions)===null||n===void 0)&&n.disableIdle?d=void 0:(u||e.identity)&&(d=Io.create(e.idleOptions)),a||(s===ts?(a=await Wi.generate(),await i.set(Wt,JSON.stringify(a.toJSON()))):(e.storage&&s===es&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${ts}' as the key type, as it can serialize to a string`),a=await wo.generate(),await i.set(Wt,a.getKeyPair()))),new this(c,a,u,i,d,e)}_registerDefaultIdleCallback(){var e,t;let r=(e=this._createOptions)===null||e===void 0?void 0:e.idleOptions;!(r!=null&&r.onIdle)&&!(r!=null&&r.disableDefaultIdleCallback)&&((t=this.idleManager)===null||t===void 0||t.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(e,t){var r,n;let i=e.delegations.map(u=>({delegation:new ia(u.delegation.pubkey,u.delegation.expiration,u.delegation.targets),signature:u.signature.buffer})),s=vo.fromDelegations(i,e.userPublicKey.buffer),a=this._key;if(!a)return;this._chain=s,"toDer"in a?this._identity=Eo.fromDelegation(a,this._chain):this._identity=_o.fromDelegation(a,this._chain),(r=this._idpWindow)===null||r===void 0||r.close();let c=(n=this._createOptions)===null||n===void 0?void 0:n.idleOptions;!this.idleManager&&!(c!=null&&c.disableIdle)&&(this.idleManager=Io.create(c),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Jt,JSON.stringify(this._chain.toJSON())),t==null||t(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(e){var t,r,n,i;let s=BigInt(8)*BigInt(36e11),a=new URL(((t=e==null?void 0:e.identityProvider)===null||t===void 0?void 0:t.toString())||zp);a.hash=Hp,(r=this._idpWindow)===null||r===void 0||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(a,Object.assign({maxTimeToLive:(n=e==null?void 0:e.maxTimeToLive)!==null&&n!==void 0?n:s},e)),window.addEventListener("message",this._eventHandler),this._idpWindow=(i=window.open(a.toString(),"idpWindow",e==null?void 0:e.windowOpenerFeatures))!==null&&i!==void 0?i:void 0;let c=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(Kp,e==null?void 0:e.onError):setTimeout(c,Gp))};c()}_getEventHandler(e,t){return async r=>{var n,i,s;if(r.origin!==e.origin){console.warn(`WARNING: expected origin '${e.origin}', got '${r.origin}' (ignoring)`);return}let a=r.data;switch(a.kind){case"authorize-ready":{let c=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((n=this._key)===null||n===void 0?void 0:n.getPublicKey().toDer()),maxTimeToLive:t==null?void 0:t.maxTimeToLive,allowPinAuthentication:t==null?void 0:t.allowPinAuthentication,derivationOrigin:(i=t==null?void 0:t.derivationOrigin)===null||i===void 0?void 0:i.toString()},t==null?void 0:t.customValues);(s=this._idpWindow)===null||s===void 0||s.postMessage(c,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(a,t==null?void 0:t.onSuccess)}catch(c){this._handleFailure(c.message,t==null?void 0:t.onError)}break;case"authorize-client-failure":this._handleFailure(a.text,t==null?void 0:t.onError);break}}}_handleFailure(e,t){var r;(r=this._idpWindow)===null||r===void 0||r.close(),t==null||t(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await rs(this._storage),this._identity=new pi,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch{window.location.href=e.returnTo}}};async function rs(e){await e.remove(Wt),await e.remove(Jt),await e.remove(jp)}var _l=()=>Yp.create({idleOptions:{disableIdle:!0,disableDefaultIdleCallback:!0}}),Wp=async e=>{let{data:t,version:r,description:n}=e;return{description:to(n),data:await Gd(t),version:to(r)}},El=async({doc:e,key:t})=>{let{owner:r,version:n,description:i,data:s,...a}=e;return{key:t,description:Es(i),owner:r.toText(),data:await Kd(s),version:Es(n),...a}},Zp=({IDL:e})=>{let t=e.Record({batch_id:e.Nat,headers:e.Vec(e.Tuple(e.Text,e.Text)),chunk_ids:e.Vec(e.Nat)}),r=e.Record({controllers:e.Vec(e.Principal)}),n=e.Variant({Write:e.Null,Admin:e.Null}),i=e.Record({updated_at:e.Nat64,metadata:e.Vec(e.Tuple(e.Text,e.Text)),created_at:e.Nat64,scope:n,expires_at:e.Opt(e.Nat64)}),s=e.Record({version:e.Opt(e.Nat64)}),a=e.Variant({Db:e.Null,Storage:e.Null}),c=e.Record({cycles:e.Nat,destination_id:e.Principal}),u=e.Record({token:e.Opt(e.Text),collection:e.Text,owner:e.Principal,name:e.Text,description:e.Opt(e.Text),full_path:e.Text}),d=e.Record({modified:e.Nat64,sha256:e.Vec(e.Nat8),total_length:e.Nat}),f=e.Record({key:u,updated_at:e.Nat64,encodings:e.Vec(e.Tuple(e.Text,d)),headers:e.Vec(e.Tuple(e.Text,e.Text)),created_at:e.Nat64,version:e.Opt(e.Nat64)}),y=e.Record({derivation_origin:e.Opt(e.Text)}),O=e.Record({internet_identity:e.Opt(y)}),p=e.Variant({Deny:e.Null,AllowAny:e.Null,SameOrigin:e.Null}),g=e.Variant({Deny:e.Null,Allow:e.Null}),w=e.Record({status_code:e.Nat16,location:e.Text}),B=e.Record({iframe:e.Opt(p),rewrites:e.Vec(e.Tuple(e.Text,e.Text)),headers:e.Vec(e.Tuple(e.Text,e.Vec(e.Tuple(e.Text,e.Text)))),raw_access:e.Opt(g),redirects:e.Opt(e.Vec(e.Tuple(e.Text,w)))}),L=e.Record({storage:B}),k=e.Record({updated_at:e.Nat64,owner:e.Principal,data:e.Vec(e.Nat8),description:e.Opt(e.Text),created_at:e.Nat64,version:e.Opt(e.Nat64)}),F=e.Record({url:e.Text,method:e.Text,body:e.Vec(e.Nat8),headers:e.Vec(e.Tuple(e.Text,e.Text)),certificate_version:e.Opt(e.Nat16)}),Q=e.Variant({Heap:e.Null,Stable:e.Null}),X=e.Record({memory:Q,token:e.Opt(e.Text),sha256:e.Opt(e.Vec(e.Nat8)),headers:e.Vec(e.Tuple(e.Text,e.Text)),index:e.Nat64,encoding_type:e.Text,full_path:e.Text}),te=e.Variant({Callback:e.Record({token:X,callback:e.Func([],[],["query"])})}),G=e.Record({body:e.Vec(e.Nat8),headers:e.Vec(e.Tuple(e.Text,e.Text)),streaming_strategy:e.Opt(te),status_code:e.Nat16}),K=e.Record({token:e.Opt(X),body:e.Vec(e.Nat8)}),ge=e.Record({token:e.Opt(e.Text),collection:e.Text,name:e.Text,description:e.Opt(e.Text),encoding_type:e.Opt(e.Text),full_path:e.Text}),I=e.Record({batch_id:e.Nat}),N=e.Variant({UpdatedAt:e.Null,Keys:e.Null,CreatedAt:e.Null}),se=e.Record({field:N,desc:e.Bool}),ie=e.Record({key:e.Opt(e.Text),description:e.Opt(e.Text)}),x=e.Record({start_after:e.Opt(e.Text),limit:e.Opt(e.Nat64)}),Z=e.Record({order:e.Opt(se),owner:e.Opt(e.Principal),matcher:e.Opt(ie),paginate:e.Opt(x)}),z=e.Record({matches_pages:e.Opt(e.Nat64),matches_length:e.Nat64,items_page:e.Opt(e.Nat64),items:e.Vec(e.Tuple(e.Text,f)),items_length:e.Nat64}),M=e.Record({updated_at:e.Nat64,created_at:e.Nat64,version:e.Opt(e.Nat64),bn_id:e.Opt(e.Text)}),V=e.Record({matches_pages:e.Opt(e.Nat64),matches_length:e.Nat64,items_page:e.Opt(e.Nat64),items:e.Vec(e.Tuple(e.Text,k)),items_length:e.Nat64}),ee=e.Variant({Controllers:e.Null,Private:e.Null,Public:e.Null,Managed:e.Null}),oe=e.Record({max_capacity:e.Opt(e.Nat32),memory:e.Opt(Q),updated_at:e.Nat64,max_size:e.Opt(e.Nat),read:ee,created_at:e.Nat64,version:e.Opt(e.Nat64),mutable_permissions:e.Opt(e.Bool),write:ee}),ae=e.Record({stable:e.Nat64,heap:e.Nat64}),le=e.Record({metadata:e.Vec(e.Tuple(e.Text,e.Text)),scope:n,expires_at:e.Opt(e.Nat64)}),de=e.Record({controller:le,controllers:e.Vec(e.Principal)}),E=e.Record({data:e.Vec(e.Nat8),description:e.Opt(e.Text),version:e.Opt(e.Nat64)}),q=e.Record({max_capacity:e.Opt(e.Nat32),memory:e.Opt(Q),max_size:e.Opt(e.Nat),read:ee,version:e.Opt(e.Nat64),mutable_permissions:e.Opt(e.Bool),write:ee}),ye=e.Record({content:e.Vec(e.Nat8),batch_id:e.Nat,order_id:e.Opt(e.Nat)}),Ie=e.Record({chunk_id:e.Nat});return e.Service({build_version:e.Func([],[e.Text],["query"]),commit_asset_upload:e.Func([t],[],[]),count_assets:e.Func([e.Text],[e.Nat64],["query"]),count_docs:e.Func([e.Text],[e.Nat64],["query"]),del_asset:e.Func([e.Text,e.Text],[],[]),del_assets:e.Func([e.Text],[],[]),del_controllers:e.Func([r],[e.Vec(e.Tuple(e.Principal,i))],[]),del_custom_domain:e.Func([e.Text],[],[]),del_doc:e.Func([e.Text,e.Text,s],[],[]),del_docs:e.Func([e.Text],[],[]),del_many_assets:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[],[]),del_many_docs:e.Func([e.Vec(e.Tuple(e.Text,e.Text,s))],[],[]),del_rule:e.Func([a,e.Text,s],[],[]),deposit_cycles:e.Func([c],[],[]),get_asset:e.Func([e.Text,e.Text],[e.Opt(f)],["query"]),get_auth_config:e.Func([],[e.Opt(O)],["query"]),get_config:e.Func([],[L],[]),get_doc:e.Func([e.Text,e.Text],[e.Opt(k)],["query"]),get_many_assets:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[e.Vec(e.Tuple(e.Text,e.Opt(f)))],["query"]),get_many_docs:e.Func([e.Vec(e.Tuple(e.Text,e.Text))],[e.Vec(e.Tuple(e.Text,e.Opt(k)))],["query"]),http_request:e.Func([F],[G],["query"]),http_request_streaming_callback:e.Func([X],[K],["query"]),init_asset_upload:e.Func([ge],[I],[]),list_assets:e.Func([e.Text,Z],[z],["query"]),list_controllers:e.Func([],[e.Vec(e.Tuple(e.Principal,i))],["query"]),list_custom_domains:e.Func([],[e.Vec(e.Tuple(e.Text,M))],["query"]),list_docs:e.Func([e.Text,Z],[V],["query"]),list_rules:e.Func([a],[e.Vec(e.Tuple(e.Text,oe))],["query"]),memory_size:e.Func([],[ae],["query"]),set_auth_config:e.Func([O],[],[]),set_config:e.Func([L],[],[]),set_controllers:e.Func([de],[e.Vec(e.Tuple(e.Principal,i))],[]),set_custom_domain:e.Func([e.Text,e.Opt(e.Text)],[],[]),set_doc:e.Func([e.Text,e.Text,E],[k],[]),set_many_docs:e.Func([e.Vec(e.Tuple(e.Text,e.Text,E))],[e.Vec(e.Tuple(e.Text,k))],[]),set_rule:e.Func([a,e.Text,q],[],[]),upload_asset_chunk:e.Func([ye],[Ie],[]),version:e.Func([],[e.Text],["query"])})},Jp=async({satelliteId:e,idlFactory:t,identity:r,fetch:n,container:i})=>{let s=dt(i)&&i!==!1?i===!0?Cu:i:"https://icp-api.io",a=new np({identity:r,host:s,...n&&{fetch:n}});return dt(i)&&await a.fetchRootKey(),cl.createActor(t,{agent:a,canisterId:e})},Xp=({satelliteId:e})=>dt(e)?{satelliteId:e}:an.getInstance().get()??{satelliteId:void 0},Qp=({container:e})=>dt(e)?{container:e}:an.getInstance().get()??{container:void 0},Al=async({satelliteId:e,container:t,...r})=>{let{satelliteId:n}=Xp({satelliteId:e});Lu(n,"No satellite ID defined. Did you initialize Juno?");let{container:i}=Qp({container:t});return Jp({satelliteId:n,container:i,idlFactory:Zp,...r})},eg=async({collection:e,key:t,satellite:r})=>{let n=await Al(r),i=Es(await n.get_doc(e,t));if(!Ft(i))return El({doc:i,key:t})},tg=async({collection:e,doc:t,satellite:r})=>{let{set_doc:n}=await Al(r),{key:i}=t,s=await Wp(t),a=await n(e,i,s);return await El({key:i,doc:a})},xl=e=>e!==void 0?e:Bl()??new pi,rg=async({satellite:e,...t})=>{let r=xl(e==null?void 0:e.identity);return eg({...t,satellite:{...e,identity:r}})},ng=async({satellite:e,...t})=>{let r=xl(e==null?void 0:e.identity);return tg({...t,satellite:{...e,identity:r}})},ig=async e=>{let t=Bl();if(Ft(t))throw new Error("No identity to initialize the user. Have you initialized Juno?");let r=t.getPrincipal().toText(),n=await rg({collection:"#user",key:r});return Ft(n)?await sg({userId:r,provider:e}):n},sg=async({userId:e,...t})=>ng({collection:"#user",doc:{key:e,data:t}}),st,Il=async e=>{if(st=st??await _l(),!(await(st==null?void 0:st.isAuthenticated())??!1))return;let t=await ig(e);Ui.getInstance().set(t)},ag=async e=>new Promise(async(t,r)=>{st=st??await _l();let n=(e==null?void 0:e.provider)??new t0({});await st.login({onSuccess:async()=>{await Il(n.id),t()},onError:i=>r(i),maxTimeToLive:(e==null?void 0:e.maxTimeToLive)??Wd,allowPinAuthentication:(e==null?void 0:e.allowPin)??Zd,...(e==null?void 0:e.derivationOrigin)!==void 0&&{derivationOrigin:e.derivationOrigin},...n.signInOptions({windowed:e==null?void 0:e.windowed})})}),Tl=async()=>{await(st==null?void 0:st.logout()),st=void 0,Ui.getInstance().reset()},Bl=()=>st==null?void 0:st.getIdentity(),og=e=>{let t=e===!0?"./workers/auth.worker.js":e,r=new Worker(t),n=async()=>{ro({message:"junoSignOutAuthTimer"}),await Tl()};return r.onmessage=async({data:i})=>{let{msg:s,data:a}=i;switch(s){case"junoSignOutAuthTimer":await n();return;case"junoDelegationRemainingTime":ro({message:"junoDelegationRemainingTime",detail:a==null?void 0:a.authRemainingTime});return}},Ui.getInstance().subscribe(i=>{if(Ft(i)){r.postMessage({msg:"junoStopAuthTimer"});return}r.postMessage({msg:"junoStartAuthTimer"})})},cg=()=>{let e=()=>typeof import.meta<"u"&&typeof ot<"u"?(ot==null?void 0:ot.VITE_SATELLITE_ID)??(ot==null?void 0:ot.PUBLIC_SATELLITE_ID):void 0;return typeof process<"u"?(Nr==null?void 0:Nr.NEXT_PUBLIC_SATELLITE_ID)??e():e()},ug=()=>{let e=()=>typeof import.meta<"u"&&typeof ot<"u"?(ot==null?void 0:ot.VITE_CONTAINER)??(ot==null?void 0:ot.PUBLIC_CONTAINER):void 0;return typeof process<"u"?(Nr==null?void 0:Nr.NEXT_PUBLIC_CONTAINER)??e():e()},lg=e=>{let t=(e==null?void 0:e.satelliteId)??cg();Lu(t,"Satellite ID is not configured. Juno cannot be initialized.");let r=(e==null?void 0:e.container)??ug();return{satelliteId:t,internetIdentityId:e==null?void 0:e.internetIdentityId,workers:e==null?void 0:e.workers,container:r}},fg=async e=>{var n;let t=lg(e);an.getInstance().set(t),await Il();let r=((n=t.workers)==null?void 0:n.auth)!==void 0?og(t.workers.auth):void 0;return[...r?[r]:[]]},hg=e=>Ui.getInstance().subscribe(e);/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/var No=Object.freeze,Sl=Object.defineProperty,dg=Object.getOwnPropertyDescriptor,Nl=(e,t,r,n)=>{for(var i=n>1?void 0:n?dg(t,r):t,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&Sl(t,r,i),i},pg=(e,t)=>No(Sl(e,"raw",{value:No(e.slice())})),Oo;async function gg(){await fg({satelliteId:"reahh-3qaaa-aaaal-ajmkq-cai"})}gg();async function yg(){await ag({provider:new r0({appName:"EVNTZ",logoUrl:"/EVNTZ/logo/evntz_logo.png"})})}async function bg(){await Tl()}const mg=hg(e=>{console.log("User:",e)});let Ps=class extends Wr{constructor(){super(),this.sortedTransactions={},this.transactions=[],this.getAllTransaction()}async getAllTransaction(){const t=await(await fetch("http://bkyz2-fmaaa-aaaaa-qaaaq-cai.localhost:8000/v1/tickets/all/sorted")).json();this.sortedTransactions=t,this.transactions=t}render(){return ki(Oo||(Oo=pg([`

            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"><\/script>

            <section data-bs-version="5.1" class="counter1 counters cid-ugXs5vm9Vt" id="counter1-1h">
              <div class="container">
                <div class="row justify-content-center">
                  <div class="col-12 content-head">
                    <div class="card-wrapper mb-5">
                      <div class="card-box align-center">

                        <button type="button" class="btn btn-primary" @click=`,`>
                          Fetch all transactions
                        </button>

                        <button type="button" class="btn btn-info" @click=`,`>
                          Sign in with NFID
                        </button>

                        <button type="button" class="btn btn-warning" @click=`,`>
                          Sign out with NFID
                        </button>

                        User: `,`


                        <h5 class="mbr-section-title mbr-fonts-style mb-4 display-1" style="font-weight: 700; font-size: 64px; font-family: Inter Tight, sans-serif; text-align: center;">
                          Transactions
                        </h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row content-row mt-4">
                  <div class="item features-without-image col-12 col-md-6 col-lg-3 item-mb" style="text-align: center;">
                    <div class="item-wrapper">
                      <div class="title mb-3">
                        <h3 class="count mbr-fonts-style display-1">
                          <span style="color: #9fe870; font-weight: 700; text-align: center;" class="align-center">
                            `,`
                          </span>
                        </h3>
                      </div>
                      <h4 class="card-title mbr-fonts-style display-5">
                        <span style="font-weight: 700; font-size: 31.168px; text-align: center;">
                          <strong>Received</strong>
                        </span>
                      </h4>
                    </div>
                  </div>
                  <div class="item features-without-image col-12 col-md-6 col-lg-3 item-mb" style="text-align: center;">
                    <div class="item-wrapper">
                      <div class="title mb-3">
                        <h3 class="count mbr-fonts-style display-1">
                          <span style="color: #9fe870; font-weight: 700; text-align: center;" class="align-center">
                            `,`
                          </span>
                        </h3>
                      </div>
                      <h4 class="card-title mbr-fonts-style display-5">
                        <span style="font-weight: 700; font-size: 31.168px; text-align: center;">
                          <strong>Processed</strong>
                        </span>
                      </h4>
                    </div>
                  </div>
                  <div class="item features-without-image col-12 col-md-6 col-lg-3 item-mb" style="text-align: center;">
                    <div class="item-wrapper">
                      <div class="title mb-3">
                        <h3 class="count mbr-fonts-style display-1">
                          <span style="color: #9fe870; font-weight: 700; text-align: center;" class="align-center">
                            `,`
                          </span>
                        </h3>
                      </div>
                      <h4 class="card-title mbr-fonts-style display-5">
                        <span style="font-weight: 700; font-size: 31.168px; text-align: center;">
                          <strong>NFTs Created</strong>
                        </span>
                      </h4>
                    </div>
                  </div>
                  <div class="item features-without-image col-12 col-md-6 col-lg-3 item-mb" style="text-align: center;">
                    <div class="item-wrapper">
                      <div class="title mb-3">
                        <h3 class="count mbr-fonts-style display-1">
                          <span style="color: #9fe870; font-weight: 700; text-align: center;" class="align-center">
                            `,`
                          </span>
                        </h3>
                      </div>
                      <h4 class="card-title mbr-fonts-style display-5">
                        <span style="font-weight: 700; font-size: 31.168px; text-align: center;">
                          <strong>Active NFTs</strong>
                        </span>
                      </h4>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <br><br>
            
            <div class="container">
              `,`
            </div>
    `])),this.getAllTransaction,yg,bg,mg,Object.keys(this.sortedTransactions).length,Object.keys(this.sortedTransactions).length,Object.keys(this.sortedTransactions).length,Object.keys(this.sortedTransactions).length,this.transactions.map(e=>ki`
                <div class="card my-3">
                  <div class="card-header">
                    <strong>Order ID:</strong> <span class="badge bg-primary">${e.orderId}</span>
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">
                      <span style="color: #52007D">
                        Event: ${e.event.eventName}
                      </span>
                    </h5>
                    <p class="card-text">
                      <strong>Status:</strong> <span class="badge bg-success">${e.status}</span><br>
                      <strong>Operation:</strong> ${e.operation}<br>
                      <strong>Company ID:</strong> ${e.companyId}<br>
                      <strong>User Name:</strong> ${e.user.name}<br>
                      <strong>Email:</strong> ${e.user.email}<br>
                      <strong>Phone:</strong> ${e.user.phone}
                    </p>
                    <h5>Event Details</h5>
                    <p>
                      <strong>Event ID:</strong> ${e.event.eventId}<br>
                      <strong>Artist:</strong> ${e.event.eventArtist}<br>
                      <strong>Venue:</strong> ${e.event.eventVenue}<br>
                      <strong>Country:</strong> ${e.event.eventCountry}<br>
                      <strong>GPS:</strong> ${e.event.eventVenueGPS}<br>
                      <strong>Date and Time:</strong> ${e.event.eventDateTime}<br>
                      <strong>Promoter:</strong> ${e.event.eventPromoterCompany}<br><br>                      
                      <strong>Information:</strong><br>
                      <p><u>${e.event.eventInformation}</u></p>
                    </p>
                    <h5>Seats</h5>
                    <table class="table table-bordered">
                      <thead>
                        <tr>
                          <th>Section</th>
                          <th>Row</th>
                          <th>Seat</th>
                          <th>Price</th>
                          <th>Total</th>
                        </tr>
                      </thead>
                      <tbody>
                        ${e.seats.map(t=>ki`
                          <tr>
                            <td>${t.ticket.ticketSection}</td>
                            <td>${t.ticket.ticketRow}</td>
                            <td>${t.ticket.ticketSeat}</td>
                            <td>${t.ticket.ticketPrice}</td>
                            <td>${t.ticket.ticketTotal}</td>
                          </tr>
                        `)}
                      </tbody>
                    </table>
                  </div>
                </div>
              `))}};Nl([_f()],Ps.prototype,"sortedTransactions",2);Ps=Nl([mf("azle-app")],Ps);const wg=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:Fd,encodePath:ms,fetchNodeKeys:Uu,request:Ru},Symbol.toStringTag,{value:"Module"}));
